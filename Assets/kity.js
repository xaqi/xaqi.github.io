/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
(function(n,t){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){"use strict";function hr(n,t,i){t=t||f;var r,u=t.createElement("script");if(u.text=n,i)for(r in ne)i[r]&&(u[r]=i[r]);t.head.appendChild(u).parentNode.removeChild(u)}function it(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?bt[or.call(n)]||"object":typeof n}function hi(n){var t=!!n&&"length"in n&&n.length,i=it(n);return u(n)||tt(n)?!1:i==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function v(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function li(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):typeof t!="string"?i.grep(n,function(n){return wt.call(t,n)>-1!==r}):i.filter(t,n,r)}function kr(n,t){while((n=n[t])&&n.nodeType!==1);return n}function ie(n){var t={};return i.each(n.match(l)||[],function(n,i){t[i]=!0}),t}function ut(n){return n}function dt(n){throw n;}function dr(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(undefined,[n].slice(r))}catch(n){i.apply(undefined,[n])}}function ni(){f.removeEventListener("DOMContentLoaded",ni);n.removeEventListener("load",ni);i.ready()}function fe(n,t){return t.toUpperCase()}function y(n){return n.replace(re,"ms-").replace(ue,fe)}function at(){this.expando=i.expando+at.uid++}function se(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:ee.test(n)?JSON.parse(n):n}function nu(n,t,i){var r;if(i===undefined&&n.nodeType===1)if(r="data-"+t.replace(oe,"-$&").toLowerCase(),i=n.getAttribute(r),typeof i=="string"){try{i=se(i)}catch(u){}o.set(n,t,i)}else i=undefined;return i}function ru(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||e!=="px"&&+o)&&vt.exec(i.css(n,t));if(f&&f[3]!==e){for(o=o/2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f=f/h;f=f*2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function he(n){var r,f=n.ownerDocument,u=n.nodeName,t=ai[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),t==="none"&&(t="block"),ai[u]=t,t)}function ft(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i],u.style)&&(e=u.style.display,t?(e==="none"&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),u.style.display===""&&ti(u)&&(f[i]=he(u))):e!=="none"&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)f[i]!=null&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return(r=typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName(t||"*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll(t||"*"):[],t===undefined||t&&v(n,t))?i.merge([n],r):r}function vi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function su(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if(e=n[l],e||e===0)if(it(e)==="object")i.merge(y,e.nodeType?[e]:e);else if(ou.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(fu.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);o=h.firstChild;o.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];){if(u&&i.inArray(e,u)>-1){f&&f.push(e);continue}if(w=i.contains(e.ownerDocument,e),o=s(h.appendChild(e),"script"),w&&vi(o),r)for(v=0;e=o[v++];)eu.test(e.type||"")&&r.push(e)}return h}function ri(){return!0}function et(){return!1}function cu(){try{return f.activeElement}catch(n){}}function yi(n,t,r,u,f,e){var o,s;if(typeof t=="object"){typeof r!="string"&&(u=u||r,r=undefined);for(s in t)yi(n,s,r,u,t[s],e);return n}if(u==null&&f==null?(f=r,u=r=undefined):f==null&&(typeof r=="string"?(f=u,u=undefined):(f=u,u=r,r=undefined)),f===!1)f=et;else if(!f)return n;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function lu(n,t){return v(n,"table")&&v(t.nodeType!==11?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function we(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function be(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function au(n,t){var f,c,e,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(e in u)for(f=0,c=u[e].length;f<c;f++)i.event.add(t,e,u[e][f])}o.hasData(n)&&(l=o.access(n),a=i.extend({},l),o.set(t,a))}}function ke(n,t){var i=t.nodeName.toLowerCase();i==="input"&&uu.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function ot(n,t,f,o){t=er.apply([],t);var a,w,l,v,h,b,c=0,y=n.length,d=y-1,p=t[0],k=u(p);if(k||y>1&&typeof p=="string"&&!e.checkClone&&ye.test(p))return n.each(function(i){var r=n.eq(i);k&&(t[0]=p.call(this,i,r.html()));ot(r,t,f,o)});if(y&&(a=su(t,n[0].ownerDocument,!1,n,o),w=a.firstChild,a.childNodes.length===1&&(a=w),w||o)){for(l=i.map(s(a,"script"),we),v=l.length;c<y;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(b=l[l.length-1].ownerDocument,i.map(l,be),c=0;c<v;c++)h=l[c],eu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(b,h)&&(h.src&&(h.type||"").toLowerCase()!=="module"?i._evalUrl&&i._evalUrl(h.src):hr(h.textContent.replace(pe,""),b,h))}return n}function vu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;(u=e[f])!=null;f++)r||u.nodeType!==1||i.cleanData(s(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&vi(s(u,"script")),u.parentNode.removeChild(u));return n}function yt(n,t,r){var o,s,h,u,f=n.style;return r=r||ui(n),r&&(u=r.getPropertyValue(t)||r[t],u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),!e.pixelBoxStyles()&&pi.test(u)&&de.test(t)&&(o=f.width,s=f.minWidth,h=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=o,f.minWidth=s,f.maxWidth=h)),u!==undefined?u+"":u}function yu(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function to(n){if(n in ku)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=bu.length;t--;)if(n=bu[t]+i,n in ku)return n}function du(n){var t=i.cssProps[n];return t||(t=i.cssProps[n]=to(n)||n),t}function gu(n,t,i){var r=vt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function wi(n,t,r,u,f,e){var o=t==="width"?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)r==="margin"&&(s+=i.css(n,r+w[o],!0,f)),u?(r==="content"&&(s-=i.css(n,"padding"+w[o],!0,f)),r!=="margin"&&(s-=i.css(n,"border"+w[o]+"Width",!0,f))):(s+=i.css(n,"padding"+w[o],!0,f),r!=="padding"?s+=i.css(n,"border"+w[o]+"Width",!0,f):h+=i.css(n,"border"+w[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))),s}function nf(n,t,r){var f=ui(n),u=yt(n,t,f),s=i.css(n,"boxSizing",!1,f)==="border-box",o=s;if(pi.test(u)){if(!r)return u;u="auto"}return o=o&&(e.boxSizingReliable()||u===n.style[t]),u!=="auto"&&(parseFloat(u)||i.css(n,"display",!1,f)!=="inline")||(u=n["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),u=parseFloat(u)||0,u+wi(n,t,r||(s?"border":"content"),o,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function bi(){fi&&(f.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(bi):n.setTimeout(bi,i.fx.interval),i.fx.tick())}function uf(){return n.setTimeout(function(){st=undefined}),st=Date.now()}function ei(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function ff(n,t,i){for(var u,f=(a.tweeners[t]||[]).concat(a.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function io(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&ti(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),c.unqueued==null&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],tf.test(y)){if(delete t[f],w=w||y==="toggle",y===(a?"hide":"show"))if(y==="show"&&e&&e[f]!==undefined)a=!0;else continue;p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&n.nodeType===1&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,o==null&&(o=r.get(n,"display")),l=i.css(n,"display"),l==="none"&&(o?l=o:(ft([n],!0),o=n.style.display||o,l=i.css(n,"display"),ft([n]))),(l==="inline"||l==="inline-block"&&o!=null)&&i.css(n,"float")==="none"&&(s||(v.done(function(){h.display=o}),o==null&&(l=h.display,o=l==="none"?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always(function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]}));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&ft([n],!0),v.done(function(){a||ft([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),s=ff(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function ro(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function a(n,t,r){var o,s,h=0,v=a.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=st||uf(),t=Math.max(0,f.startTime+f.duration-o),h=t/f.duration||0,i=1-h,r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return(e.notifyWith(n,[f,i,t]),i<1&&u)?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||uf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(ro(c,f.opts.specialEasing);h<v;h++)if(o=a.prefilters[h].call(f,n,c,f.opts),o)return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,ff,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function g(n){var t=n.match(l)||[];return t.join(" ")}function nt(n){return n.getAttribute&&n.getAttribute("class")||""}function ki(n){return Array.isArray(n)?n:typeof n=="string"?n.match(l)||[]:[]}function tr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||uo.test(n)?u(n,i):tr(n+"["+(typeof i=="object"&&i!=null?t:"")+"]",i,r,u)});else if(r||it(t)!=="object")u(n,t);else for(f in t)tr(n+"["+f+"]",t[f],r,u)}function yf(n){return function(t,i){typeof t!="string"&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(l)||[];if(u(i))while(r=e[f++])r[0]==="+"?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function pf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===ir;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ur(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function vo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function yo(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var k=[],f=n.document,df=Object.getPrototypeOf,d=k.slice,er=k.concat,si=k.push,wt=k.indexOf,bt={},or=bt.toString,kt=bt.hasOwnProperty,sr=kt.toString,gf=sr.call(Object),e={},u=function(n){return typeof n=="function"&&typeof n.nodeType!="number"},tt=function(n){return n!=null&&n===n.window},ne={type:!0,src:!0,noModule:!0},cr="3.3.1",i=function(n,t){return new i.fn.init(n,t)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b,ci,vr,yr,pr,wr,br,l,gr,gt,lt,ai,ou,st,fi,tf,rf,ef,ht,of,sf,hf,di,gi,wf,ct,fr,oi,bf,kf;i.fn=i.prototype={jquery:cr,constructor:i,length:0,toArray:function(){return d.call(this)},get:function(n){return n==null?d.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:si,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var o,e,r,t,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[f]||{},f++),typeof n=="object"||u(n)||(n={}),f===l&&(n=this,f--);f<l;f++)if((o=arguments[f])!=null)for(e in o)(r=n[e],t=o[e],n!==t)&&(c&&t&&(i.isPlainObject(t)||(s=Array.isArray(t)))?(s?(s=!1,h=r&&Array.isArray(r)?r:[]):h=r&&i.isPlainObject(r)?r:{},n[e]=i.extend(c,h,t)):t!==undefined&&(n[e]=t));return n};i.extend({expando:"jQuery"+(cr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!n||or.call(n)!=="[object Object]"?!1:(t=df(n),!t)?!0:(i=kt.call(t,"constructor")&&t.constructor,typeof i=="function"&&sr.call(i)===gf)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n){hr(n)},each:function(n,t){var r,i=0;if(hi(n)){for(r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(te,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(hi(Object(n))?i.merge(r,typeof n=="string"?[n]:n):si.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:wt.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(hi(n))for(e=n.length;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return er.apply([],f)},guid:1,support:e});typeof Symbol=="function"&&(i.fn[Symbol.iterator]=k[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){bt["[object "+t+"]"]=t.toLowerCase()});b=function(n){function u(n,t,r,u){var s,w,l,a,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],typeof n!="string"||!n||v!==1&&v!==9&&v!==11)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(v!==11&&(d=cr.exec(n)))if(s=d[1]){if(v===9)if(l=t.getElementById(s)){if(l.id===s)return r.push(l),r}else return r;else if(p&&(l=p.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=d[3])&&e.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(e.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(v!==1)p=t,g=n;else if(t.nodeName.toLowerCase()!=="object"){for((a=t.getAttribute("id"))?a=a.replace(vi,yi):t.setAttribute("id",a=f),y=ft(n),w=y.length;w--;)y[w]="#"+a+" "+yt(y[w]);g=y.join(",");p=ni.test(n)&&ri(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(nt){}finally{a===f&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ti(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[f]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function vr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function bi(n){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&lr(t)===n:t.disabled===n:"label"in t?t.disabled===n:!1}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function ki(){}function yt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function pt(n,t,i){var r=t.dir,u=t.next,e=u||r,o=i&&e==="parentNode",s=di++;return t.first?function(t,i,u){while(t=t[r])if(t.nodeType===1||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((t.nodeType===1||o)&&n(t,i,h))return!0}else while(t=t[r])if(t.nodeType===1||o)if(a=t[f]||(t[f]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[e])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[e]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||yr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?wt(b,p,n,o,s):b,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=pt(function(n){return n===o},c,!0),a=pt(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[pt(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&yt(n))}e.push(u)}return ui(e)}function pr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=it==null?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&(y=rt[p])!=null;p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=nr.call(l));w=wt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,e,t,st,oi,ft,bt,si,ht,w,ut,b,i,s,h,o,d,ct,et,f="sizzle"+1*new Date,c=n.document,v=0,di=0,hi=ti(),ci=ti(),lt=ti(),kt=function(n,t){return n===t&&(ut=!0),0},gi={}.hasOwnProperty,g=[],nr=g.pop,tr=g.push,k=g.push,li=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ai="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",gt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ai+")*)|.*)\\)|)",ir=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),rr=new RegExp("^"+r+"*,"+r+"*"),ur=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),fr=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),er=new RegExp(gt),or=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+ai),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,cr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},vi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yi=function(n,t){return t?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},pi=function(){b()},lr=pt(function(n){return n.disabled===!0&&("form"in n||"label"in n)},{dir:"parentNode",next:"legend"});try{k.apply(g=li.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(wr){k={apply:g.length?function(n,t){tr.apply(n,li.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}e=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l===i||l.nodeType!==9||!l.documentElement?i:(i=l,s=i.documentElement,h=!oi(i),c!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),e.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=ot.test(i.getElementsByClassName),e.getById=a(function(n){return s.appendChild(n).id=f,!i.getElementsByName||!i.getElementsByName(f).length}),e.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i,u,f,r=t.getElementById(n);if(r){if(i=r.getAttributeNode("id"),i&&i.value===n)return[r];for(f=t.getElementsByName(n),u=0;r=f[u++];)if(i=r.getAttributeNode("id"),i&&i.value===n)return[r]}return[]}}),t.find.TAG=e.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):e.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=e.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!="undefined"&&h)return t.getElementsByClassName(n)},d=[],o=[],(e.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+dt+")");n.querySelectorAll("[id~="+f+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+f+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length!==2&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;n.querySelectorAll(":disabled").length!==2&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(e.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){e.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",gt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,r&1||!e.sortDetached&&t.compareDocumentPosition(n)===r)?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:r&4?-1:1}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return wi(n,t)}else return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i)};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(fr,"='$1']"),e.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||e.disconnectedMatch||n.document&&n.document.nodeType!==11)return r}catch(f){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var f=t.attrHandle[r.toLowerCase()],u=f&&gi.call(t.attrHandle,r.toLowerCase())?f(n,r,!h):undefined;return u!==undefined?u:e.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(vi,yi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!e.detectDuplicates,w=!e.sortStable&&n.slice(0),n.sort(kt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&er.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(ir," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=e&&t.nodeName.toLowerCase(),g=!h&&!e,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(e?c.nodeName.toLowerCase()===nt:c.nodeType===1)return!1;b=k=n==="only"&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(c.nodeType===1&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((e?c.nodeName.toLowerCase()===nt:c.nodeType===1)&&++l&&(g&&(y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,e)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=bt(n.replace(at,"$1"));return i[f]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return or.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:bi(!1),disabled:bi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=ar(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=vr(rt);return ki.prototype=t.filters=t.pseudos,t.setFilters=new ki,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=rr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=ur.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},bt=u.compile=function(n,t){var r,u=[],e=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=lt(n,pr(e,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c=typeof n=="function"&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],s.length===1){if(f=s[0]=s[0].slice(0),f.length>2&&(e=f[0]).type==="ID"&&i.nodeType===9&&h&&t.relative[f[1].type]){if(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ni.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),n=u.length&&yt(f),!n)return k.apply(r,u),r;break}}}return(c||bt(n,s))(u,i,!h,r,!i||ni.test(n)&&ri(i.parentNode)||i),r},e.sortStable=f.split("").sort(kt).join("")===f,e.detectDuplicates=!!ut,b(),e.sortDetached=a(function(n){return n.compareDocumentPosition(i.createElement("fieldset"))&1}),a(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),e.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ii("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),a(function(n){return n.getAttribute("disabled")==null})||ii(dt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=b;i.expr=b.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=b.uniqueSort;i.text=b.getText;i.isXMLDoc=b.isXML;i.contains=b.contains;i.escapeSelector=b.escape;var rt=function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},lr=function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i},ar=i.expr.match.needsContext;ci=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return(r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1)?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(li(this,n||[],!1))},not:function(n){return this.pushStack(li(this,n||[],!0))},is:function(n){return!!li(this,typeof n=="string"&&ar.test(n)?i(n):n||[],!1).length}});yr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;pr=i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||vr,typeof n=="string"){if(e=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:yr.exec(n),e&&(e[1]||!t)){if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),ci.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return o=f.getElementById(e[2]),o&&(this[0]=o,this.length=1),this}return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n)}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?r.ready!==undefined?r.ready(n):n(i):i.makeArray(n,this)};pr.prototype=i.fn;vr=i(f);wr=/^(?:parents|prev(?:Until|All))/;br={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e=typeof n!="string"&&i(n);if(!ar.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?typeof n=="string"?wt.call(i(n),this[0]):wt.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return rt(n,"parentNode")},parentsUntil:function(n,t,i){return rt(n,"parentNode",i)},next:function(n){return kr(n,"nextSibling")},prev:function(n){return kr(n,"previousSibling")},nextAll:function(n){return rt(n,"nextSibling")},prevAll:function(n){return rt(n,"previousSibling")},nextUntil:function(n,t,i){return rt(n,"nextSibling",i)},prevUntil:function(n,t,i){return rt(n,"previousSibling",i)},siblings:function(n){return lr((n.parentNode||{}).firstChild,n)},children:function(n){return lr(n.firstChild)},contents:function(n){return v(n,"iframe")?n.contentDocument:(v(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(br[n]||i.uniqueSort(f),wr.test(n)&&f.reverse()),this.pushStack(f)}});l=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n=typeof n=="string"?ie(n):i.extend({},n);var o,r,c,f,t=[],s=[],e=-1,l=function(){for(f=f||n.once,c=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)t[e].apply(r[0],r[1])===!1&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},h={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&it(r)!=="string"&&f(r)})}(arguments),r&&!o&&l()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=e&&e--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],s.push(t),o||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if(n=f.apply(h,c),n===r.promise())throw new TypeError("Thenable self-resolution");i=n&&(typeof n=="object"||typeof n=="function")&&n.then;u(i)?e?i.call(n,s(o,r,ut,e),s(o,r,dt,e)):(o++,i.call(n,s(o,r,ut,e),s(o,r,dt,e),s(o,r,ut,r.notifyWith))):(f!==ut&&(h=undefined,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==dt&&(h=undefined,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:ut,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ut));f[2][3].add(s(0,n,u(r)?r:dt))}).promise()},promise:function(n){return n!=null?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?undefined:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=d.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?d.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(dr(n,r.done(s(t)).resolve,r.reject,!e),r.state()==="pending"||u(f[t]&&f[t].then)))return r.then();while(t--)dr(f[t],s(t),r.reject);return r.promise()}});gr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&gr.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};gt=i.Deferred();i.fn.ready=function(n){return gt.then(n).catch(function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||gt.resolveWith(f,[i])}});i.ready.then=gt.then;f.readyState!=="complete"&&(f.readyState==="loading"||f.documentElement.doScroll)?(f.addEventListener("DOMContentLoaded",ni),n.addEventListener("load",ni)):n.setTimeout(i.ready);var p=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=r==null;if(it(r)==="object"){e=!0;for(h in r)p(n,t,h,r[h],!0,o,s)}else if(f!==undefined&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},re=/^-ms-/,ue=/-([a-z])/g;lt=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};at.uid=1;at.prototype={cache:function(n){var t=n[this.expando];return t||(t={},lt(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if(typeof t=="string")u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return t===undefined?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return t===undefined||t&&typeof t=="string"&&i===undefined?this.get(n,t):(this.set(n,t,i),i!==undefined?i:t)},remove:function(n,t){var u,r=n[this.expando];if(r!==undefined){if(t!==undefined)for(Array.isArray(t)?t=t.map(y):(t=y(t),t=t in r?[t]:t.match(l)||[]),u=t.length;u--;)delete r[t[u]];(t===undefined||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=undefined:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return t!==undefined&&!i.isEmptyObject(t)}};var r=new at,o=new at,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,oe=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(n===undefined){if(this.length&&(e=o.get(i),i.nodeType===1&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&(u=s[f].name,u.indexOf("data-")===0&&(u=y(u.slice(5)),nu(i,u,e[u])));r.set(i,"hasDataAttrs",!0)}return e}return typeof n=="object"?this.each(function(){o.set(this,n)}):p(this,function(t){var r;if(i&&t===undefined)return(r=o.get(i,n),r!==undefined)?r:(r=nu(i,n),r!==undefined)?r:void 0;this.each(function(){o.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var tu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+tu+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],ti=function(n,t){return n=t||n,n.style.display==="none"||n.style.display===""&&i.contains(n.ownerDocument,n)&&i.css(n,"display")==="none"},iu=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};ai={};i.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){ti(this)?i(this).show():i(this).hide()})}});var uu=/^(?:checkbox|radio)$/i,fu=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,eu=/^$|^module$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;ou=/<|&#?\w+;/,function(){var i=f.createDocumentFragment(),n=i.appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var ii=f.documentElement,ce=/^key/,le=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,c,o,k,d,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),e&&i.find.matchesSelector(ii,e),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){return typeof i!="undefined"&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(l)||[""],b=t.length;b--;)(w=hu.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(c=p[o])||(c=p[o]=[],c.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(l)||[""],p=t.length;p--;){if(h=hu.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[p],u,f,!0);continue}for(c=i.event.special[o]||{},o=(f?c.delegateType:c.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(y,1),s.selector&&a.delegateCount--,c.remove&&c.remove.call(n,s));k&&!a.length&&(c.teardown&&c.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,c,s,e,f,l,h=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(f.namespace))&&(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),s!==undefined&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,e,u,o,s,c=[],h=t.delegateCount,r=n.target;if(h&&r.nodeType&&!(n.type==="click"&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(n.type==="click"&&r.disabled===!0)){for(o=[],s={},f=0;f<h;f++)e=t[f],u=e.selector+" ",s[u]===undefined&&(s[u]=e.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),s[u]&&o.push(e);o.length&&c.push({elem:r,handlers:o})}return r=this,h<t.length&&c.push({elem:r,handlers:t.slice(h)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cu()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===cu()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&v(this,"input"))return this.click(),!1},_default:function(n){return v(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?ri:et,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ri;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ri;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ri;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return n.which==null&&ce.test(n.type)?n.charCode!=null?n.charCode:n.keyCode:!n.which&&t!==undefined&&le.test(n.type)?t&1?1:t&2?3:t&4?2:0:n.which}},i.event.addProp);i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return yi(this,n,t,i,r)},one:function(n,t,i,r){return yi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=et),this.each(function(){i.event.remove(this,n,r,t)})}});var ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ve=/<script|<style|<link/i,ye=/checked\s*(?:[^=]|=\s*.checked.)/i,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(ae,"<$1><\/$2>")},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!e.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=s(h),o=s(n),u=0,c=o.length;u<c;u++)ke(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)au(o[u],f[u]);else au(n,h);return f=s(h,"script"),f.length>0&&vi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;(t=n[e])!==undefined;e++)if(lt(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=undefined}t[o.expando]&&(t[o.expando]=undefined)}}});i.fn.extend({detach:function(n){return vu(this,n,!0)},remove:function(n){return vu(this,n)},text:function(n){return p(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return ot(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=lu(this,n);t.appendChild(n)}})},prepend:function(){return ot(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=lu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return p(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!ve.test(n)&&!c[(fu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return ot(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),si.apply(f,u.get());return this.pushStack(f)}});var pi=new RegExp("^("+tu+")(?!px)[a-z%]+$","i"),ui=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},de=new RegExp(w.join("|"),"i");(function(){function r(){if(t){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";ii.appendChild(o).appendChild(t);var i=n.getComputedStyle(t);s=i.top!=="1%";a=u(i.marginLeft)===12;t.style.right="60%";l=u(i.right)===36;h=u(i.width)===36;t.style.position="absolute";c=t.offsetWidth===36||"absolute";ii.removeChild(o);t=null}}function u(n){return Math.round(parseFloat(n))}var s,h,c,l,a,o=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle=t.style.backgroundClip==="content-box",i.extend(e,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),l},pixelPosition:function(){return r(),s},reliableMarginLeft:function(){return r(),a},scrollboxSize:function(){return r(),c}}))})();var ge=/^(none|table(?!-c[ea]).+)/,pu=/^--/,no={position:"absolute",visibility:"hidden",display:"block"},wu={letterSpacing:"0",fontWeight:"400"},bu=["Webkit","Moz","ms"],ku=f.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=yt(n,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var f,s,o,c=y(t),l=pu.test(t),h=n.style;if(l||(t=du(c)),o=i.cssHooks[t]||i.cssHooks[c],r!==undefined){if(s=typeof r,s==="string"&&(f=vt.exec(r))&&f[1]&&(r=ru(n,t,f),s="number"),r==null||r!==r)return;s==="number"&&(r+=f&&f[3]||(i.cssNumber[c]?"":"px"));e.clearCloneStyle||r!==""||t.indexOf("background")!==0||(h[t]="inherit");o&&"set"in o&&(r=o.set(n,r,u))===undefined||(l?h.setProperty(t,r):h[t]=r)}else return o&&"get"in o&&(f=o.get(n,!1,u))!==undefined?f:h[t]}},css:function(n,t,r,u){var f,o,e,s=y(t),h=pu.test(t);return(h||(t=du(s)),e=i.cssHooks[t]||i.cssHooks[s],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=yt(n,t,u)),f==="normal"&&t in wu&&(f=wu[t]),r===""||r)?(o=parseFloat(f),r===!0||isFinite(o)?o||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return ge.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?iu(n,no,function(){return nf(n,t,u)}):nf(n,t,u)},set:function(n,r,u){var s,f=ui(n),h=i.css(n,"boxSizing",!1,f)==="border-box",o=u&&wi(n,t,u,h,f);return h&&e.scrollboxSize()===f.position&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-wi(n,t,"border",!1,f)-.5)),o&&(s=vt.exec(r))&&(s[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),gu(n,r,o)}}});i.cssHooks.marginLeft=yu(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(yt(n,"marginLeft"))||n.getBoundingClientRect().left-iu(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};n!=="margin"&&(i.cssHooks[n+t].set=gu)});i.fn.extend({css:function(n,t){return p(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ui(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.nodeType===1&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};tf=/^(?:toggle|show|hide)$/;rf=/queueHooks$/;i.Animation=i.extend(a,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return ru(i.elem,n,vt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(l);for(var i,r=0,f=n.length;r<f;r++)i=n[r],a.tweeners[i]=a.tweeners[i]||[],a.tweeners[i].unshift(t)},prefilters:[io],prefilter:function(n,t){t?a.prefilters.unshift(n):a.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ti).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=a(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&rf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(ei(t,!0),n,i,u)}});i.each({slideDown:ei("show"),slideUp:ei("hide"),slideToggle:ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(st=Date.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();st=undefined};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){fi||(fi=!0,bi())};i.fx.stop=function(){fi=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=f.createElement("input"),t=f.createElement("select"),i=t.appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=n.value!=="";e.optSelected=i.selected;n=f.createElement("input");n.value="t";n.type="radio";e.radioValue=n.value==="t"}();ht=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return p(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(e!==3&&e!==8&&e!==2){if(typeof n.getAttribute=="undefined")return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?ef:undefined)),r!==undefined){if(r===null){i.removeAttr(n,t);return}return f&&"set"in f&&(u=f.set(n,r,t))!==undefined?u:(n.setAttribute(t,r+""),r)}return f&&"get"in f&&(u=f.get(n,t))!==null?u:(u=i.find.attr(n,t),u==null?undefined:u)}},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&t==="radio"&&v(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(l);if(r&&n.nodeType===1)while(i=r[u++])n.removeAttribute(i)}});ef={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=ht[t]||i.find.attr;ht[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=ht[u],ht[u]=f,f=r(n,t,i)!=null?u:null,ht[u]=e),f}});of=/^(?:input|select|textarea|button)$/i;sf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return p(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(e!==3&&e!==8&&e!==2)return(e===1&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined)?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):of.test(n.nodeName)||sf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if(f=ki(n),f.length)while(r=this[c++])if(e=nt(r),t=r.nodeType===1&&" "+g(e)+" ",t){for(h=0;o=f[h++];)t.indexOf(" "+o+" ")<0&&(t+=o+" ");s=g(t);e!==s&&r.setAttribute("class",s)}return this},removeClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if(f=ki(n),f.length)while(r=this[c++])if(e=nt(r),t=r.nodeType===1&&" "+g(e)+" ",t){for(h=0;o=f[h++];)while(t.indexOf(" "+o+" ")>-1)t=t.replace(" "+o+" "," ");s=g(t);e!==s&&r.setAttribute("class",s)}return this},toggleClass:function(n,t){var f=typeof n,e=f==="string"||Array.isArray(n);return typeof t=="boolean"&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ki(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(n===undefined||f==="boolean")&&(t=nt(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(t.nodeType===1&&(" "+g(nt(t))+" ").indexOf(i)>-1)return!0;return!1}});hf=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;this.nodeType===1&&(u=e?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(f,"value"))!==undefined)?r:(r=f.value,typeof r=="string")?r.replace(hf,""):r==null?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:g(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f=n.type==="select-one",s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(t=o[r],(t.selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!v(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});e.focusin="onfocusin"in n;di=/^(?:focusinfocus|focusoutblur)$/;gi=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,w,b=[o||f],h=kt.call(t,"type")?t.type:t,p=kt.call(t,"namespace")?t.namespace.split("."):[];if((c=w=l=o=o||f,o.nodeType!==3&&o.nodeType!==8)&&!di.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=o),e=e==null?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!tt(o)){for(d=a.delegateType||h,di.test(d+h)||(c=c.parentNode);c;c=c.parentNode)b.push(c),l=c;l===(o.ownerDocument||f)&&b.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=b[k++])&&!t.isPropagationStopped();)w=c,t.type=k>1?d:a.bindType||h,y=(r.get(c,"events")||{})[t.type]&&r.get(c,"handle"),y&&y.apply(c,e),y=v&&c[v],y&&y.apply&&lt(c)&&(t.result=y.apply(c,e),t.result===!1&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||(!a._default||a._default.apply(b.pop(),e)===!1)&&lt(o)&&v&&u(o[h])&&!tt(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&w.addEventListener(h,gi),o[h](),t.isPropagationStopped()&&w.removeEventListener(h,gi),i.event.triggered=undefined,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var pt=n.location,cf=Date.now(),nr=/\?/;i.parseXML=function(t){var r;if(!t||typeof t!="string")return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=undefined}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+t),r};var uo=/\[\]$/,lf=/\r?\n/g,fo=/^(?:submit|button|image|reset|file)$/i,eo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(i==null?"":i)};if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)tr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&eo.test(this.nodeName)&&!fo.test(n)&&(this.checked||!uu.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(lf,"\r\n")}}):{name:t.name,value:r.replace(lf,"\r\n")}}).get()}});var oo=/%20/g,so=/#.*$/,ho=/([?&])_=[^&]*/,co=/^(.*?):[ \t]*([^\r\n]*)$/mg,lo=/^(?:GET|HEAD)$/,ao=/^\/\//,af={},ir={},vf="*/".concat("*"),rr=f.createElement("a");return rr.href=pt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ur(ur(n,i.ajaxSettings),t):ur(i.ajaxSettings,n)},ajaxPrefilter:yf(af),ajaxTransport:yf(ir),ajax:function(t,r){function b(t,r,f,l){var y,rt,g,p,b,a=r;s||(s=!0,d&&n.clearTimeout(d),c=undefined,k=l||"",e.readyState=t>0?4:0,y=t>=200&&t<300||t===304,f&&(p=vo(u,e,f)),p=yo(u,p,e,y),y?(u.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),t===204||u.type==="HEAD"?a="nocontent":t===304?a="notmodified":(a=p.state,rt=p.data,g=p.error,y=!g)):(g=a,(t||!a)&&(a="error",t<0&&(t=0))),e.status=t,e.statusText=(r||a)+"",y?tt.resolveWith(h,[rt,a,e]):tt.rejectWith(h,[e,a,g]),e.statusCode(w),w=undefined,v&&nt.trigger(y?"ajaxSuccess":"ajaxError",[e,u,y?rt:g]),it.fireWith(h,[e,a]),v&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}typeof t=="object"&&(r=t,t=undefined);r=r||{};var c,o,k,y,d,a,s,v,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!y)for(y={};t=co.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return s==null&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return s==null&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return c&&c.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||pt.href)+"").replace(ao,pt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(l)||[""],u.crossDomain==null){a=f.createElement("a");try{a.href=u.url;a.href=a.href;u.crossDomain=rr.protocol+"//"+rr.host!=a.protocol+"//"+a.host}catch(et){u.crossDomain=!0}}if(u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),pf(af,u,r,e),s)return e;v=i.event&&u.global;v&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!lo.test(u.type);o=u.url.replace(so,"");u.hasContent?u.data&&u.processData&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(u.data=u.data.replace(oo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||typeof u.data=="string")&&(o+=(nr.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(o=o.replace(ho,"$1"),p=(nr.test(o)?"&":"?")+"_="+cf+++p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+vf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(u.beforeSend.call(h,e,u)===!1||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),c=pf(ir,u,r,e),c){if(e.readyState=1,v&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;c.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=undefined),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},wf={0:200,1223:204},ct=i.ajaxSettings.xhr(),e.cors=!!ct&&"withCredentials"in ct,e.ajax=ct=!!ct,i.ajaxTransport(function(t){var i,r;if(e.cors||ct&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,n==="abort"?e.abort():n==="error"?typeof e.status!="number"?f(0,"error"):f(e.status,e.statusText):f(wf[e.status]||e.status,e.statusText,(e.responseType||"text")!=="text"||typeof e.responseText!="string"?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");e.onabort!==undefined?e.onabort=r:e.onreadystatechange=function(){e.readyState===4&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(u,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}}),fr=[],oi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=fr.pop()||i.expando+"_"+cf++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=t.jsonp!==!1&&(oi.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&oi.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(oi,"$1"+e):t.jsonp!==!1&&(t.url+=(nr.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){o===undefined?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,fr.push(e));s&&u(o)&&o(s[0]);s=o=undefined}),"script"}),e.createHTMLDocument=function(){var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",n.childNodes.length===2}(),i.parseHTML=function(n,t,r){if(typeof n!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,o;return(t||(e.createHTMLDocument?(t=f.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=f.location.href,t.head.appendChild(s)):t=f),u=ci.exec(n),o=!r&&[],u)?[t.createElement(u[1])]:(u=su([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=g(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=undefined):t&&typeof t=="object"&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var o,s,h,c,f,l,y,a=i.css(n,"position"),v=i(n),e={};a==="static"&&(n.style.position="relative");f=v.offset();h=i.css(n,"top");l=i.css(n,"left");y=(a==="absolute"||a==="fixed")&&(h+l).indexOf("auto")>-1;y?(o=v.position(),c=o.top,s=o.left):(c=parseFloat(h)||0,s=parseFloat(l)||0);u(t)&&(t=t.call(n,r,i.extend({},f)));t.top!=null&&(e.top=t.top-f.top+c);t.left!=null&&(e.left=t.left-f.left+s);"using"in t?t.using.call(n,e):v.css(e)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,u,f,t=this[0],r={top:0,left:0};if(i.css(t,"position")==="fixed")u=t.getBoundingClientRect();else{for(u=this.offset(),f=t.ownerDocument,n=t.offsetParent||f.documentElement;n&&(n===f.body||n===f.documentElement)&&i.css(n,"position")==="static";)n=n.parentNode;n&&n!==t&&n.nodeType===1&&(r=i(n).offset(),r.top+=i.css(n,"borderTopWidth",!0),r.left+=i.css(n,"borderLeftWidth",!0))}return{top:u.top-r.top-i.css(t,"marginTop",!0),left:u.left-r.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&i.css(n,"position")==="static";)n=n.offsetParent;return n||ii})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return p(this,function(n,i,u){var f;if(tt(n)?f=n:n.nodeType===9&&(f=n.defaultView),u===undefined)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=yu(e.pixelPosition,function(n,r){if(r)return r=yt(n,t),pi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||typeof f!="boolean"),s=r||(f===!0||e===!0?"margin":"border");return p(this,function(t,r,f){var e;return tt(t)?u.indexOf("outer")===0?t["inner"+n]:t.document.documentElement["client"+n]:t.nodeType===9?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):f===undefined?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:undefined,o)}})}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}}),i.proxy=function(n,t){var f,e,r;return(typeof t=="string"&&(f=n[t],t=n,n=f),!u(n))?undefined:(e=d.call(arguments,2),r=function(){return n.apply(t||this,e.concat(d.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=v,i.isFunction=u,i.isWindow=tt,i.camelCase=y,i.type=it,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return(t==="number"||t==="string")&&!isNaN(n-parseFloat(n))},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),bf=n.jQuery,kf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=kf),t&&n.jQuery===i&&(n.jQuery=bf),i},t||(n.jQuery=n.$=i),i});
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u==="#"?[]:u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled",r=this.$element,f=r.is("input")?"val":"html",u=r.data();t+="Text";u.resetText==null&&r.data("resetText",r[f]());setTimeout(n.proxy(function(){r[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,r.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i).prop(i,!1))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):n.prop("type")=="checkbox"&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target).closest(".btn");i.call(r,"toggle");n(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));typeof i=="number"?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));this.options.pause!="hover"||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f=n=="prev"&&i===0||n=="next"&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r=n=="prev"?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f=i=="next"?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),this.$element.trigger(s),s.isDefaultPrevented())?void 0:(this.sliding=!0,l&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&t.type=="click"&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f))))}))}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.7";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.disabled):visible a",f=o.find(".dropdown-menu"+h),f.length)&&(u=f.index(t.target),t.which==38&&u>0&&u--,t.which==40&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})});this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){document===n.target||this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){r=n.support.transition&&f;this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this));if(r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusin"?"focus":"hover"]=!0),i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusout"?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)}};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){r.hoverState!="in"&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u=r.tagName=="BODY",i=r.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(i).is(document.body)?n(window):n(i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f=typeof i=="object"&&i;r||u.data("bs.scrollspy",r=new t(this,f));typeof i=="string"&&r[i]()})}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget,n;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(t[n+1]===undefined||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f=typeof i=="object"&&i;r||u.data("bs.affix",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(i!=null&&this.affixed=="top")return u<i?"top":!1;if(this.affixed=="bottom")return i!=null?u+this.unpin<=f.top?!1:"bottom":u+e<=n-r?!1:"bottom";var o=this.affixed==null,s=o?u:f.top,h=o?e:t;return i!=null&&u<=i?"top":r!=null&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if(typeof r!="object"&&(u=f=r),typeof f=="function"&&(f=r.top(this.$element)),typeof u=="function"&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(this.unpin!=null&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin=i=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}i=="bottom"&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom!=null&&(t.offset.bottom=t.offsetBottom);t.offsetTop!=null&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);
/**
 * @license AngularJS v1.3.20
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t,i){"use strict";function v(n,t){return t=t||Error,function(){var u=arguments[0],e="["+(n?n+":":"")+u+"] ",o=arguments[1],f=arguments,i,r;for(i=e+o.replace(/\{\d+\}/g,function(n){var t=+n.slice(1,-1);return t+2<f.length?co(f[t+2]):n}),i=i+"\nhttp://errors.angularjs.org/1.3.20/"+(n?n+"/":"")+u,r=2;r<arguments.length;r++)i=i+(r==2?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(co(arguments[r]));return new t(i)}}function gi(n){if(n==null||tr(n))return!1;var t="length"in Object(n)&&n.length;return n.nodeType===vt&&t?!0:h(n)||o(n)||t===0||typeof t=="number"&&t>0&&t-1 in n}function r(n,t,i){var u,f,e;if(n)if(l(n))for(u in n)u!="prototype"&&u!="length"&&u!="name"&&(!n.hasOwnProperty||n.hasOwnProperty(u))&&t.call(i,n[u],u,n);else if(o(n)||gi(n))for(e=typeof n!="object",u=0,f=n.length;u<f;u++)(e||u in n)&&t.call(i,n[u],u,n);else if(n.forEach&&n.forEach!==r)n.forEach(t,i,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n);return n}function be(n){return Object.keys(n).sort()}function tl(n,t,i){for(var r=be(n),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function ke(n){return function(t,i){n(i,t)}}function tu(){return++nl}function de(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function a(n){for(var t,u,i,e,f,o=n.$$hashKey,r=1,s=arguments.length;r<s;r++)if(t=arguments[r],t)for(u=Object.keys(t),i=0,e=u.length;i<e;i++)f=u[i],n[f]=t[f];return de(n,o),n}function g(n){return parseInt(n,10)}function rf(n,t){return a(Object.create(n),t)}function s(){}function lt(n){return n}function it(n){return function(){return n}}function e(n){return typeof n=="undefined"}function u(n){return typeof n!="undefined"}function c(n){return n!==null&&typeof n=="object"}function h(n){return typeof n=="string"}function k(n){return typeof n=="number"}function et(n){return ni.call(n)==="[object Date]"}function l(n){return typeof n=="function"}function nr(n){return ni.call(n)==="[object RegExp]"}function tr(n){return n&&n.window===n}function ir(n){return n&&n.$evalAsync&&n.$watch}function il(n){return ni.call(n)==="[object File]"}function rl(n){return ni.call(n)==="[object FormData]"}function ul(n){return ni.call(n)==="[object Blob]"}function rr(n){return typeof n=="boolean"}function iu(n){return n&&l(n.then)}function ge(n){return!!(n&&(n.nodeName||n.prop&&n.attr&&n.find))}function fl(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function wt(n){return y(n.nodeName||n[0]&&n[0].nodeName)}function ur(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),t}function ti(n,t,i,u){var l,h,f,e,a,s;if(tr(n)||ir(n))throw hi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(n===t)throw hi("cpi","Can't copy! Source and destination are identical.");if(i=i||[],u=u||[],c(n)){if(h=i.indexOf(n),h!==-1)return u[h];i.push(n);u.push(t)}if(o(n))for(t.length=0,e=0;e<n.length;e++)f=ti(n[e],null,i,u),c(n[e])&&(i.push(n[e]),u.push(f)),t.push(f);else{a=t.$$hashKey;o(t)?t.length=0:r(t,function(n,i){delete t[i]});for(s in n)n.hasOwnProperty(s)&&(f=ti(n[s],null,i,u),c(n[s])&&(i.push(n[s]),u.push(f)),t[s]=f);de(t,a)}}else t=n,n&&(o(n)?t=ti(n,[],i,u):et(n)?t=new Date(n.getTime()):nr(n)?(t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex):c(n)&&(l=Object.create(Object.getPrototypeOf(n)),t=ti(n,l,i,u)));return t}function at(n,t){var i,u,r;if(o(n))for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=n[i];else if(c(n)){t=t||{};for(r in n)r.charAt(0)==="$"&&r.charAt(1)==="$"||(t[r]=n[r])}return t||n}function ot(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;var f=typeof n,s=typeof t,e,r,u;if(f==s&&f=="object")if(o(n)){if(!o(t))return!1;if((e=n.length)==t.length){for(r=0;r<e;r++)if(!ot(n[r],t[r]))return!1;return!0}}else{if(et(n))return et(t)?ot(n.getTime(),t.getTime()):!1;if(nr(n))return nr(t)?n.toString()==t.toString():!1;if(ir(n)||ir(t)||tr(n)||tr(t)||o(t)||et(t)||nr(t))return!1;u={};for(r in n)if(r.charAt(0)!=="$"&&!l(n[r])){if(!ot(n[r],t[r]))return!1;u[r]=!0}for(r in t)if(!u.hasOwnProperty(r)&&r.charAt(0)!=="$"&&t[r]!==i&&!l(t[r]))return!1;return!0}return!1}function fr(n,t,i){return n.concat(tf.call(t,i))}function ff(n,t){return tf.call(n,t||0)}function no(n,t){var i=arguments.length>2?ff(arguments,2):[];return!l(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,fr(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function to(n,r){var u=r;return typeof n=="string"&&n.charAt(0)==="$"&&n.charAt(1)==="$"?u=i:tr(r)?u="$WINDOW":r&&t===r?u="$DOCUMENT":ir(r)&&(u="$SCOPE"),u}function er(n,t){return typeof n=="undefined"?i:(k(t)||(t=t?2:null),JSON.stringify(n,to,t))}function io(n){return h(n)?JSON.parse(n):n}function bt(n){n=f(n).clone();try{n.empty()}catch(i){}var t=f("<div>").append(n).html();try{return n[0].nodeType===sr?y(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+y(t)})}catch(i){return y(t)}}function ro(n){try{return decodeURIComponent(n)}catch(t){}}function uo(n){var i={},f,t;return r((n||"").split("&"),function(n){if(n&&(f=n.replace(/\+/g,"%20").split("="),t=ro(f[0]),u(t))){var r=u(f[1])?ro(f[1]):!0;we.call(i,t)?o(i[t])?i[t].push(r):i[t]=[i[t],r]:i[t]=r}}),i}function ef(n){var t=[];return r(n,function(n,i){o(n)?r(n,function(n){t.push(ii(i,!0)+(n===!0?"":"="+ii(n,!0)))}):t.push(ii(i,!0)+(n===!0?"":"="+ii(n,!0)))}),t.length?t.join("&"):""}function ru(n){return ii(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ii(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function el(n,t){var i,r,u=or.length;for(n=f(n),r=0;r<u;++r)if(i=or[r]+t,h(i=n.attr(i)))return i;return null}function ol(n,t){var i,u,f={};r(or,function(t){var r=t+"app";!i&&n.hasAttribute&&n.hasAttribute(r)&&(i=n,u=n.getAttribute(r))});r(or,function(t){var f=t+"app",r;!i&&(r=n.querySelector("["+f.replace(":","\\:")+"]"))&&(i=r,u=r.getAttribute(f))});i&&(f.strictDi=el(i,"strict-di")!==null,t(i,u?[u]:[],f))}function fo(i,u,e){var o;c(e)||(e={});o={strictDi:!1};e=a(o,e);var s=function(){var r,n;if(i=f(i),i.injector()){r=i[0]===t?"document":bt(i);throw hi("btstrpd","App Already Bootstrapped with this Element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"));}return u=u||[],u.unshift(["$provide",function(n){n.value("$rootElement",i)}]),e.debugInfoEnabled&&u.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),u.unshift("ng"),n=vr(u,e.strictDi),n.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),n},h=/^NG_ENABLE_DEBUG_INFO!/,v=/^NG_DEFER_BOOTSTRAP!/;if(n&&h.test(n.name)&&(e.debugInfoEnabled=!0,n.name=n.name.replace(h,"")),n&&!v.test(n.name))return s();n.name=n.name.replace(v,"");nt.resumeBootstrap=function(n){return r(n,function(n){u.push(n)}),s()};l(nt.resumeDeferredBootstrap)&&nt.resumeDeferredBootstrap()}function sl(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function hl(n){var t=nt.element(n).injector();if(!t)throw hi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function oo(n,t){return t=t||"_",n.replace(eo,function(n,i){return(i?t:"")+n.toLowerCase()})}function cl(){var t;of||(ft=n.jQuery,ft&&ft.fn.on?(f=ft,a(ft.fn,{scope:ri.scope,isolateScope:ri.isolateScope,controller:ri.controller,injector:ri.injector,inheritedData:ri.inheritedData}),t=ft.cleanData,ft.cleanData=function(n){var i,r,u;if(sf)sf=!1;else for(r=0;(u=n[r])!=null;r++)i=ft._data(u,"events"),i&&i.$destroy&&ft(u).triggerHandler("$destroy");t(n)}):f=w,nt.element=f,of=!0)}function hf(n,t,i){if(!n)throw hi("areq","Argument '{0}' is {1}",t||"?",i||"required");return n}function li(n,t,i){return i&&o(n)&&(n=n[n.length-1]),hf(l(n),t,"not a function, got "+(n&&typeof n=="object"?n.constructor.name||"Object":typeof n)),n}function ai(n,t){if(n==="hasOwnProperty")throw hi("badname","hasOwnProperty is not a valid {0} name",t);}function so(n,t,i){var r;if(!t)return n;var u=t.split("."),f,e=n,o=u.length;for(r=0;r<o;r++)f=u[r],n&&(n=(e=n)[f]);return!i&&l(n)?no(e,n):n}function uu(n){var t=n[0],r=n[n.length-1],i=[t];do{if(t=t.nextSibling,!t)break;i.push(t)}while(t!==r);return f(i)}function st(){return Object.create(null)}function al(n){function t(n,t,i){return n[t]||(n[t]=i())}var r=v("$injector"),u=v("ng"),i=t(n,"angular",Object);return i.$$minErr=i.$$minErr||v,t(i,"module",function(){var n={};return function(i,f,e){var o=function(n,t){if(n==="hasOwnProperty")throw u("badname","hasOwnProperty is not a valid {0} name",t);};return o(i,"module"),f&&n.hasOwnProperty(i)&&(n[i]=null),t(n,i,function(){function n(n,i,r,u){return u||(u=t),function(){return u[r||"push"]([n,i,arguments]),h}}if(!f)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],u=[],o=[],s=n("$injector","invoke","push",u),h={_invokeQueue:t,_configBlocks:u,_runBlocks:o,requires:f,name:i,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:n("$provide","value"),constant:n("$provide","constant","unshift"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),config:s,run:function(n){return o.push(n),this}};return e&&s(e),h})}})}function vl(n){var t=[];return JSON.stringify(n,function(n,i){if(i=to(n,i),c(i)){if(t.indexOf(i)>=0)return"<<already seen>>";t.push(i)}return i})}function co(n){return typeof n=="function"?n.toString().replace(/ \{[\s\S]*$/,""):typeof n=="undefined"?"undefined":typeof n!="string"?vl(n):n}function yl(t){a(t,{bootstrap:fo,copy:ti,extend:a,equals:ot,element:f,forEach:r,injector:vr,noop:s,bind:no,toJson:er,fromJson:io,identity:lt,isUndefined:e,isDefined:u,isString:h,isFunction:l,isObject:c,isNumber:k,isElement:ge,isArray:o,version:lo,isDate:et,lowercase:y,uppercase:ki,callbacks:{counter:0},getTestability:hl,$$minErr:v,$$csp:ci,reloadWithDebugInfo:sl});di=al(n);try{di("ngLocale")}catch(i){di("ngLocale",[]).provider("$locale",lv)}di("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:hy});n.provider("$compile",rs).directive({a:vh,input:ic,textarea:ic,form:hp,script:lb,select:yb,style:wb,option:pb,ngBind:rw,ngBindHtml:fw,ngBindTemplate:uw,ngClass:ow,ngClassEven:hw,ngClassOdd:sw,ngCloak:cw,ngController:lw,ngForm:cp,ngHide:fb,ngIf:vw,ngInclude:yw,ngInit:ww,ngNonBindable:tb,ngPluralize:ib,ngRepeat:rb,ngShow:ub,ngStyle:eb,ngSwitch:ob,ngSwitchWhen:sb,ngSwitchDefault:hb,ngOptions:vb,ngTransclude:cb,ngModel:dw,ngList:bw,ngChange:ew,pattern:ac,ngPattern:ac,required:lc,ngRequired:lc,minlength:yc,ngMinlength:yc,maxlength:vc,ngMaxlength:vc,ngValue:iw,ngModelOptions:nb}).directive({ngInclude:pw}).directive(wr).directive(rc);n.provider({$anchorScroll:va,$animate:is,$browser:wa,$cacheFactory:ba,$controller:da,$document:ga,$exceptionHandler:nv,$filter:rh,$interpolate:hv,$interval:cv,$http:fv,$httpBackend:ov,$location:wv,$log:bv,$parse:uy,$rootScope:sy,$q:fy,$$q:ey,$sce:ay,$sceDelegate:ly,$sniffer:vy,$templateCache:ka,$templateRequest:yy,$$testability:py,$timeout:wy,$window:by,$$rAF:oy,$$asyncCallback:ya,$$jqLite:sa})}])}function wl(){return++pl}function cr(n){return n.replace(bl,function(n,t,i,r){return r?i.toUpperCase():i}).replace(kl,"Moz$1")}function vf(n){return!na.test(n)}function ao(n){var t=n.nodeType;return t===vt||!t||t===ho}function vo(n,t){var i,o,f,u=t.createDocumentFragment(),e=[],s;if(vf(n))e.push(t.createTextNode(n));else{for(i=i||u.appendChild(t.createElement("div")),o=(ta.exec(n)||["",""])[1].toLowerCase(),f=ht[o]||ht._default,i.innerHTML=f[1]+n.replace(ia,"<$1><\/$2>")+f[2],s=f[0];s--;)i=i.lastChild;e=fr(e,i.childNodes);i=u.firstChild;i.textContent=""}return u.textContent="",u.innerHTML="",r(e,function(n){u.appendChild(n)}),u}function ra(n,i){i=i||t;var r;return(r=gl.exec(n))?[i.createElement(r[1])]:(r=vo(n,i))?r.childNodes:[]}function w(n){if(n instanceof w)return n;var t;if(h(n)&&(n=p(n),t=!0),!(this instanceof w)){if(t&&n.charAt(0)!="<")throw af("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new w(n)}t?wf(this,ra(n)):wf(this,n)}function yf(n){return n.cloneNode(!0)}function ou(n,t){var r,i,u;if(t||su(n),n.querySelectorAll)for(r=n.querySelectorAll("*"),i=0,u=r.length;i<u;i++)su(r[i])}function yo(n,t,i,f){if(u(f))throw af("offargs","jqLite#off() does not support the `selector` argument");var e=hu(n),o=e&&e.events,s=e&&e.handle;if(s)if(t)r(t.split(" "),function(t){if(u(i)){var r=o[t];if(ur(r||[],i),r&&r.length>0)return}hr(n,t,s);delete o[t]});else for(t in o)t!=="$destroy"&&hr(n,t,s),delete o[t]}function su(n,t){var u=n.ng339,r=u&&fu[u];if(r){if(t){delete r.data[t];return}r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),yo(n));delete fu[u];n.ng339=i}}function hu(n,t){var r=n.ng339,u=r&&fu[r];return t&&!u&&(n.ng339=r=wl(),u=fu[r]={events:{},data:{},handle:i}),u}function pf(n,t,i){if(ao(n)){var f=u(i),e=!f&&t&&!c(t),s=!t,o=hu(n,!e),r=o&&o.data;if(f)r[t]=i;else{if(s)return r;if(e)return r&&r[t];a(r,t)}}}function cu(n,t){return n.getAttribute?(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function lu(n,t){t&&n.setAttribute&&r(t.split(" "),function(t){n.setAttribute("class",p((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+p(t)+" "," ")))})}function au(n,t){if(t&&n.setAttribute){var i=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(n){n=p(n);i.indexOf(" "+n+" ")===-1&&(i+=n+" ")});n.setAttribute("class",p(i))}}function wf(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,typeof i=="number"&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function po(n,t){return vu(n,"$"+(t||"ngController")+"Controller")}function vu(n,t,r){var e,u,s;for(n.nodeType==ho&&(n=n.documentElement),e=o(t)?t:[t];n;){for(u=0,s=e.length;u<s;u++)if((r=f.data(n,e[u]))!==i)return r;n=n.parentNode||n.nodeType===lf&&n.host}}function wo(n){for(ou(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function bo(n,t){t||ou(n);var i=n.parentNode;i&&i.removeChild(n)}function ua(t,i){if(i=i||n,i.document.readyState==="complete")i.setTimeout(t);else f(i).on("load",t)}function ko(n,t){var i=lr[t.toLowerCase()];return i&&bf[wt(n)]&&i}function fa(n,t){var i=n.nodeName;return(i==="INPUT"||i==="TEXTAREA")&&kf[t]}function ea(n,t){var i=function(i,r){var u,f,s,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},u=t[r||i.type],f=u?u.length:0,f)for(e(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},f>1&&(u=at(u)),o=0;o<f;o++)i.isImmediatePropagationStopped()||u[o].call(n,i)};return i.elem=n,i}function sa(){this.$get=function(){return a(w,{hasClass:function(n,t){return n.attr&&(n=n[0]),cu(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),au(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),lu(n,t)}})}}function vi(n,t){var r=n&&n.$$hashKey,i;return r?(typeof r=="function"&&(r=n.$$hashKey()),r):(i=typeof n,i=="function"||i=="object"&&n!==null?n.$$hashKey=i+":"+(t||tu)():i+":"+n)}function ar(n,t){if(t){var i=0;this.nextUid=function(){return++i}}r(n,this.put,this)}function la(n){var i=n.toString().replace(ns,""),t=i.match(go);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function aa(n,t,i){var u,e,s,f;if(typeof n=="function"){if(!(u=n.$inject)){if(u=[],n.length){if(t){h(i)&&i||(i=n.name||la(n));throw ui("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);}e=n.toString().replace(ns,"");s=e.match(go);r(s[1].split(ha),function(n){n.replace(ca,function(n,t,i){u.push(i)})})}n.$inject=u}}else o(n)?(f=n.length-1,li(n[f],"fn"),u=n.slice(0,f)):li(n,"fn",!0);return u}function vr(n,t){function y(n){return function(t,i){if(c(t))r(t,ke(n));else return n(t,i)}}function g(n,t){if(ai(n,"service"),(l(t)||o(t))&&(t=u.instantiate(t)),!t.$get)throw ui("pget","Provider '{0}' must define $get factory method.",n);return v[n+p]=t}function ut(n,t){return function(){var i=f.invoke(t,this);if(e(i))throw ui("undef","Provider '{0}' must return a value from $get factory method.",n);return i}}function k(n,t,i){return g(n,{$get:i!==!1?ut(n,t):t})}function ft(n,t){return k(n,["$injector",function(n){return n.instantiate(t)}])}function et(n,t){return k(n,it(t),!1)}function ot(n,t){ai(n,"constant");v[n]=t;b[n]=t}function st(n,t){var i=u.get(n+p),r=i.$get;i.$get=function(){var n=f.invoke(r,i);return f.invoke(t,null,{$delegate:n})}}function tt(n){var t=[],i;return r(n,function(n){function f(n){for(var i,r,t=0,f=n.length;t<f;t++)i=n[t],r=u.get(i[0]),r[i[1]].apply(r,i[2])}if(!d.get(n)){d.put(n,!0);try{h(n)?(i=di(n),t=t.concat(tt(i.requires)).concat(i._runBlocks),f(i._invokeQueue),f(i._configBlocks)):l(n)?t.push(u.invoke(n)):o(n)?t.push(u.invoke(n)):li(n,"module")}catch(r){o(n)&&(n=n[n.length-1]);r.message&&r.stack&&r.stack.indexOf(r.message)==-1&&(r=r.message+"\n"+r.stack);throw ui("modulerr","Failed to instantiate module {0} due to:\n{1}",n,r.stack||r.message||r);}}}),t}function rt(n,i){function r(t,r){if(n.hasOwnProperty(t)){if(n[t]===w)throw ui("cdep","Circular dependency found: {0}",t+" <- "+a.join(" <- "));return n[t]}try{return a.unshift(t),n[t]=w,n[t]=i(t,r)}catch(u){n[t]===w&&delete n[t];throw u;}finally{a.shift()}}function u(n,i,u,f){typeof u=="string"&&(f=u,u=null);for(var c=[],l=vr.$$annotate(n,t,f),e,s=0,h=l.length;s<h;s++){if(e=l[s],typeof e!="string")throw ui("itkn","Incorrect injection token! Expected service name as string, got {0}",e);c.push(u&&u.hasOwnProperty(e)?u[e]:r(e,f))}return o(n)&&(n=n[h]),n.apply(i,c)}function f(n,t,i){var f=Object.create((o(n)?n[n.length-1]:n).prototype||null),r=u(n,f,t,i);return c(r)||l(r)?r:f}return{invoke:u,instantiate:f,get:r,annotate:vr.$$annotate,has:function(t){return v.hasOwnProperty(t+p)||n.hasOwnProperty(t)}}}t=t===!0;var w={},p="Provider",a=[],d=new ar([],!0),v={$provide:{provider:y(g),factory:y(k),service:y(ft),value:y(et),constant:y(ot),decorator:st}},u=v.$injector=rt(v,function(n,t){nt.isString(t)&&a.push(t);throw ui("unpr","Unknown provider: {0}",a.join(" <- "));}),b={},f=b.$injector=rt(b,function(n,t){var r=u.get(n+p,t);return f.invoke(r.$get,r,i,n)});return r(tt(n),function(n){f.invoke(n||s)}),f}function va(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function o(n){var t=null;return Array.prototype.some.call(n,function(n){if(wt(n)==="a")return t=n,!0}),t}function s(){var n=f.yOffset,i,r;return l(n)?n=n():ge(n)?(i=n[0],r=t.getComputedStyle(i),n=r.position!=="fixed"?0:i.getBoundingClientRect().bottom):k(n)||(n=0),n}function u(n){var i,r;n?(n.scrollIntoView(),i=s(),i&&(r=n.getBoundingClientRect().top,t.scrollBy(0,r-i))):t.scrollTo(0,0)}function f(){var n=i.hash(),t;n?(t=e.getElementById(n))?u(t):(t=o(e.getElementsByName(n)))?u(t):n==="top"&&u(null):u(null)}var e=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){(n!==t||n!=="")&&ua(function(){r.$evalAsync(f)})}),f}]}function ya(){this.$get=["$$rAF","$timeout",function(n,t){return n.supported?function(t){return n(t)}:function(n){return t(n,0,!1)}}]}function pa(n,t,u,o){function it(n){try{n.apply(null,ff(arguments,1))}finally{if(v--,v===0)while(d.length)try{d.pop()()}catch(t){u.error(t)}}}function wt(n){var t=n.indexOf("#");return t===-1?"":n.substr(t)}function bt(n,t){(function i(){r(g,function(n){n()});ct=t(i,n)})()}function lt(){et();at()}function dt(){try{return b.state}catch(n){}}function et(){l=dt();l=e(l)?null:l;ot(l,nt)&&(l=nt);nt=l}function at(){(p!==c.url()||y!==l)&&(p=c.url(),y=l,r(ut,function(n){n(c.url(),l)}))}function yt(n){try{return decodeURIComponent(n)}catch(t){return n}}var c=this,w=t[0],a=n.location,b=n.history,ht=n.setTimeout,pt=n.clearTimeout,k={},v,d,g,ct,ut,ft,nt;c.isMock=!1;v=0;d=[];c.$$completeOutstandingRequest=it;c.$$incOutstandingRequestCount=function(){v++};c.notifyWhenNoOutstandingRequests=function(n){r(g,function(n){n()});v===0?n():d.push(n)};g=[];c.addPollFn=function(n){return e(ct)&&bt(100,ht),g.push(n),n};var l,y,p=a.href,kt=t.find("base"),rt=null;et();y=l;c.url=function(t,i,r){var f,u;return e(r)&&(r=null),a!==n.location&&(a=n.location),b!==n.history&&(b=n.history),t?(f=y===r,p===t&&(!o.history||f))?c:(u=p&&fi(p)===fi(t),p=t,y=r,!o.history||u&&f?((!u||rt)&&(rt=t),i?a.replace(t):u?a.hash=wt(t):a.href=t):(b[i?"replaceState":"pushState"](r,"",t),et(),y=l),c):rt||a.href.replace(/%27/g,"'")};c.state=function(){return l};ut=[];ft=!1;nt=null;c.onUrlChange=function(t){if(!ft){if(o.history)f(n).on("popstate",lt);f(n).on("hashchange",lt);ft=!0}return ut.push(t),t};c.$$checkUrlChange=at;c.baseHref=function(){var n=kt.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var tt={},st="",vt=c.baseHref();c.cookies=function(n,t){var o,s,r,f,e;if(n)t===i?w.cookie=encodeURIComponent(n)+"=;path="+vt+";expires=Thu, 01 Jan 1970 00:00:00 GMT":h(t)&&(o=(w.cookie=encodeURIComponent(n)+"="+encodeURIComponent(t)+";path="+vt).length+1,o>4096&&u.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"));else{if(w.cookie!==st)for(st=w.cookie,s=st.split("; "),tt={},f=0;f<s.length;f++)r=s[f],e=r.indexOf("="),e>0&&(n=yt(r.substring(0,e)),tt[n]===i&&(tt[n]=yt(r.substring(e+1))));return tt}};c.defer=function(n,t){var i;return v++,i=ht(function(){delete k[i];it(n)},t||0),k[i]=!0,i};c.defer.cancel=function(n){return k[n]?(delete k[n],pt(n),it(s),!0):!1}}function wa(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new pa(n,r,t,i)}]}function ba(){this.$get=function(){function t(t,i){function y(n){n!=f&&(r?r==n&&(r=n.n):r=n,c(n.n,n.p),c(n,f),f=n,f.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw v("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,l=a({},i,{id:t}),o={},h=i&&i.capacity||Number.MAX_VALUE,u={},f=null,r=null;return n[t]={put:function(n,t){if(h<Number.MAX_VALUE){var i=u[n]||(u[n]={key:n});y(i)}if(!e(t))return n in o||s++,o[n]=t,s>h&&this.remove(r.key),t},get:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;y(t)}return o[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;t==f&&(f=t.p);t==r&&(r=t.n);c(t.n,t.p);delete u[n]}delete o[n];s--},removeAll:function(){o={};s=0;u={};f=r=null},destroy:function(){o=null;l=null;u=null;delete n[t]},info:function(){return a({},l,{size:s})}}}var n={};return t.info=function(){var t={};return r(n,function(n,i){t[i]=n.info()}),t},t.get=function(t){return n[t]},t}}function ka(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function rs(n,e){function ut(n,t){var u=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return r(n,function(n,r){var f=n.match(u);if(!f)throw rt("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,n);i[r]={mode:f[1][0],collection:f[2]==="*",optional:f[3]==="?",attrName:f[4]||r}}),i}var w={},b="Directive",k=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=fl("ngSrc,ngSrcset,src,srcset"),nt=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,tt=/^(on[a-z]+|formaction)$/,v;this.directive=function et(t,i){return ai(t,"directive"),h(t)?(hf(i,"directiveFactory"),w.hasOwnProperty(t)||(w[t]=[],n.factory(t+b,["$injector","$exceptionHandler",function(n,i){var u=[];return r(w[t],function(r,f){try{var e=n.invoke(r);l(e)?e={compile:it(e)}:!e.compile&&e.link&&(e.compile=it(e.link));e.priority=e.priority||0;e.index=f;e.name=e.name||t;e.require=e.require||e.controller&&e.name;e.restrict=e.restrict||"EA";c(e.scope)&&(e.$$isolateBindings=ut(e.scope,e.name));u.push(e)}catch(o){i(o)}}),u}])),w[t].push(i)):r(t,ke(et)),this};this.aHrefSanitizationWhitelist=function(n){return u(n)?(e.aHrefSanitizationWhitelist(n),this):e.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(e.imgSrcSanitizationWhitelist(n),this):e.imgSrcSanitizationWhitelist()};v=!0;this.debugInfoEnabled=function(n){return u(n)?(v=n,this):v};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(n,u,e,it,ut,et,ht,ct,at,yt,pt){function ni(n,t){try{n.addClass(t)}catch(i){}}function dt(n,t,i,u,e){var s,o;return n instanceof f||(n=f(n)),r(n,function(t,i){t.nodeType==sr&&t.nodeValue.match(/\S+/)&&(n[i]=f(t).wrap("<span><\/span>").parent()[0])}),s=ei(n,t,n,i,u,e),dt.$$addScopeClass(n),o=null,function(t,i,r){var u,c;hf(t,"scope");r=r||{};var e=r.parentBoundTranscludeFn,h=r.transcludeControllers,l=r.futureParentElement;if(e&&e.$$boundTransclude&&(e=e.$$boundTransclude),o||(o=gi(l)),u=o!=="html"?f(si(o,f("<div>").append(n).html())):i?ri.clone.call(n):n,h)for(c in h)u.data("$"+c+"Controller",h[c].instance);return dt.$$addScopeInfo(u,t),i&&i(u,t),s&&s(t,u,u,e),u}}function gi(n){var t=n&&n[0];return t?wt(t)!=="foreignobject"&&t.toString().match(/SVG/)?"svg":"html":"html"}function ei(n,t,r,u,e,o){function b(n,r,u,e){var s,c,l,a,o,w,y,b,v,k;if(p)for(k=r.length,v=new Array(k),o=0;o<h.length;o+=3)y=h[o],v[y]=r[y];else v=r;for(o=0,w=h.length;o<w;)l=v[h[o++]],s=h[o++],c=h[o++],s?(s.scope?(a=n.$new(),dt.$$addScopeInfo(f(l),a)):a=n,b=s.transcludeOnThisElement?ti(n,s.transclude,e,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&e?e:!e&&t?ti(n,t):null,s(c,a,l,u,b)):c&&c(n,l.childNodes,i,e)}for(var h=[],l,a,s,v,y,w,p,c=0;c<n.length;c++)l=new fi,a=oi(n[c],[],l,c===0?u:i,e),s=a.length?yi(a,n[c],l,t,r,null,[],[],o):null,s&&s.scope&&dt.$$addScopeClass(l.$$element),y=s&&s.terminal||!(v=n[c].childNodes)||!v.length?null:ei(v,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||y)&&(h.push(c,s,y),w=!0,p=p||s),o=null;return w?b:null}function ti(n,t,i){return function(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}}function oi(n,t,i,r,u){var it=n.nodeType,rt=i.$attr,o,s,g,nt,tt;switch(it){case vt:ii(t,kt(wt(n)),"E",r,u);for(var a,e,f,l,v,y,w=n.attributes,b=0,ut=w&&w.length;b<ut;b++)g=!1,nt=!1,a=w[b],e=a.name,v=p(a.value),l=kt(e),(y=di.test(l))&&(e=e.replace(df,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),tt=l.replace(/(Start|End)$/,""),nr(tt)&&l===tt+"Start"&&(g=e,nt=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=kt(e.toLowerCase()),rt[f]=e,(y||!i.hasOwnProperty(f))&&(i[f]=v,ko(n,f)&&(i[f]=!0)),or(n,t,v,f,y),ii(t,f,"A",r,u,g,nt);if(s=n.className,c(s)&&(s=s.animVal),h(s)&&s!=="")while(o=d.exec(s))f=kt(o[2]),ii(t,f,"C",r,u)&&(i[f]=p(o[3])),s=s.substr(o.index+o[0].length);break;case sr:fr(t,n.nodeValue);break;case cf:try{o=k.exec(n.nodeValue);o&&(f=kt(o[1]),ii(t,f,"M",r,u)&&(i[f]=p(o[2])))}catch(ft){}}return t.sort(rr),t}function ai(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw rt("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);n.nodeType==vt&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(u>0)}else r.push(n);return f(r)}function vi(n,t,i){return function(r,u,f,e,o){return u=ai(u[0],t,i),n(r,u,f,e,o)}}function yi(n,s,a,v,y,w,b,k,d){function fr(n,t,i,r){n&&(i&&(n=vi(n,i,r)),n.require=g.require,n.directiveName=st,(tt===g||g.$$isolateScope)&&(n=bi(n,{isolateScope:!0})),b.push(n));t&&(i&&(t=vi(t,i,r)),t.require=g.require,t.directiveName=st,(tt===g||g.$$isolateScope)&&(t=bi(t,{isolateScope:!0})),k.push(t))}function nr(n,t,i,u){var f,s="data",c=!1,l=i,e;if(h(t)){if(e=t.match(nt),t=t.substring(e[0].length),e[3]&&(e[1]?e[3]=null:e[1]=e[3]),e[1]==="^"?s="inheritedData":e[1]==="^^"&&(s="inheritedData",l=i.parent()),e[2]==="?"&&(c=!0),f=null,u&&s==="data"&&(f=u[t])&&(f=f.instance),f=f||l[s]("$"+t+"Controller"),!f&&!c)throw rt("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,n);return f||null}return o(t)&&(f=[],r(t,function(t){f.push(nr(n,t,i,u))})),f}function at(n,t,e,o,h){function ht(n,t,r){var u;return ir(n)||(r=t,t=n,n=i),wt&&(u=d),r||(r=wt?l.parent():l),h(n,t,u,r,ft)}var w,st,v,nt,p,d,g,l,c,it,y,ft;for(s===e?(c=a,l=a.$$element):(l=f(e),c=new fi(l,a)),tt&&(p=t.$new(!0)),h&&(g=ht,g.$$boundTransclude=h),yt&&(pt={},d={},r(yt,function(n){var r={$scope:n===tt||n.$$isolateScope?p:t,$element:l,$attrs:c,$transclude:g},i;nt=n.controller;nt=="@"&&(nt=c[n.name]);i=et(nt,r,!0,n.controllerAs);d[n.name]=i;wt||l.data("$"+n.name+"Controller",i.instance);pt[n.name]=i})),tt&&(dt.$$addScopeInfo(l,p,!0,!(ct&&(ct===tt||ct===tt.$$originalDirective))),dt.$$addScopeClass(l,!0),it=pt&&pt[tt.name],y=p,it&&it.identifier&&tt.bindToController===!0&&(y=it.instance),r(p.$$isolateBindings=tt.$$isolateBindings,function(n,i){var r=n.attrName,a=n.optional,v=n.mode,e,f,h,s,o,l;switch(v){case"@":c.$observe(r,function(n){y[i]=n});c.$$observers[r].$$scope=t;c[r]&&(y[i]=u(c[r])(t));break;case"=":if(a&&!c[r])return;f=ut(c[r]);s=f.literal?ot:function(n,t){return n===t||n!==n&&t!==t};h=f.assign||function(){e=y[i]=f(t);throw rt("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",c[r],tt.name);};e=y[i]=f(t);o=function(n){return s(n,y[i])||(s(n,e)?h(t,n=y[i]):y[i]=n),e=n};o.$stateful=!0;l=n.collection?t.$watchCollection(c[r],o):t.$watch(ut(c[r],o),null,f.literal);p.$on("$destroy",l);break;case"&":f=ut(c[r]);y[i]=function(n){return f(t,n)}}})),pt&&(r(pt,function(n){n()}),pt=null),w=0,st=b.length;w<st;w++)v=b[w],ki(v,v.isolateScope?p:t,l,c,v.require&&nr(v.directiveName,v.require,l,d),g);for(ft=t,tt&&(tt.template||tt.templateUrl===null)&&(ft=p),n&&n(ft,e.childNodes,i,h),w=k.length-1;w>=0;w--)v=k[w],ki(v,v.isolateScope?p:t,l,c,v.require&&nr(v.directiveName,v.require,l,d),g)}var lt,ci,ri,yi;d=d||{};var ni=-Number.MAX_VALUE,ti,yt=d.controllerDirectives,pt,tt=d.newIsolateScopeDirective,ct=d.templateDirective,ei=d.nonTlbTranscludeDirective,di=!1,gi=!1,wt=d.hasElementTranscludeDirective,it=a.$$element=f(s),g,st,ht,hi=w,ii=v,kt,ft;for(lt=0,ci=n.length;lt<ci;lt++){if(g=n[lt],ri=g.$$start,yi=g.$$end,ri&&(it=ai(s,ri,yi)),ht=i,ni>g.priority)break;if((ft=g.scope)&&(g.templateUrl||(c(ft)?(gt("new/isolated scope",tt||ti,g,it),tt=g):gt("new/isolated scope",tt,g,it)),ti=ti||g),st=g.name,!g.templateUrl&&g.controller&&(ft=g.controller,yt=yt||{},gt("'"+st+"' controller",yt[st],g,it),yt[st]=g),(ft=g.transclude)&&(di=!0,g.$$tlb||(gt("transclusion",ei,g,it),ei=g),ft=="element"?(wt=!0,ni=g.priority,ht=it,it=a.$$element=f(t.createComment(" "+st+": "+a[st]+" ")),s=it[0],ui(y,ff(ht),s),ii=dt(ht,v,ni,hi&&hi.name,{nonTlbTranscludeDirective:ei})):(ht=f(yf(s)).contents(),it.empty(),ii=dt(ht,v))),g.template)if(gi=!0,gt("template",ct,g,it),ct=g,ft=l(g.template)?g.template(it,a):g.template,ft=li(ft),g.replace){if(hi=g,ht=vf(ft)?[]:fs(si(g.templateNamespace,p(ft))),s=ht[0],ht.length!=1||s.nodeType!==vt)throw rt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",st,"");ui(y,it,s);var rr={$attr:{}},ur=oi(s,[],rr),er=n.splice(lt+1,n.length-(lt+1));tt&&pi(ur);n=n.concat(ur).concat(er);wi(a,rr);ci=n.length}else it.html(ft);if(g.templateUrl)gi=!0,gt("template",ct,g,it),ct=g,g.replace&&(hi=g),at=tr(n.splice(lt,n.length-lt),it,a,y,di&&ii,b,k,{controllerDirectives:yt,newIsolateScopeDirective:tt,templateDirective:ct,nonTlbTranscludeDirective:ei}),ci=n.length;else if(g.compile)try{kt=g.compile(it,a,ii);l(kt)?fr(null,kt,ri,yi):kt&&fr(kt.pre,kt.post,ri,yi)}catch(or){e(or,bt(it))}g.terminal&&(at.terminal=!0,ni=Math.max(ni,g.priority))}return at.scope=ti&&ti.scope===!0,at.transcludeOnThisElement=di,at.elementTranscludeOnThisElement=wt,at.templateOnThisElement=gi,at.transclude=ii,d.hasElementTranscludeDirective=wt,at}function pi(n){for(var t=0,i=n.length;t<i;t++)n[t]=rf(n[t],{$$isolateScope:!0})}function ii(t,r,u,f,o,s,h){var l;if(r===o)return null;if(l=null,w.hasOwnProperty(r))for(var c,v=n.get(r+b),a=0,y=v.length;a<y;a++)try{c=v[a];(f===i||f>c.priority)&&c.restrict.indexOf(u)!=-1&&(s&&(c=rf(c,{$$start:s,$$end:h})),t.push(c),l=c)}catch(p){e(p)}return l}function nr(t){if(w.hasOwnProperty(t))for(var r,u=n.get(t+b),i=0,f=u.length;i<f;i++)if(r=u[i],r.multiElement)return!0;return!1}function wi(n,t){var u=t.$attr,f=n.$attr,i=n.$$element;r(n,function(i,r){r.charAt(0)!="$"&&(t[r]&&t[r]!==i&&(i+=(r==="style"?";":" ")+t[r]),n.$set(r,i,!0,u[r]))});r(t,function(t,r){r=="class"?(ni(i,t),n["class"]=(n["class"]?n["class"]+" ":"")+t):r=="style"?(i.attr("style",i.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):r.charAt(0)=="$"||n.hasOwnProperty(r)||(n[r]=t,f[r]=u[r])})}function tr(n,t,i,u,e,o,s,h){var v=[],y,w,b=t[0],a=n.shift(),d=rf(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),k=l(a.templateUrl)?a.templateUrl(t,i):a.templateUrl,g=a.templateNamespace;return t.empty(),it(k).then(function(l){var nt,it,ut,st,ft,ct;if(l=li(l),a.replace){if(ut=vf(l)?[]:fs(si(g,p(l))),nt=ut[0],ut.length!=1||nt.nodeType!==vt)throw rt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a.name,k);it={$attr:{}};ui(u,t,nt);ft=oi(nt,[],it);c(a.scope)&&pi(ft);n=ft.concat(n);wi(i,it)}else nt=b,t.html(l);for(n.unshift(d),y=yi(n,nt,i,e,t,a,o,s,h),r(u,function(n,i){n==nt&&(u[i]=t[0])}),w=ei(t[0].childNodes,e);v.length;){var et=v.shift(),ot=v.shift(),lt=v.shift(),ht=v.shift(),tt=t[0];et.$$destroyed||(ot!==b&&(ct=ot.className,h.hasElementTranscludeDirective&&a.replace||(tt=yf(nt)),ui(lt,f(ot),tt),ni(f(tt),ct)),st=y.transcludeOnThisElement?ti(et,y.transclude,ht):ht,y(w,et,tt,u,st))}v=null}),function(n,t,i,r,u){var f=u;t.$$destroyed||(v?v.push(t,i,r,f):(y.transcludeOnThisElement&&(f=ti(t,y.transclude,u)),y(w,t,i,r,f)))}}function rr(n,t){var i=t.priority-n.priority;return i!==0?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function gt(n,t,i,r){if(t)throw rt("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,i.name,n,bt(r));}function fr(n,t){var i=u(t,!0);i&&n.push({priority:0,compile:function(n){var t=n.parent(),r=!!t.length;return r&&dt.$$addBindingClass(t),function(n,t){var u=t.parent();r||dt.$$addBindingClass(u);dt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){t[0].nodeValue=n})}}})}function si(n,i){n=y(n||"html");switch(n){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+n+">"+i+"<\/"+n+">",r.childNodes[0].childNodes;default:return i}}function er(n,t){if(t=="srcdoc")return at.HTML;var i=wt(n);if(t=="xlinkHref"||i=="form"&&t=="action"||i!="img"&&(t=="src"||t=="ngSrc"))return at.RESOURCE_URL}function or(n,t,i,r,f){var o=er(n,r),e;if(f=g[r]||f,e=u(i,!0,o,f),e){if(r==="multiple"&&wt(n)==="select")throw rt("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",bt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,s){var c=s.$$observers||(s.$$observers={}),h;if(tt.test(r))throw rt("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(h=s[r],h!==i&&(e=h&&u(h,!0,o,f),i=h),e)&&(s[r]=e(n),(c[r]||(c[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||n).$watch(e,function(n,t){r==="class"&&n!=t?s.$updateClass(n,t):s.$set(r,n)}))}}}})}}function ui(n,i,r){var u=i[0],a=i.length,v=u.parentNode,e,y,c,s,w,l;if(n)for(e=0,y=n.length;e<y;e++)if(n[e]==u){n[e++]=r;for(var o=e,h=o+a-1,p=n.length;o<p;o++,h++)h<p?n[o]=n[h]:delete n[o];n.length-=a-1;n.context===u&&(n.context=r);break}for(v&&v.replaceChild(r,u),c=t.createDocumentFragment(),c.appendChild(u),f(r).data(f(u).data()),ft?(sf=!0,ft.cleanData([u])):delete f.cache[u[f.expando]],s=1,w=i.length;s<w;s++)l=i[s],f(l).remove(),c.appendChild(l),delete i[s];i[0]=r;i.length=1}function bi(n,t){return a(function(){return n.apply(null,arguments)},n,t)}function ki(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(o){e(o,bt(i))}}var fi=function(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n};fi.prototype={$normalize:kt,$addClass:function(n){n&&n.length>0&&yt.addClass(this.$$element,n)},$removeClass:function(n){n&&n.length>0&&yt.removeClass(this.$$element,n)},$updateClass:function(n,t){var r=us(n,t),i;r&&r.length&&yt.addClass(this.$$element,r);i=us(t,n);i&&i.length&&yt.removeClass(this.$$element,i)},$set:function(n,t,u,f){var w=this.$$element[0],b=ko(w,n),a=fa(w,n),k=n,h,s,v,l,y;if(b?(this.$$element.prop(n,t),f=b):a&&(this[a]=t,k=a),this[n]=t,f?this.$attr[n]=f:(f=this.$attr[n],f||(this.$attr[n]=f=oo(n,"-"))),h=wt(this.$$element),h==="a"&&n==="href"||h==="img"&&n==="src")this[n]=t=pt(t,n==="src");else if(h==="img"&&n==="srcset"){var o="",d=p(t),g=/\s/.test(d)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,c=d.split(g),nt=Math.floor(c.length/2);for(s=0;s<nt;s++)v=s*2,o+=pt(p(c[v]),!0),o+=" "+p(c[v+1]);l=p(c[s*2]).split(/\s/);o+=pt(p(l[0]),!0);l.length===2&&(o+=" "+p(l[1]));this[n]=t=o}u!==!1&&(t===null||t===i?this.$$element.removeAttr(f):this.$$element.attr(f,t));y=this.$$observers;y&&r(y[k],function(n){try{n(t)}catch(i){e(i)}})},$observe:function(n,t){var i=this,u=i.$$observers||(i.$$observers=st()),r=u[n]||(u[n]=[]);return r.push(t),ht.$evalAsync(function(){!r.$$inter&&i.hasOwnProperty(n)&&t(i[n])}),function(){ur(r,t)}}};var hi=u.startSymbol(),ci=u.endSymbol(),li=hi=="{{"||ci=="}}"?lt:function(n){return n.replace(/\{\{/g,hi).replace(/}}/g,ci)},di=/^ngAttr[A-Z]/;return dt.$$addBindingInfo=v?function(n,t){var i=n.data("$binding")||[];o(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:s,dt.$$addBindingClass=v?function(n){ni(n,"ng-binding")}:s,dt.$$addScopeInfo=v?function(n,t,i,r){var u=i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";n.data(u,t)}:s,dt.$$addScopeClass=v?function(n,t){ni(n,t?"ng-isolate-scope":"ng-scope")}:s,dt}]}function kt(n){return cr(n.replace(df,""))}function us(n,t){var u="",e=n.split(/\s+/),o=t.split(/\s+/),i,f,r;n:for(i=0;i<e.length;i++){for(f=e[i],r=0;r<o.length;r++)if(f==o[r])continue n;u+=(u.length>0?" ":"")+f}return u}function fs(n){var t,i;if(n=f(n),t=n.length,t<=1)return n;while(t--)i=n[t],i.nodeType===cf&&dc.call(n,t,1);return n}function da(){var n={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,i){ai(t,"controller");c(t)?a(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(u,f){function e(n,t,i,r){if(!(n&&c(n.$scope)))throw v("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);n.$scope[t]=i}return function(s,c,l,v){var p,b,y,w,k;if(l=l===!0,v&&h(v)&&(w=v),h(s)){if(b=s.match(r),!b)throw es("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",s);y=b[1];w=w||b[3];s=n.hasOwnProperty(y)?n[y]:so(c.$scope,y,!0)||(t?so(f,y,!0):i);li(s,y,!0)}return l?(k=(o(s)?s[s.length-1]:s).prototype,p=Object.create(k||null),w&&e(c,w,p,y||s.name),a(function(){return u.invoke(s,p,c,y),p},{instance:p,identifier:w})):(p=u.instantiate(s,c,y),w&&e(c,w,p,y||s.name),p)}}]}function ga(){this.$get=["$window",function(n){return f(n.document)}]}function nv(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function ne(n,t){var i,r;return h(n)&&(i=n.replace(rv,"").trim(),i&&(r=t("Content-Type"),(r&&r.indexOf(os)===0||uv(i))&&(n=io(i)))),n}function uv(n){var t=n.match(tv);return t&&iv[t[0]].test(n)}function ss(n){var t=st(),i,u,f;return n?(r(n.split("\n"),function(n){f=n.indexOf(":");i=y(p(n.substr(0,f)));u=p(n.substr(f+1));i&&(t[i]=t[i]?t[i]+", "+u:u)}),t):t}function hs(n){var t=c(n)?n:i;return function(i){if(t||(t=ss(n)),i){var r=t[y(i)];return r===void 0&&(r=null),r}return t}}function cs(n,t,i,u){return l(u)?u(n,t,i):(r(u,function(r){n=r(n,t,i)}),n)}function te(n){return 200<=n&&n<300}function fv(){var n=this.defaults={transformResponse:[ne],transformRequest:[function(n){return c(n)&&!il(n)&&!ul(n)&&!rl(n)?er(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:at(gf),put:at(gf),patch:at(gf)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1,f;this.useApplyAsync=function(n){return u(n)?(t=!!n,this):t};f=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,p,w,b,k,d){function g(t){function c(n){var t=a({},n);return t.data=n.data?cs(n.data,n.headers,n.status,f.transformResponse):n.data,te(n.status)?t:k.reject(t)}function w(n){var t,i={};return r(n,function(n,r){l(n)?(t=n(),t!=null&&(i[r]=t)):i[r]=n}),i}function b(t){var i=n.headers,u=a({},t.headers),r,f,e;i=a({},i.common,i[y(t.method)]);n:for(r in i){f=y(r);for(e in u)if(y(e)===f)continue n;u[r]=i[r]}return w(u)}var f,s,h;if(!nt.isObject(t))throw v("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);f=a({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse},t);f.headers=b(t);f.method=ki(f.method);var p=function(t){var u=t.headers,f=cs(t.data,hs(u),i,t.transformRequest);return e(f)&&r(u,function(n,t){y(t)==="content-type"&&delete u[t]}),e(t.withCredentials)&&!e(n.withCredentials)&&(t.withCredentials=n.withCredentials),ft(t,f).then(c,c)},o=[p,i],u=k.when(f);for(r(tt,function(n){(n.request||n.requestError)&&o.unshift(n.request,n.requestError);(n.response||n.responseError)&&o.push(n.response,n.responseError)});o.length;)s=o.shift(),h=o.shift(),u=u.then(s,h);return u.success=function(n){return li(n,"fn"),u.then(function(t){n(t.data,t.status,t.headers,f)}),u},u.error=function(n){return li(n,"fn"),u.then(null,function(t){n(t.data,t.status,t.headers,f)}),u},u}function rt(){r(arguments,function(n){g[n]=function(t,i){return g(a(i||{},{method:n,url:t}))}})}function ut(){r(arguments,function(n){g[n]=function(t,i,r){return g(a(r||{},{method:n,url:t,data:i}))}})}function ft(r,f){function ut(n,i,r,u){function f(){v(i,n,r,u)}l&&(te(n)?l.put(a,[n,i,ss(r),u]):l.remove(a));t?b.$applyAsync(f):(f(),b.$$phase||b.$apply())}function v(n,t,i,u){t=t>=-1?t:0;(te(t)?y.resolve:y.reject)({data:n,status:t,headers:hs(i),config:r,statusText:u})}function tt(n){v(n.data,n.status,at(n.headers()),n.statusText)}function rt(){var n=g.pendingRequests.indexOf(r);n!==-1&&g.pendingRequests.splice(n,1)}var y=k.defer(),w=y.promise,l,h,nt=r.headers,a=ot(r.url,r.params),d;return g.pendingRequests.push(r),w.then(rt,rt),(r.cache||n.cache)&&r.cache!==!1&&(r.method==="GET"||r.method==="JSONP")&&(l=c(r.cache)?r.cache:c(n.cache)?n.cache:it),l&&(h=l.get(a),u(h)?iu(h)?h.then(tt,tt):o(h)?v(h[1],h[0],at(h[2]),h[3]):v(h,200,{},"OK"):l.put(a,w)),e(h)&&(d=ih(r.url)?p.cookies()[r.xsrfCookieName||n.xsrfCookieName]:i,d&&(nt[r.xsrfHeaderName||n.xsrfHeaderName]=d),s(r.method,a,f,ut,nt,r.timeout,r.withCredentials,r.responseType)),w}function ot(n,t){if(!t)return n;var i=[];return tl(t,function(n,t){n===null||e(n)||(o(n)||(n=[n]),r(n,function(n){c(n)&&(n=et(n)?n.toISOString():er(n));i.push(ii(t)+"="+ii(n))}))}),i.length>0&&(n+=(n.indexOf("?")==-1?"?":"&")+i.join("&")),n}var it=w("$http"),tt=[];return r(f,function(n){tt.unshift(h(n)?d.get(n):d.invoke(n))}),g.pendingRequests=[],rt("get","delete","head","jsonp"),ut("post","put","patch"),g.defaults=n,g}]}function ev(){return new n.XMLHttpRequest}function ov(){this.$get=["$browser","$window","$document",function(n,t,i){return sv(n,ev,n.defer,t.angular.callbacks,i[0])}]}function sv(n,t,f,e,o){function h(n,t,i){var r=o.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){hr(r,"load",u);hr(r,"error",u);o.body.removeChild(r);r=null;var f=-1,s="unknown";n&&(n.type!=="load"||e[t].called||(n={type:"error"}),s=n.type,f=n.type==="error"?404:200);i&&i(f,s)},eu(r,"load",u),eu(r,"error",u),o.body.appendChild(r),u}return function(o,c,l,a,v,p,w,b){function rt(){g&&g();k&&k.abort()}function it(t,r,u,e,o){tt!==i&&f.cancel(tt);g=k=null;t(r,u,e,o);n.$$completeOutstandingRequest(s)}var d,g,k,nt,tt;if(n.$$incOutstandingRequestCount(),c=c||n.url(),y(o)=="jsonp")d="_"+(e.counter++).toString(36),e[d]=function(n){e[d].data=n;e[d].called=!0},g=h(c.replace("JSON_CALLBACK","angular.callbacks."+d),d,function(n,t){it(a,n,e[d].data,"",t);e[d]=s});else{if(k=t(),k.open(o,c,!0),r(v,function(n,t){u(n)&&k.setRequestHeader(t,n)}),k.onload=function(){var i=k.statusText||"",t="response"in k?k.response:k.responseText,n=k.status===1223?204:k.status;n===0&&(n=t?200:gt(c).protocol=="file"?404:0);it(a,n,t,k.getAllResponseHeaders(),i)},nt=function(){it(a,-1,null,null,"")},k.onerror=nt,k.onabort=nt,w&&(k.withCredentials=!0),b)try{k.responseType=b}catch(ut){if(b!=="json")throw ut;}k.send(l||null)}p>0?tt=f(rt,p):iu(p)&&p.then(rt)}}function hv(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,r,f){function h(n){return"\\\\\\"+n}function o(o,h,p,w){function et(i){return i.replace(v,n).replace(y,t)}function ht(n){try{return n=ot(n),w&&!u(n)?n:st(n)}catch(t){var i=yu("interr","Can't interpolate: {0}\n{1}",o,t.toString());r(i)}}w=!!w;for(var d,nt,b=0,g=[],tt=[],rt=o.length,it,k=[],ut=[];b<rt;)if((d=o.indexOf(n,b))!=-1&&(nt=o.indexOf(t,d+s))!=-1)b!==d&&k.push(et(o.substring(b,d))),it=o.substring(d+s,nt),g.push(it),tt.push(i(it,ht)),b=nt+c,ut.push(k.length),k.push("");else{b!==rt&&k.push(et(o.substring(b)));break}if(p&&k.length>1)throw yu("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!h||g.length){var ft=function(n){for(var t=0,i=g.length;t<i;t++){if(w&&e(n[t]))return;k[ut[t]]=n[t]}return k.join("")},ot=function(n){return p?f.getTrusted(p,n):f.valueOf(n)},st=function(n){if(n==null)return"";switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=er(n)}return n};return a(function(n){var t=0,i=g.length,u=new Array(i),f;try{for(;t<i;t++)u[t]=tt[t](n);return ft(u)}catch(e){f=yu("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(f)}},{exp:o,expressions:g,$$watchDelegate:function(n,t,i){var r;return n.$watchGroup(tt,function(i,u){var f=ft(i);l(t)&&t.call(this,f,i!==u?r:f,n);r=f},i)}})}}var s=n.length,c=t.length,v=new RegExp(n.replace(/./g,h),"g"),y=new RegExp(t.replace(/./g,h),"g");return o.startSymbol=function(){return n},o.endSymbol=function(){return t},o}]}function cv(){this.$get=["$rootScope","$window","$q","$$q",function(n,t,i,r){function e(e,o,s,h){var y=t.setInterval,p=t.clearInterval,a=0,v=u(h)&&!h,l=(v?r:i).defer(),c=l.promise;return s=u(s)?s:0,c.then(null,null,e),c.$$intervalId=y(function(){l.notify(a++);s>0&&a>=s&&(l.resolve(a),p(c.$$intervalId),delete f[c.$$intervalId]);v||n.$apply()},o),f[c.$$intervalId]=l,c}var f={};return e.cancel=function(n){return n&&n.$$intervalId in f?(f[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete f[n.$$intervalId],!0):!1},e}]}function lv(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(n){return n===1?"one":"other"}}}}function ie(n){for(var t=n.split("/"),i=t.length;i--;)t[i]=ru(t[i]);return t.join("/")}function ls(n,t){var i=gt(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=g(i.port)||vv[i.protocol]||null}function as(n,t){var r=n.charAt(0)!=="/",i;r&&(n="/"+n);i=gt(n);t.$$path=decodeURIComponent(r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname);t.$$search=uo(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&t.$$path.charAt(0)!="/"&&(t.$$path="/"+t.$$path)}function yt(n,t){if(t.indexOf(n)===0)return t.substr(n.length)}function fi(n){var t=n.indexOf("#");return t==-1?n:n.substr(0,t)}function wu(n){return n.replace(/(#.+)|#$/,"$1")}function yv(n){return n.substr(0,fi(n).lastIndexOf("/")+1)}function pv(n){return n.substring(0,n.indexOf("/",n.indexOf("//")+2))}function re(n,t,r){this.$$html5=!0;r=r||"";ls(n,this);this.$$parse=function(n){var i=yt(t,n);if(!h(i))throw pu("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',n,t);as(i,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=ef(this.$$search),i=this.$$hash?"#"+ru(this.$$hash):"";this.$$url=ie(this.$$path)+(n?"?"+n:"")+i;this.$$absUrl=t+this.$$url.substr(1)};this.$$parseLinkUrl=function(u,f){if(f&&f[0]==="#")return this.hash(f.slice(1)),!0;var e,s,o;return(e=yt(n,u))!==i?(s=e,o=(e=yt(r,e))!==i?t+(yt("/",e)||e):n+s):(e=yt(t,u))!==i?o=t+e:t==u+"/"&&(o=t),o&&this.$$parse(o),!!o}}function ue(n,t,i){ls(n,this);this.$$parse=function(r){function o(n,t,i){var u=/^\/[A-Z]:(\/.*)/,r;return(t.indexOf(i)===0&&(t=t.replace(i,"")),u.exec(t))?n:(r=u.exec(n),r?r[1]:n)}var f=yt(n,r)||yt(t,r),u;e(f)||f.charAt(0)!=="#"?this.$$html5?u=f:(u="",e(f)&&(n=r,this.replace())):(u=yt(i,f),e(u)&&(u=f));as(u,this);this.$$path=o(this.$$path,u,n);this.$$compose()};this.$$compose=function(){var t=ef(this.$$search),r=this.$$hash?"#"+ru(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+(this.$$url?i+this.$$url:"")};this.$$parseLinkUrl=function(t){return fi(n)==fi(t)?(this.$$parse(t),!0):!1}}function vs(n,t,i){this.$$html5=!0;ue.apply(this,arguments);this.$$parseLinkUrl=function(r,u){if(u&&u[0]==="#")return this.hash(u.slice(1)),!0;var f,e;return n==fi(r)?f=r:(e=yt(t,r))?f=n+i+e:t===r+"/"&&(f=t),f&&this.$$parse(f),!!f};this.$$compose=function(){var t=ef(this.$$search),r=this.$$hash?"#"+ru(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+i+this.$$url}}function bu(n){return function(){return this[n]}}function ps(n,t){return function(i){return e(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function wv(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return u(n)?(t=n,this):t};this.html5Mode=function(t){return rr(t)?(n.enabled=t,this):c(t)?(rr(t.enabled)&&(n.enabled=t.enabled),rr(t.requireBase)&&(n.requireBase=t.requireBase),rr(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,u,o,s){function k(n,t,i){var u=h.url(),f=h.$$state;try{r.url(n,t,i);h.$$state=r.state()}catch(e){h.url(u);h.$$state=f;throw e;}}function d(n,t){i.$broadcast("$locationChangeSuccess",h.absUrl(),n,h.$$state,t)}var h,y,w=r.baseHref(),l=r.url(),a,p,b,v;if(n.enabled){if(!w&&n.requireBase)throw pu("nobase","$location in HTML5 mode requires a <base> tag to be present!");a=pv(l)+(w||"/");y=u.history?re:vs}else a=fi(l),y=ue;p=yv(a);h=new y(a,p,"#"+t);h.$$parseLinkUrl(l,l);h.$$state=r.state();b=/^\s*(javascript|mailto):/i;o.on("click",function(t){var u,e,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&t.which!=2&&t.button!=2){for(u=f(t.target);wt(u[0])!=="a";)if(u[0]===o[0]||!(u=u.parent())[0])return;(e=u.prop("href"),l=u.attr("href")||u.attr("xlink:href"),c(e)&&e.toString()==="[object SVGAnimatedString]"&&(e=gt(e.animVal).href),b.test(e))||!e||u.attr("target")||t.isDefaultPrevented()||h.$$parseLinkUrl(e,l)&&(t.preventDefault(),h.absUrl()!=r.url()&&(i.$apply(),s.angular["ff-684208-preventDefault"]=!0))}});wu(h.absUrl())!=wu(l)&&r.url(h.absUrl(),!0);v=!0;r.onUrlChange(function(n,t){if(e(yt(p,n))){s.location.href=n;return}i.$evalAsync(function(){var r=h.absUrl(),u=h.$$state,f;(h.$$parse(n),h.$$state=t,f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented,h.absUrl()===n)&&(f?(h.$$parse(r),h.$$state=u,k(r,!1,u)):(v=!1,d(r,u)))});i.$$phase||i.$digest()});return i.$watch(function(){var t=wu(r.url()),e=wu(h.absUrl()),n=r.state(),o=h.$$replace,f=t!==e||h.$$html5&&u.history&&n!==h.$$state;(v||f)&&(v=!1,i.$evalAsync(function(){var r=h.absUrl(),u=i.$broadcast("$locationChangeStart",r,t,h.$$state,n).defaultPrevented;h.absUrl()===r&&(u?(h.$$parse(t),h.$$state=n):(f&&k(r,o,n===h.$$state?null:h.$$state),d(t,n)))}));h.$$replace=!1}),h}]}function bv(){var n=!0,t=this;this.debugEnabled=function(t){return u(t)?(n=t,this):n};this.$get=["$window",function(i){function f(n){return n instanceof Error&&(n.stack?n=n.message&&n.stack.indexOf(n.message)===-1?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var t=i.console||{},u=t[n]||t.log||s,e=!1;try{e=!!u.apply}catch(o){}return e?function(){var n=[];return r(arguments,function(t){n.push(f(t))}),u.apply(t,n)}:function(n,t){u(n,t==null?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var i=u("debug");return function(){n&&i.apply(t,arguments)}}()}}]}function pt(n,t){if(n==="__defineGetter__"||n==="__defineSetter__"||n==="__lookupGetter__"||n==="__lookupSetter__"||n==="__proto__")throw tt("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return n}function ws(n,t){if(n=n+"",!h(n))throw tt("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return n}function ct(n,t){if(n)if(n.constructor===n)throw tt("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);else if(n.window===n)throw tt("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);else if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw tt("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);else if(n===Object)throw tt("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t);return n}function ny(n,t){if(n)if(n.constructor===n)throw tt("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);else if(n===kv||n===dv||n===gv)throw tt("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t);}function ee(n){return n.constant}function pr(n,t,i,r,u){var o,f,s,e;for(ct(n,u),ct(t,u),o=i.split("."),s=0;o.length>1;s++)f=pt(o.shift(),u),e=s===0&&t&&t[f]||n[f],e||(e={},n[f]=e),n=ct(e,u);return f=pt(o.shift(),u),ct(n[f],u),n[f]=r,r}function wi(n){return n=="constructor"}function ds(n,t,r,u,f,e,o){pt(n,e);pt(t,e);pt(r,e);pt(u,e);pt(f,e);var s=function(n){return ct(n,e)},h=o||wi(n)?s:lt,c=o||wi(t)?s:lt,l=o||wi(r)?s:lt,a=o||wi(u)?s:lt,v=o||wi(f)?s:lt;return function(e,o){var s=o&&o.hasOwnProperty(n)?o:e;return s==null?s:(s=h(s[n]),!t)?s:s==null?i:(s=c(s[t]),!r)?s:s==null?i:(s=l(s[r]),!u)?s:s==null?i:(s=a(s[u]),!f)?s:s==null?i:v(s[f])}}function iy(n,t){return function(i,r){return n(i,r,ct,t)}}function ry(n,t,u){var o=t.expensiveChecks,a=o?ks:bs,e=a[n],f,c,s,l,h;return e?e:(f=n.split("."),c=f.length,t.csp?e=c<6?ds(f[0],f[1],f[2],f[3],f[4],u,o):function(n,t){var r=0,e;do e=ds(f[r++],f[r++],f[r++],f[r++],f[r++],u,o)(n,t),t=i,n=e;while(r<c);return e}:(s="",o&&(s+="s = eso(s, fe);\nl = eso(l, fe);\n"),l=o,r(f,function(n,t){pt(n,u);var i=(t?"s":'((l&&l.hasOwnProperty("'+n+'"))?l:s)')+"."+n;(o||wi(n))&&(i="eso("+i+", fe)",l=!0);s+="if(s == null) return undefined;\ns="+i+";\n"}),s+="return s;",h=new Function("s","l","eso","fe",s),h.toString=it(s),l&&(h=iy(h,u)),e=h),e.sharedGetter=!0,e.assign=function(t,i,r){return pr(t,r,n,i,n)},a[n]=e,e)}function oe(n){return l(n.valueOf)?n.valueOf():gs.call(n)}function uy(){var n=st(),t=st();this.$get=["$filter","$sniffer",function(i,f){function w(n){var t=n;return n.sharedGetter&&(t=function(t,i){return n(t,i)},t.literal=n.literal,t.constant=n.constant,t.assign=n.assign),t}function c(n,t){for(var i,r=0,u=n.length;r<u;r++)i=n[r],i.constant||(i.inputs?c(i.inputs,t):t.indexOf(i)===-1&&t.push(i));return t}function e(n,t){return n==null||t==null?n===t:typeof n=="object"&&(n=oe(n),typeof n=="object")?!1:n===t||n!==n&&t!==t}function o(n,t,i,r){var u=r.$$inputs||(r.$$inputs=c(r.inputs,[])),f,h,o,s,l;if(u.length===1)return h=e,u=u[0],n.$watch(function(n){var t=u(n);return e(t,h)||(f=r(n),h=t&&oe(t)),f},t,i);for(o=[],s=0,l=u.length;s<l;s++)o[s]=e;return n.$watch(function(n){for(var i,s=!1,t=0,h=u.length;t<h;t++)i=u[t](n),(s||(s=!e(i,o[t])))&&(o[t]=i&&oe(i));return s&&(f=r(n)),f},t,i)}function a(n,t,i,r){var f,e;return f=n.$watch(function(n){return r(n)},function(n,i,r){e=n;l(t)&&t.apply(this,arguments);u(n)&&r.$$postDigest(function(){u(e)&&f()})},i)}function v(n,t,i,f){function s(n){var t=!0;return r(n,function(n){u(n)||(t=!1)}),t}var e,o;return e=n.$watch(function(n){return f(n)},function(n,i,r){o=n;l(t)&&t.call(this,n,i,r);s(n)&&r.$$postDigest(function(){s(o)&&e()})},i)}function b(n,t,i,r){var u;return u=n.$watch(function(n){return r(n)},function(){l(t)&&t.apply(this,arguments);u()},i)}function h(n,t){if(!t)return n;var r=n.$$watchDelegate,f=r!==v&&r!==a,i=f?function(i,r){var u=n(i,r);return t(u,i,r)}:function(i,r){var f=n(i,r),e=t(f,i,r);return u(f)?e:f};return n.$$watchDelegate&&n.$$watchDelegate!==o?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=o,i.inputs=[n]),i}var y={csp:f.csp,expensiveChecks:!1},p={csp:f.csp,expensiveChecks:!0};return function(r,u,f){var e,k,c,l;switch(typeof r){case"string":if(c=r=r.trim(),l=f?t:n,e=l[c],!e){r.charAt(0)===":"&&r.charAt(1)===":"&&(k=!0,r=r.substring(2));var d=f?p:y,g=new fe(d),nt=new pi(g,i,d);e=nt.parse(r);e.constant?e.$$watchDelegate=b:k?(e=w(e),e.$$watchDelegate=e.literal?v:a):e.inputs&&(e.$$watchDelegate=o);l[c]=e}return h(e,u);case"function":return h(r,u);default:return h(s,u)}}}]}function fy(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return nh(function(t){n.$evalAsync(t)},t)}]}function ey(){this.$get=["$browser","$exceptionHandler",function(n,t){return nh(function(t){n.defer(t)},t)}]}function nh(n,t){function k(n,t,i){function u(t){return function(i){r||(r=!0,t.call(n,i))}}var r=!1;return[u(t),u(i)]}function y(){this.$$state={status:0}}function s(n,t){return function(i){t.call(n,i)}}function g(n){var e,r,f,u,o;for(f=n.pending,n.processScheduled=!1,n.pending=i,u=0,o=f.length;u<o;++u){r=f[u][0];e=f[u][n.status];try{l(e)?r.resolve(e(n.value)):n.status===1?r.resolve(n.value):r.reject(n.value)}catch(s){r.reject(s);t(s)}}}function h(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,n(function(){g(t)}))}function u(){this.promise=new y;this.resolve=s(this,this.resolve);this.reject=s(this,this.reject);this.notify=s(this,this.notify)}function tt(n){var i=new u,f=0,t=o(n)?[]:{};return r(n,function(n,r){f++;w(n).then(function(n){t.hasOwnProperty(r)||(t[r]=n,--f||i.resolve(t))},function(n){t.hasOwnProperty(r)||i.reject(n)})}),f===0&&i.resolve(t),i.promise}var a=v("$q",TypeError),d=function(){return new u},f;y.prototype={then:function(n,t,i){var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,n,t,i]),this.$$state.status>0&&h(this.$$state),r.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return p(t,!0,n)},function(t){return p(t,!1,n)},t)}};u.prototype={resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(a("qcycle","Expected promise to be resolved with value other than itself '{0}'",n)):this.$$resolve(n))},$$resolve:function(n){var i,r=k(this,this.$$resolve,this.$$reject);try{(c(n)||l(n))&&(i=n&&n.then);l(i)?(this.promise.$$state.status=-1,i.call(n,r[0],r[1],this.notify)):(this.promise.$$state.value=n,this.promise.$$state.status=1,h(this.promise.$$state))}catch(u){r[1](u);t(u)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;h(this.promise.$$state)},notify:function(i){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&n(function(){for(var u,f,n=0,e=r.length;n<e;n++){f=r[n][0];u=r[n][3];try{f.notify(l(u)?u(i):i)}catch(o){t(o)}}})}};var nt=function(n){var t=new u;return t.reject(n),t.promise},e=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},p=function(n,t,i){var r=null;try{l(i)&&(r=i())}catch(u){return e(u,!1)}return iu(r)?r.then(function(){return e(n,t)},function(n){return e(n,!1)}):e(n,t)},w=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)};return f=function b(n){function i(n){t.resolve(n)}function r(n){t.reject(n)}if(!l(n))throw a("norslvr","Expected resolverFn, got '{0}'",n);if(!(this instanceof b))return new b(n);var t=new u;return n(i,r),t.promise},f.defer=d,f.reject=nt,f.when=w,f.all=tt,f}function oy(){this.$get=["$window","$timeout",function(n,t){function c(){for(var t,n=0;n<i.length;n++)t=i[n],t&&(i[n]=null,t());u=i.length=0}function o(n){var t=i.length;return u++,i.push(n),t===0&&(r=h(c)),function(){t>=0&&(i[t]=null,t=null,--u==0&&r&&(r(),r=null,i.length=0))}}var f=n.requestAnimationFrame||n.webkitRequestAnimationFrame,s=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,e=!!f,h=e?function(n){var t=f(n);return function(){s(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}},r,u,i;return o.supported=e,u=0,i=[],o}]}function sy(){function f(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=tu();this.$$ChildScope=null}return t.prototype=n,t}var i=10,u=v("$rootScope"),n=null,t=null;this.digestTtl=function(n){return arguments.length&&(i=n),i};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(o,h,a,v){function rt(n){n.currentScope.$$destroyed=!0}function w(){this.$id=tu();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function g(n){if(y.$$phase)throw u("inprog","{0} already in progress",y.$$phase);y.$$phase=n}function d(){y.$$phase=null}function nt(n,t,i){do n.$$listenerCount[i]-=t,n.$$listenerCount[i]===0&&delete n.$$listenerCount[i];while(n=n.$parent)}function tt(){}function it(){while(k.length)try{k.shift()()}catch(n){h(n)}t=null}function ut(){t===null&&(t=v.defer(function(){y.$apply(it)}))}w.prototype={constructor:w,$new:function(n,t){var i;return t=t||this,n?(i=new w,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=f(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",rt),i},$watch:function(t,i,r){var u=a(t);if(u.$$watchDelegate)return u.$$watchDelegate(this,i,r,u);var o=this,f=o.$$watchers,e={fn:i,last:tt,get:u,exp:t,eq:!!r};return n=null,l(i)||(e.fn=s),f||(f=o.$$watchers=[]),f.unshift(e),function(){ur(f,e);n=null}},$watchGroup:function(n,t){function c(){o=!1;h?(h=!1,t(i,i,u)):t(i,f,u)}var f=new Array(n.length),i=new Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?n.length===1?this.$watch(n[0],function(n,r,u){i[0]=n;f[0]=r;t(i,n===r?i:f,u)}):(r(n,function(n,t){var r=u.$watch(n,function(n,r){i[t]=n;f[t]=r;o||(o=!0,u.$evalAsync(c))});e.push(r)}),function(){while(e.length)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&t(i,i,u)}),function(){s=!1})},$watchCollection:function(n,t){function y(n){var a,o,y,t,s,v;if(i=n,!e(i)){if(c(i))if(gi(i))for(r!==h&&(r=h,f=r.length=0,u++),a=i.length,f!==a&&(u++,r.length=f=a),v=0;v<a;v++)s=r[v],t=i[v],y=s!==s&&t!==t,y||s===t||(u++,r[v]=t);else{r!==l&&(r=l={},f=0,u++);a=0;for(o in i)i.hasOwnProperty(o)&&(a++,t=i[o],s=r[o],o in r?(y=s!==s&&t!==t,y||s===t||(u++,r[o]=t)):(f++,r[o]=t,u++));if(f>a){u++;for(o in r)i.hasOwnProperty(o)||(f--,delete r[o])}}else r!==i&&(r=i,u++);return u}}function b(){var n,r;if(v?(v=!1,t(i,i,s)):t(i,o,s),p)if(c(i))if(gi(i))for(o=new Array(i.length),n=0;n<i.length;n++)o[n]=i[n];else{o={};for(r in i)we.call(i,r)&&(o[r]=i[r])}else o=i}y.$stateful=!0;var s=this,i,r,o,p=t.length>1,u=0,w=a(n,y),h=[],l={},v=!0,f=0;return this.$watch(w,b)},$digest:function(){var r,e,o,k,nt,s,rt=i,ut,f,ft=this,c=[],a,w;g("$digest");v.$$checkUrlChange();this===y&&t!==null&&(v.defer.cancel(t),it());n=null;do{for(s=!1,f=ft;p.length;){try{w=p.shift();w.scope.$eval(w.expression,w.locals)}catch(et){h(et)}n=null}n:do{if(k=f.$$watchers)for(nt=k.length;nt--;)try{if(r=k[nt],r)if((e=r.get(f))===(o=r.last)||(r.eq?ot(e,o):typeof e=="number"&&typeof o=="number"&&isNaN(e)&&isNaN(o))){if(r===n){s=!1;break n}}else s=!0,n=r,r.last=r.eq?ti(e,null):e,r.fn(e,o===tt?e:o,f),rt<5&&(a=4-rt,c[a]||(c[a]=[]),c[a].push({msg:l(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:e,oldVal:o}))}catch(et){h(et)}if(!(ut=f.$$childHead||f!==ft&&f.$$nextSibling))while(f!==ft&&!(ut=f.$$nextSibling))f=f.$parent}while(f=ut);if((s||p.length)&&!rt--){d();throw u("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,c);}}while(s||p.length);for(d();b.length;)try{b.shift()()}catch(et){h(et)}},$destroy:function(){var n,t;if(!this.$$destroyed&&(n=this.$parent,this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y)){for(t in this.$$listenerCount)nt(this,this.$$listenerCount[t],t);n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=s;this.$on=this.$watch=this.$watchGroup=function(){return s};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(n,t){return a(n)(this,t)},$evalAsync:function(n,t){y.$$phase||p.length||v.defer(function(){p.length&&y.$digest()});p.push({scope:this,expression:n,locals:t})},$$postDigest:function(n){b.push(n)},$apply:function(n){try{return g("$apply"),this.$eval(n)}catch(t){h(t)}finally{d();try{y.$digest()}catch(t){h(t);throw t;}}},$applyAsync:function(n){function i(){t.$eval(n)}var t=this;n&&k.push(i);ut()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);i!==-1&&(r[i]=null,nt(u,1,n))}},$emit:function(n){var o=[],u,r=this,e=!1,t={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){t.defaultPrevented=!0},defaultPrevented:!1},s=fr([t],arguments,1),i,f;do{for(u=r.$$listeners[n]||o,t.currentScope=r,i=0,f=u.length;i<f;i++){if(!u[i]){u.splice(i,1);i--;f--;continue}try{u[i].apply(null,s)}catch(c){h(c)}}if(e)return t.currentScope=null,t;r=r.$parent}while(r);return t.currentScope=null,t},$broadcast:function(n){var r=this,t=r,e=r,u={name:n,targetScope:r,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},s,f,i,o;if(!r.$$listenerCount[n])return u;for(s=fr([u],arguments,1);t=e;){for(u.currentScope=t,f=t.$$listeners[n]||[],i=0,o=f.length;i<o;i++){if(!f[i]){f.splice(i,1);i--;o--;continue}try{f[i].apply(null,s)}catch(c){h(c)}}if(!(e=t.$$listenerCount[n]&&t.$$childHead||t!==r&&t.$$nextSibling))while(t!==r&&!(e=t.$$nextSibling))t=t.$parent}return u.currentScope=null,u}};var y=new w,p=y.$$asyncQueue=[],b=y.$$postDigestQueue=[],k=y.$$applyAsyncQueue=[];return y}]}function hy(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return u(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return(u=gt(i).href,u!==""&&!u.match(f))?"unsafe:"+u:i}}}function cy(n){if(n==="self")return n;if(h(n)){if(n.indexOf("***")>-1)throw dt("iwcard","Illegal sequence *** in string matcher.  String: {0}",n);return n=uf(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(nr(n))return new RegExp("^"+n.source+"$");throw dt("imatcher",'Matchers may only be "self", string patterns or RegExp objects');}function th(n){var t=[];return u(n)&&r(n,function(n){t.push(cy(n))}),t}function ly(){this.SCE_CONTEXTS=ut;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=th(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=th(n)),t};this.$get=["$injector",function(r){function s(n,t){return n==="self"?ih(t):!!n.exec(t.href)}function h(i){for(var e=gt(i.toString()),f=!1,r=0,u=n.length;r<u;r++)if(s(n[r],e)){f=!0;break}if(f)for(r=0,u=t.length;r<u;r++)if(s(t[r],e)){f=!1;break}return f}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function c(n,t){var r=u.hasOwnProperty(n)?u[n]:null;if(!r)throw dt("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",n,t);if(t===null||t===i||t==="")return t;if(typeof t!="string")throw dt("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",n);return new r(t)}function l(n){return n instanceof e?n.$$unwrapTrustedValue():n}function a(n,t){if(t===null||t===i||t==="")return t;var r=u.hasOwnProperty(n)?u[n]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(n===ut.RESOURCE_URL){if(h(t))return t;throw dt("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString());}else if(n===ut.HTML)return o(t);throw dt("unsafe","Attempting to use an unsafe value in a safe context.");}var o=function(){throw dt("unsafe","Attempting to use an unsafe value in a safe context.");},e,u;return r.has("$sanitize")&&(o=r.get("$sanitize")),e=f(),u={},u[ut.HTML]=f(e),u[ut.CSS]=f(e),u[ut.URL]=f(e),u[ut.JS]=f(e),u[ut.RESOURCE_URL]=f(u[ut.URL]),{trustAs:c,getTrusted:a,valueOf:l}}]}function ay(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(t,i){var u;if(n&&si<8)throw dt("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");u=at(ut);u.isEnabled=function(){return n};u.trustAs=i.trustAs;u.getTrusted=i.getTrusted;u.valueOf=i.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=lt);u.parseAs=function(n,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return r(ut,function(n,t){var i=y(t);u[cr("parse_as_"+i)]=function(t){return f(n,t)};u[cr("get_trusted_"+i)]=function(t){return e(n,t)};u[cr("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function vy(){this.$get=["$window","$document",function(n,t){var s={},c=g((/android (\d+)/.exec(y((n.navigator||{}).userAgent))||[])[1]),v=/Boxee/i.test((n.navigator||{}).userAgent),u=t[0]||{},i,r=u.body&&u.body.style,f=!1,o=!1,l,a;if(r){for(a in r)if(l=/^(Moz|webkit|ms)(?=[A-Z])/.exec(a)){i=l[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in r&&"webkit");f=!!("transition"in r||i+"Transition"in r);o=!!("animation"in r||i+"Animation"in r);!c||f&&o||(f=h(u.body.style.webkitTransition),o=h(u.body.style.webkitAnimation))}return{history:!!(n.history&&n.history.pushState&&!(c<4)&&!v),hasEvent:function(n){if(n==="input"&&si<=11)return!1;if(e(s[n])){var t=u.createElement("div");s[n]="on"+n in t}return s[n]},csp:ci(),vendorPrefix:i,transitions:f,animations:o,android:c}}]}function yy(){this.$get=["$templateCache","$http","$q","$sce",function(n,t,i,r){function u(f,e){function l(n){if(!e)throw rt("tpload","Failed to load template: {0}",f);return i.reject(n)}var s,c;return u.totalPendingRequests++,h(f)&&n.get(f)||(f=r.getTrustedResourceUrl(f)),s=t.defaults&&t.defaults.transformResponse,o(s)?s=s.filter(function(n){return n!==ne}):s===ne&&(s=null),c={cache:n,transformResponse:s},t.get(f,c)["finally"](function(){u.totalPendingRequests--}).then(function(n){return n.data},l)}return u.totalPendingRequests=0,u}]}function py(){this.$get=["$rootScope","$browser","$location",function(n,t,i){var u={};return u.findBindings=function(n,t,i){var f=n.getElementsByClassName("ng-binding"),u=[];return r(f,function(n){var f=nt.element(n).data("$binding");f&&r(f,function(r){if(i){var f=new RegExp("(^|\\s)"+uf(t)+"(\\s|\\||$)");f.test(r)&&u.push(n)}else r.indexOf(t)!=-1&&u.push(n)})}),u},u.findModels=function(n,t,i){for(var u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r){var e=i?"=":"*=",o="["+u[r]+"model"+e+'"'+t+'"]',f=n.querySelectorAll(o);if(f.length)return f}},u.getLocation=function(){return i.url()},u.setLocation=function(t){t!==i.url()&&(i.url(t),n.$digest())},u.whenStable=function(n){t.notifyWhenNoOutstandingRequests(n)},u}]}function wy(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,f){function o(o,s,h){var v=u(h)&&!h,c=(v?r:i).defer(),l=c.promise,a;return a=t.defer(function(){try{c.resolve(o())}catch(t){c.reject(t);f(t)}finally{delete e[l.$$timeoutId]}v||n.$apply()},s),l.$$timeoutId=a,e[a]=c,l}var e={};return o.cancel=function(n){return n&&n.$$timeoutId in e?(e[n.$$timeoutId].reject("canceled"),delete e[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},o}]}function gt(n){var t=n;return si&&(b.setAttribute("href",t),t=b.href),b.setAttribute("href",t),{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",host:b.host,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):"",hostname:b.hostname,port:b.port,pathname:b.pathname.charAt(0)==="/"?b.pathname:"/"+b.pathname}}function ih(n){var t=h(n)?gt(n):n;return t.protocol===se.protocol&&t.host===se.host}function by(){this.$get=it(n)}function rh(n){function t(u,f){if(c(u)){var e={};return r(u,function(n,i){e[i]=t(i,n)}),e}return n.factory(u+i,f)}var i="Filter";this.register=t;this.$get=["$injector",function(n){return function(t){return n.get(t+i)}}];t("currency",uh);t("date",hh);t("filter",ky);t("json",ep);t("limitTo",op);t("lowercase",ch);t("number",fh);t("orderBy",ah);t("uppercase",lh)}function ky(){return function(n,t,i){if(!o(n))return n;var f=t!==null?typeof t:"null",r,u;switch(f){case"function":r=t;break;case"boolean":case"null":case"number":case"string":u=!0;case"object":r=dy(t,i,u);break;default:return n}return n.filter(r)}}function dy(n,t,i){var r=c(n)&&"$"in n;return t===!0?t=ot:l(t)||(t=function(n,t){return e(n)?!1:n===null||t===null?n===t:c(n)||c(t)?!1:(n=y(""+n),t=y(""+t),n.indexOf(t)!==-1)}),function(u){return r&&!c(u)?ei(u,n.$,t,!1):ei(u,n,t,i)}}function ei(n,t,i,r,u){var v=n!==null?typeof n:"null",c=t!==null?typeof t:"null",f,s,h,a;if(c==="string"&&t.charAt(0)==="!")return!ei(n,t.substring(1),i,r);if(o(n))return n.some(function(n){return ei(n,t,i,r)});switch(v){case"object":if(r){for(f in n)if(f.charAt(0)!=="$"&&ei(n[f],t,i,!0))return!0;return u?!1:ei(n,t,i,!1)}if(c==="object"){for(f in t)if((s=t[f],!l(s)&&!e(s))&&(h=f==="$",a=h?n:n[f],!ei(a,s,i,h,h)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function uh(n){var t=n.NUMBER_FORMATS;return function(n,i,r){return e(i)&&(i=t.CURRENCY_SYM),e(r)&&(r=t.PATTERNS[1].maxFrac),n==null?n:eh(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,i)}}function fh(n){var t=n.NUMBER_FORMATS;return function(n,i){return n==null?n:eh(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function eh(n,t,i,r,u){var l,v,k,s,h;if(!isFinite(n)||c(n))return"";l=n<0;n=Math.abs(n);var a=n+"",o="",w=[],b=!1;if(a.indexOf("e")!==-1&&(v=a.match(/([\d\.]+)e(-?)(\d+)/),v&&v[2]=="-"&&v[3]>u+1?n=0:(o=a,b=!0)),b)u>0&&n<1&&(o=n.toFixed(u),n=parseFloat(o));else{k=(a.split(he)[1]||"").length;e(u)&&(u=Math.min(Math.max(t.minFrac,k),t.maxFrac));n=+(Math.round(+(n.toString()+"e"+u)).toString()+"e"+-u);s=(""+n).split(he);h=s[0];s=s[1]||"";var f,y=0,p=t.lgSize,d=t.gSize;if(h.length>=p+d)for(y=h.length-p,f=0;f<y;f++)(y-f)%d==0&&f!==0&&(o+=i),o+=h.charAt(f);for(f=y;f<h.length;f++)(h.length-f)%p==0&&f!==0&&(o+=i),o+=h.charAt(f);while(s.length<u)s+="0";u&&u!=="0"&&(o+=r+s.substr(0,u))}return n===0&&(l=!1),w.push(l?t.negPre:t.posPre,o,l?t.negSuf:t.posSuf),w.join("")}function ku(n,t,i){var r="";for(n<0&&(r="-",n=-n),n=""+n;n.length<t;)n="0"+n;return i&&(n=n.substr(n.length-t)),r+n}function d(n,t,i,r){return i=i||0,function(u){var f=u["get"+n]();return(i>0||f>-i)&&(f+=i),f===0&&i==-12&&(f=12),ku(f,t,r)}}function du(n,t){return function(i,r){var u=i["get"+n](),f=ki(t?"SHORT"+n:n);return r[f][u]}}function gy(n){var t=-1*n.getTimezoneOffset(),i=t>=0?"+":"";return i+(ku(Math[t>0?"floor":"ceil"](t/60),2)+ku(Math.abs(t%60),2))}function oh(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(t<=4?5:12)-t)}function np(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function sh(n){return function(t){var i=oh(t.getFullYear()),r=np(t),u=+r-+i,f=1+Math.round(u/6048e5);return ku(f,n)}}function tp(n,t){return n.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ce(n,t){return n.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ip(n,t){return n.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function hh(n){function i(n){var i;if(i=n.match(t)){var r=new Date(0),u=0,f=0,e=i[8]?r.setUTCFullYear:r.setFullYear,o=i[8]?r.setUTCHours:r.setHours;i[9]&&(u=g(i[9]+i[10]),f=g(i[9]+i[11]));e.call(r,g(i[1]),g(i[2])-1,g(i[3]));var s=g(i[4]||0)-u,h=g(i[5]||0)-f,c=g(i[6]||0),l=Math.round(parseFloat("0."+(i[7]||0))*1e3);return o.call(r,s,h,c,l),r}return n}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,u,f){var c="",e=[],o,s;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,h(t)&&(t=fp.test(t)?g(t):i(t)),k(t)&&(t=new Date(t)),!et(t))return t;while(u)s=up.exec(u),s?(e=fr(e,s,1),u=e.pop()):(e.push(u),u=null);return f&&f==="UTC"&&(t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+t.getTimezoneOffset())),r(e,function(i){o=rp[i];c+=o?o(t,n.DATETIME_FORMATS):i.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function ep(){return function(n,t){return e(t)&&(t=2),er(n,t)}}function op(){return function(n,t){return(k(n)&&(n=n.toString()),!o(n)&&!h(n))?n:(t=Math.abs(Number(t))===Infinity?Number(t):g(t),t?t>0?n.slice(0,t):n.slice(t):h(n)?"":[])}}function ah(n){return function(t,i,r){function c(n,t){for(var u,r=0;r<i.length;r++)if(u=i[r](n,t),u!==0)return u;return 0}function u(n,t){return t?function(t,i){return n(i,t)}:n}function e(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}function s(n){return n===null?"null":typeof n.valueOf=="function"&&(n=n.valueOf(),e(n))?n:typeof n.toString=="function"&&(n=n.toString(),e(n))?n:""}function f(n,t){var i=typeof n,r=typeof t;return i===r&&i==="object"&&(n=s(n),t=s(t)),i===r?(i==="string"&&(n=n.toLowerCase(),t=t.toLowerCase()),n===t)?0:n<t?-1:1:i<r?-1:1}return gi(t)?(i=o(i)?i:[i],i.length===0&&(i=["+"]),i=i.map(function(t){var r=!1,i=t||lt,e;if(h(t)){if((t.charAt(0)=="+"||t.charAt(0)=="-")&&(r=t.charAt(0)=="-",t=t.substring(1)),t==="")return u(f,r);if(i=n(t),i.constant)return e=i(),u(function(n,t){return f(n[e],t[e])},r)}return u(function(n,t){return f(i(n),i(t))},r)}),tf.call(t).sort(u(c,r))):t}}function oi(n){return l(n)&&(n={link:n}),n.restrict=n.restrict||"AC",it(n)}function sp(n,t){n.$name=t}function yh(n,t,u,f,e){var o=this,s=[],h=o.$$parentForm=n.parent().controller("form")||br;o.$error={};o.$$success={};o.$pending=i;o.$name=e(t.name||t.ngForm||"")(u);o.$dirty=!1;o.$pristine=!0;o.$valid=!0;o.$invalid=!1;o.$submitted=!1;h.$addControl(o);o.$rollbackViewValue=function(){r(s,function(n){n.$rollbackViewValue()})};o.$commitViewValue=function(){r(s,function(n){n.$commitViewValue()})};o.$addControl=function(n){ai(n.$name,"input");s.push(n);n.$name&&(o[n.$name]=n)};o.$$renameControl=function(n,t){var i=n.$name;o[i]===n&&delete o[i];o[t]=n;n.$name=t};o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name];r(o.$pending,function(t,i){o.$setValidity(i,null,n)});r(o.$error,function(t,i){o.$setValidity(i,null,n)});r(o.$$success,function(t,i){o.$setValidity(i,null,n)});ur(s,n)};oc({ctrl:this,$element:n,set:function(n,t,i){var r=n[t],u;r?(u=r.indexOf(i),u===-1&&r.push(i)):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(ur(r,i),r.length===0&&delete n[t])},parentForm:h,$animate:f});o.$setDirty=function(){f.removeClass(n,bi);f.addClass(n,nf);o.$dirty=!0;o.$pristine=!1;h.$setDirty()};o.$setPristine=function(){f.setClass(n,bi,nf+" "+le);o.$dirty=!1;o.$pristine=!0;o.$submitted=!1;r(s,function(n){n.$setPristine()})};o.$setUntouched=function(){r(s,function(n){n.$setUntouched()})};o.$setSubmitted=function(){f.addClass(n,le);o.$submitted=!0;h.$setSubmitted()}}function ve(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function pp(n,t,i,r,u,f){kr(n,t,i,r,u,f);ve(r)}function kr(n,t,i,r,u,f){var c=y(t[0].type),s,o,e,h;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val(),o=n&&n.type;c==="password"||i.ngTrim&&i.ngTrim==="false"||(u=p(u));(r.$viewValue!==u||u===""&&r.$$hasNativeValidators)&&r.$setViewValue(u,o)}},u.hasEvent("input"))t.on("input",o);else{h=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;t===91||15<t&&t<19||37<=t&&t<=40||h(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut",h)}t.on("change",o);r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function wp(n,t){var i;if(et(n))return n;if(h(n)&&(ae.lastIndex=0,i=ae.exec(n),i)){var r=+i[1],s=+i[2],u=0,f=0,e=0,o=0,c=oh(r),l=(s-1)*7;return t&&(u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,c.getDate()+l,u,f,e,o)}return NaN}function gu(n,t){return function(i,u){var e,f;if(et(i))return i;if(h(i)){if(i.charAt(0)=='"'&&i.charAt(i.length-1)=='"'&&(i=i.substring(1,i.length-1)),lp.test(i))return new Date(i);if(n.lastIndex=0,e=n.exec(i),e)return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(n,i){i<t.length&&(f[t[i]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,f.sss*1e3||0)}return NaN}}function dr(n,t,r,f){return function(o,s,h,c,l,a,v){function k(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function d(n){return u(n)?et(n)?n:r(n):i}var p,y,w,b;nc(o,s,h,c);kr(o,s,h,c,l,a);p=c&&c.$options&&c.$options.timezone;c.$$parserName=n;c.$parsers.push(function(n){if(c.$isEmpty(n))return null;if(t.test(n)){var u=r(n,y);return p==="UTC"&&u.setMinutes(u.getMinutes()-u.getTimezoneOffset()),u}return i});c.$formatters.push(function(n){if(n&&!et(n))throw nu("datefmt","Expected `{0}` to be a date",n);if(k(n)){if(y=n,y&&p==="UTC"){var t=6e4*y.getTimezoneOffset();y=new Date(y.getTime()+t)}return v("date")(n,f,p)}return y=null,""});(u(h.min)||h.ngMin)&&(c.$validators.min=function(n){return!k(n)||e(w)||r(n)>=w},h.$observe("min",function(n){w=d(n);c.$validate()}));(u(h.max)||h.ngMax)&&(c.$validators.max=function(n){return!k(n)||e(b)||r(n)<=b},h.$observe("max",function(n){b=d(n);c.$validate()}))}}function nc(n,t,r,u){var f=t[0],e=u.$$hasNativeValidators=c(f.validity);e&&u.$parsers.push(function(n){var r=t.prop(wc)||{};return r.badInput&&!r.typeMismatch?i:n})}function bp(n,t,r,f,o,s){var h,c;nc(n,t,r,f);kr(n,t,r,f,o,s);f.$$parserName="number";f.$parsers.push(function(n){return f.$isEmpty(n)?null:yp.test(n)?parseFloat(n):i});f.$formatters.push(function(n){if(!f.$isEmpty(n)){if(!k(n))throw nu("numfmt","Expected `{0}` to be a number",n);n=n.toString()}return n});(u(r.min)||r.ngMin)&&(f.$validators.min=function(n){return f.$isEmpty(n)||e(h)||n>=h},r.$observe("min",function(n){u(n)&&!k(n)&&(n=parseFloat(n,10));h=k(n)&&!isNaN(n)?n:i;f.$validate()}));(u(r.max)||r.ngMax)&&(f.$validators.max=function(n){return f.$isEmpty(n)||e(c)||n<=c},r.$observe("max",function(n){u(n)&&!k(n)&&(n=parseFloat(n,10));c=k(n)&&!isNaN(n)?n:i;f.$validate()}))}function kp(n,t,i,r,u,f){kr(n,t,i,r,u,f);ve(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||ap.test(i)}}function dp(n,t,i,r,u,f){kr(n,t,i,r,u,f);ve(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||vp.test(i)}}function gp(n,t,i,r){e(i.name)&&t.attr("name",tu());var u=function(n){t[0].checked&&r.$setViewValue(i.value,n&&n.type)};t.on("click",u);r.$render=function(){var n=i.value;t[0].checked=n==r.$viewValue};i.$observe("value",r.$render)}function tc(n,t,i,r,f){var e;if(u(r)){if(e=n(r),!e.constant)throw nu("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,r);return e(t)}return f}function nw(n,t,i,r,u,f,e,o){var s=tc(o,n,"ngTrueValue",i.ngTrueValue,!0),h=tc(o,n,"ngFalseValue",i.ngFalseValue,!1),c=function(n){r.$setViewValue(t[0].checked,n&&n.type)};t.on("click",c);r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return n===!1};r.$formatters.push(function(n){return ot(n,s)});r.$parsers.push(function(n){return n?s:h})}function ye(n,t){return n="ngClass"+n,["$animate",function(i){function f(n,t){var f=[],i,u,r;n:for(i=0;i<n.length;i++){for(u=n[i],r=0;r<t.length;r++)if(u==t[r])continue n;f.push(u)}return f}function u(n){if(o(n))return n;if(h(n))return n.split(" ");if(c(n)){var t=[];return r(n,function(n,i){n&&(t=t.concat(i.split(" ")))}),t}return n}return{restrict:"AC",link:function(e,o,s){function l(n){var t=c(n,1);s.$addClass(t)}function v(n){var t=c(n,-1);s.$removeClass(t)}function c(n,t){var i=o.data("$classCounts")||{},u=[];return r(n,function(n){(t>0||i[n])&&(i[n]=(i[n]||0)+t,i[n]===+(t>0)&&u.push(n))}),o.data("$classCounts",i),u.join(" ")}function y(n,t){var r=f(t,n),u=f(n,t);r=c(r,1);u=c(u,-1);r&&r.length&&i.addClass(o,r);u&&u.length&&i.removeClass(o,u)}function a(n){var i,r;(t===!0||e.$index%2===t)&&(i=u(n||[]),h?ot(n,h)||(r=u(h),y(r,i)):l(i));h=at(n)}var h;e.$watch(s[n],a,!0);s.$observe("class",function(){a(e.$eval(s[n]))});n!=="ngClass"&&e.$watch("$index",function(i,r){var o=i&1,f;o!==(r&1)&&(f=u(e.$eval(s[n])),o===t?l(f):v(f))})}}}]}function oc(n){function l(n,r,e){r===i?a("$pending",n,e):v("$pending",n,e);rr(r)?r?(u(t.$error,n,e),o(t.$$success,n,e)):(o(t.$error,n,e),u(t.$$success,n,e)):(u(t.$error,n,e),u(t.$$success,n,e));t.$pending?(f(ec,!0),t.$valid=t.$invalid=i,s("",null)):(f(ec,!1),t.$valid=sc(t.$error),t.$invalid=!t.$valid,s("",t.$valid));var h;h=t.$pending&&t.$pending[n]?i:t.$error[n]?!1:t.$$success[n]?!0:null;s(n,h);c.$setValidity(n,h,t)}function a(n,i,r){t[n]||(t[n]={});o(t[n],i,r)}function v(n,r,f){t[n]&&u(t[n],r,f);sc(t[n])&&(t[n]=i)}function f(n,t){t&&!r[n]?(h.addClass(e,n),r[n]=!0):!t&&r[n]&&(h.removeClass(e,n),r[n]=!1)}function s(n,t){n=n?"-"+oo(n,"-"):"";f(gr+n,t===!0);f(uc+n,t===!1)}var t=n.ctrl,e=n.$element,r={},o=n.set,u=n.unset,c=n.parentForm,h=n.$animate;r[uc]=!(r[gr]=e.hasClass(gr));t.$setValidity=l}function sc(n){if(n)for(var t in n)return!1;return!0}var pc=/^\/(.+)\/([a-z]*)$/,wc="validity",y=function(n){return h(n)?n.toLowerCase():n},we=Object.prototype.hasOwnProperty,ki=function(n){return h(n)?n.toUpperCase():n},bc=function(n){return h(n)?n.replace(/[A-Z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)|32)}):n},kc=function(n){return h(n)?n.replace(/[a-z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)&-33)}):n},o,p,uf,ci,or,eo,of,sf,lo,ri,lr,bf,kf,ts,is,df,es,yu,ys,tt,yi,pi,bs,ks,gs,dt,ut,rt,b,se,he,ch,lh,vh,wr,br,le;"i"!=="I".toLowerCase()&&(y=bc,ki=kc);var si,f,ft,tf=[].slice,dc=[].splice,gc=[].push,ni=Object.prototype.toString,hi=v("ng"),nt=n.angular||(n.angular={}),di,nl=0;si=t.documentMode;s.$inject=[];lt.$inject=[];o=Array.isArray;p=function(n){return h(n)?n.trim():n};uf=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};ci=function(){if(u(ci.isActive_))return ci.isActive_;var n=!!(t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]"));if(!n)try{new Function("")}catch(i){n=!0}return ci.isActive_=n};or=["ng-","data-ng-","ng:","x-ng-"];eo=/[A-Z]/g;of=!1;var vt=1,ll=2,sr=3,cf=8,ho=9,lf=11;lo={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};w.expando="ng339";var fu=w.cache={},pl=1,eu=function(n,t,i){n.addEventListener(t,i,!1)},hr=function(n,t,i){n.removeEventListener(t,i,!1)};w._data=function(n){return this.cache[n[this.expando]]||{}};var bl=/([\:\-\_]+(.))/g,kl=/^moz([A-Z])/,dl={mouseleave:"mouseout",mouseenter:"mouseover"},af=v("jqLite");var gl=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,na=/<|&#?\w+;/,ta=/<([\w:]+)/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ht={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};ht.optgroup=ht.option;ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead;ht.th=ht.td;ri=w.prototype={ready:function(i){function r(){u||(u=!0,i())}var u=!1;if(t.readyState==="complete")setTimeout(r);else{this.on("DOMContentLoaded",r);w(n).on("load",r)}},toString:function(){var n=[];return r(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return n>=0?f(this[n]):f(this[this.length+n])},length:0,push:gc,sort:[].sort,splice:[].splice};lr={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(n){lr[y(n)]=n});bf={};r("input,select,option,textarea,button,form,details".split(","),function(n){bf[n]=!0});kf={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:pf,removeData:su},function(n,t){w[t]=n});r({data:pf,inheritedData:vu,scope:function(n){return f.data(n,"$scope")||vu(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return f.data(n,"$isolateScope")||f.data(n,"$isolateScopeNoTemplate")},controller:po,injector:function(n){return vu(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:cu,css:function(n,t,i){if(t=cr(t),u(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,r){var e=n.nodeType,f,o;if(e!==sr&&e!==ll&&e!==cf)if(f=y(t),lr[f])if(u(r))r?(n[t]=!0,n.setAttribute(t,f)):(n[t]=!1,n.removeAttribute(f));else return n[t]||(n.attributes.getNamedItem(t)||s).specified?f:i;else if(u(r))n.setAttribute(t,r);else if(n.getAttribute)return o=n.getAttribute(t,2),o===null?i:o},prop:function(n,t,i){if(u(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(e(t)){var i=n.nodeType;return i===vt||i===sr?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,t){if(e(t)){if(n.multiple&&wt(n)==="select"){var i=[];return r(n.options,function(n){n.selected&&i.push(n.value||n.text)}),i.length===0?null:i}return n.value}n.value=t},html:function(n,t){if(e(t))return n.innerHTML;ou(n,!0);n.innerHTML=t},empty:wo},function(n,t){w.prototype[t]=function(t,r){var u,s,e=this.length,f,l,o,h;if(n!==wo&&(n.length==2&&n!==cu&&n!==po?t:r)===i){if(c(t)){for(u=0;u<e;u++)if(n===pf)n(this[u],t);else for(s in t)n(this[u],s,t[s]);return this}for(f=n.$dv,l=f===i?Math.min(e,1):e,o=0;o<l;o++)h=n(this[o],t,r),f=f?f+h:h;return f}for(u=0;u<e;u++)n(this[u],t,r);return this}});r({removeData:su,on:function oa(n,t,i,r){var h,c,o;if(u(r))throw af("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ao(n)){var s=hu(n,!0),f=s.events,e=s.handle;for(e||(e=s.handle=ea(n,f)),h=t.indexOf(" ")>=0?t.split(" "):[t],c=h.length;c--;)t=h[c],o=f[t],o||(f[t]=[],t==="mouseenter"||t==="mouseleave"?oa(n,dl[t],function(n){var r=this,i=n.relatedTarget;i&&(i===r||r.contains(i))||e(n,t)}):t!=="$destroy"&&eu(n,t,e),o=f[t]),o.push(i)}},off:yo,one:function(n,t,i){n=f(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,t){var i,u=n.parentNode;ou(n);r(new w(t),function(t){i?u.insertBefore(t,i.nextSibling):u.replaceChild(t,n);i=t})},children:function(n){var t=[];return r(n.childNodes,function(n){n.nodeType===vt&&t.push(n)}),t},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var r=n.nodeType,i,u,f;if(r===vt||r===lf)for(t=new w(t),i=0,u=t.length;i<u;i++)f=t[i],n.appendChild(f)},prepend:function(n,t){if(n.nodeType===vt){var i=n.firstChild;r(new w(t),function(t){n.insertBefore(t,i)})}},wrap:function(n,t){t=f(t).eq(0).clone()[0];var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)},remove:bo,detach:function(n){bo(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new w(t),i=0,f=t.length;i<f;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:au,removeClass:lu,toggleClass:function(n,t,i){t&&r(t.split(" "),function(t){var r=i;e(r)&&(r=!cu(n,t));(r?au:lu)(n,t)})},parent:function(n){var t=n.parentNode;return t&&t.nodeType!==lf?t:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:yf,triggerHandler:function(n,t,i){var u,f,e,o=t.type||t,h=hu(n),c=h&&h.events,l=c&&c[o];l&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:s,type:o,target:n},t.type&&(u=a(u,t)),f=at(l),e=i?[u].concat(i):[u],r(f,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){w.prototype[t]=function(t,i,r){for(var o,s=0,h=this.length;s<h;s++)e(o)?(o=n(this[s],t,i,r),u(o)&&(o=f(o))):wf(o,n(this[s],t,i,r));return u(o)?o:this};w.prototype.bind=w.prototype.on;w.prototype.unbind=w.prototype.off});ar.prototype={put:function(n,t){this[vi(n,this.nextUid)]=t},get:function(n){return this[vi(n,this.nextUid)]},remove:function(n){var t=this[n=vi(n,this.nextUid)];return delete this[n],t}};var go=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,ha=/,/,ca=/^\s*(_?)(\S+?)\1\s*$/,ns=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ui=v("$injector");vr.$$annotate=aa;ts=v("$animate");is=["$provide",function(n){this.$$selectors={};this.register=function(t,i){var r=t+"-animation";if(t&&t.charAt(0)!=".")throw ts("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r;n.factory(r,i)};this.classNameFilter=function(n){return arguments.length===1&&(this.$$classNameFilter=n instanceof RegExp?n:null),this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(n,t,i){function v(t){var r,u=n.defer();return u.promise.$$cancelFn=function(){r&&r()},i.$$postDigest(function(){r=t(function(){u.resolve()})}),u.promise}function y(n,t){var i=[],u=[],f=st();return r((n.attr("class")||"").split(/\s+/),function(n){f[n]=!0}),r(t,function(n,t){var r=f[t];n===!1&&r?u.push(t):n!==!0||r||i.push(t)}),i.length+u.length>0&&[i.length?i:null,u.length?u:null]}function l(n,t,i){for(var f,r=0,u=t.length;r<u;++r)f=t[r],n[f]=i}function u(){return c||(c=n.defer(),t(function(){c.resolve();c=null})),c.promise}function e(n,t){if(nt.isObject(t)){var i=a(t.from||{},t.to||{});n.css(i)}}var c;return{animate:function(n,t,i){return e(n,{from:t,to:i}),u()},enter:function(n,t,i,r){return e(n,r),i?i.after(n):t.prepend(n),u()},leave:function(n,t){return e(n,t),n.remove(),u()},move:function(n,t,i,r){return this.enter(n,t,i,r)},addClass:function(n,t,i){return this.setClass(n,t,[],i)},$$addClassImmediately:function(n,t,i){return n=f(n),t=h(t)?t:o(t)?t.join(" "):"",r(n,function(n){au(n,t)}),e(n,i),u()},removeClass:function(n,t,i){return this.setClass(n,[],t,i)},$$removeClassImmediately:function(n,t,i){return n=f(n),t=h(t)?t:o(t)?t.join(" "):"",r(n,function(n){lu(n,t)}),e(n,i),u()},setClass:function(n,t,i,r){var c=this,e="$$animateClasses",h=!1,u,s;return n=f(n),u=n.data(e),u?r&&u.options&&(u.options=nt.extend(u.options||{},r)):(u={classes:{},options:r},h=!0),s=u.classes,t=o(t)?t:t.split(" "),i=o(i)?i:i.split(" "),l(s,t,!0),l(s,i,!1),h&&(u.promise=v(function(t){var r=n.data(e),i;n.removeData(e);r&&(i=y(n,r.classes),i&&c.$$setClassImmediately(n,i[0],i[1],r.options));t()}),n.data(e,u)),u.promise},$$setClassImmediately:function(n,t,i,r){return t&&this.$$addClassImmediately(n,t),i&&this.$$removeClassImmediately(n,i),e(n,r),u()},enabled:s,cancel:s}}]}];rt=v("$compile");rs.$inject=["$provide","$$sanitizeUriProvider"];df=/^((?:x|data)[\:\-_])/i;es=v("$controller");var os="application/json",gf={"Content-Type":os+";charset=utf-8"},tv=/^\[|^\{(?!\{)/,iv={"[":/]$/,"{":/}$/},rv=/^\)\]\}',?\n/;yu=v("$interpolate");var av=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,vv={http:80,https:443,ftp:21},pu=v("$location");ys={$$html5:!1,$$replace:!1,absUrl:bu("$$absUrl"),url:function(n){if(e(n))return this.$$url;var t=av.exec(n);return(t[1]||n==="")&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||n==="")&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:bu("$$protocol"),host:bu("$$host"),port:bu("$$port"),path:ps("$$path",function(n){return n=n!==null?n.toString():"",n.charAt(0)=="/"?n:"/"+n}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(h(n)||k(n))n=n.toString(),this.$$search=uo(n);else if(c(n))n=ti(n,{}),r(n,function(t,i){t==null&&delete n[i]}),this.$$search=n;else throw pu("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:e(t)||t===null?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:ps("$$hash",function(n){return n!==null?n.toString():""}),replace:function(){return this.$$replace=!0,this}};r([vs,ue,re],function(n){n.prototype=Object.create(ys);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==re||!this.$$html5)throw pu("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=e(t)?null:t,this}});tt=v("$parse");var kv=Function.prototype.call,dv=Function.prototype.apply,gv=Function.prototype.bind;yi=st();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(n,t){n.constant=n.literal=n.sharedGetter=!0;yi[t]=n});yi["this"]=function(n){return n};yi["this"].sharedGetter=!0;var yr=a(st(),{"+":function(n,t,r,f){return(r=r(n,t),f=f(n,t),u(r))?u(f)?r+f:r:u(f)?f:i},"-":function(n,t,i,r){return i=i(n,t),r=r(n,t),(u(i)?i:0)-(u(r)?r:0)},"*":function(n,t,i,r){return i(n,t)*r(n,t)},"/":function(n,t,i,r){return i(n,t)/r(n,t)},"%":function(n,t,i,r){return i(n,t)%r(n,t)},"===":function(n,t,i,r){return i(n,t)===r(n,t)},"!==":function(n,t,i,r){return i(n,t)!==r(n,t)},"==":function(n,t,i,r){return i(n,t)==r(n,t)},"!=":function(n,t,i,r){return i(n,t)!=r(n,t)},"<":function(n,t,i,r){return i(n,t)<r(n,t)},">":function(n,t,i,r){return i(n,t)>r(n,t)},"<=":function(n,t,i,r){return i(n,t)<=r(n,t)},">=":function(n,t,i,r){return i(n,t)>=r(n,t)},"&&":function(n,t,i,r){return i(n,t)&&r(n,t)},"||":function(n,t,i,r){return i(n,t)||r(n,t)},"!":function(n,t,i){return!i(n,t)},"=":!0,"|":!0}),ty={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},fe=function(n){this.options=n};fe.prototype={constructor:fe,lex:function(n){var t,r;for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),u=i+this.peek(2),o=yr[t],f=yr[i],e=yr[u];o||f||e?(r=e?u:f?i:t,this.tokens.push({index:this.index,text:r,operator:!0}),this.index+=r.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return t.indexOf(n)!==-1},peek:function(n){var t=n||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(n){return"0"<=n&&n<="9"&&typeof n=="string"},isWhitespace:function(n){return n===" "||n==="\r"||n==="\t"||n==="\n"||n==='\v'||n===" "},isIdent:function(n){return"a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"===n||n==="$"},isExpOperator:function(n){return n==="-"||n==="+"||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;var r=u(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw tt("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",n,r,this.text);},readNumber:function(){for(var n="",r=this.index,t,i;this.index<this.text.length;){if(t=y(this.text.charAt(this.index)),t=="."||this.isNumber(t))n+=t;else if(i=this.peek(),t=="e"&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&n.charAt(n.length-1)=="e")n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||n.charAt(n.length-1)!="e")break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){for(var t=this.index,n;this.index<this.text.length;){if(n=this.text.charAt(this.index),!(this.isIdent(n)||this.isNumber(n)))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(n){var f=this.index,t,r,o;this.index++;for(var i="",e=n,u=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),e+=t,u)t==="u"?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,i+=String.fromCharCode(parseInt(r,16))):(o=ty[t],i=i+(o||t)),u=!1;else if(t==="\\")u=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:e,constant:!0,value:i});return}i+=t}this.index++}this.throwError("Unterminated quote",f)}};pi=function(n,t,i){this.lexer=n;this.$filter=t;this.options=i};pi.ZERO=a(function(){return 0},{sharedGetter:!0,constant:!0});pi.prototype={constructor:pi,parse:function(n){this.text=n;this.tokens=this.lexer.lex(n);var t=this.statements();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var n,t,i;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.peek().identifier&&(this.peek().text in yi)?n=yi[this.consume().text]:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)t.text==="("?(n=this.functionCall(n,i),i=null):t.text==="["?(i=n,n=this.objectIndex(n)):t.text==="."?(i=n,n=this.fieldAccess(n)):this.throwError("IMPOSSIBLE");return n},throwError:function(n,t){throw tt("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,n,t.index+1,this.text,this.text.substring(t.index));},peekToken:function(){if(this.tokens.length===0)throw tt("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){var e=this.tokens[n],f=e.text;if(f===t||f===i||f===r||f===u||!t&&!i&&!r&&!u)return e}return!1},expect:function(n,t,i,r){var u=this.peek(n,t,i,r);return u?(this.tokens.shift(),u):!1},consume:function(n){if(this.tokens.length===0)throw tt("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},unaryFn:function(n,t){var i=yr[n];return a(function(n,r){return i(n,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(n,t,i,r){var u=yr[t];return a(function(t,r){return u(t,r,n,i)},{constant:n.constant&&i.constant,inputs:!r&&[n,i]})},identifier:function(){for(var n=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)n+=this.consume().text+this.consume().text;return ry(n,this.options,this.text)},constant:function(){var n=this.consume().value;return a(function(){return n},{constant:!0,literal:!0})},statements:function(){for(var n=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&n.push(this.filterChain()),!this.expect(";"))return n.length===1?n[0]:function(t,i){for(var u,r=0,f=n.length;r<f;r++)u=n[r](t,i);return u}},filterChain:function(){for(var n=this.expression(),t;t=this.expect("|");)n=this.filter(n);return n},filter:function(n){var u=this.$filter(this.consume().text),t,r,f;if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());return f=[n].concat(t||[]),a(function(f,e){var s=n(f,e),o;if(r){for(r[0]=s,o=t.length;o--;)r[o+1]=t[o](f,e);return u.apply(i,r)}return u(s)},{constant:!u.$stateful&&f.every(ee),inputs:!u.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary(),t,i;return(i=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,i.index)+"] can not be assigned to",i),t=this.ternary(),a(function(i,r){return n.assign(i,t(i,r),r)},{inputs:[n,t]})):n},ternary:function(){var n=this.logicalOR(),t,r,i;return(r=this.expect("?"))&&(t=this.assignment(),this.consume(":"))?(i=this.assignment(),a(function(r,u){return n(r,u)?t(r,u):i(r,u)},{constant:n.constant&&t.constant&&i.constant})):n},logicalOR:function(){for(var n=this.logicalAND(),t;t=this.expect("||");)n=this.binaryFn(n,t.text,this.logicalAND(),!0);return n},logicalAND:function(){for(var n=this.equality(),t;t=this.expect("&&");)n=this.binaryFn(n,t.text,this.equality(),!0);return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n=this.binaryFn(n,t.text,this.relational());return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n=this.binaryFn(n,t.text,this.additive());return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n=this.binaryFn(n,t.text,this.multiplicative());return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n=this.binaryFn(n,t.text,this.unary());return n},unary:function(){var n;return this.expect("+")?this.primary():(n=this.expect("-"))?this.binaryFn(pi.ZERO,n.text,this.unary()):(n=this.expect("!"))?this.unaryFn(n.text,this.unary()):this.primary()},fieldAccess:function(n){var t=this.identifier();return a(function(r,u,f){var e=f||n(r,u);return e==null?i:t(e)},{assign:function(i,r,u){var f=n(i,u);return f||n.assign(i,f={},u),t.assign(f,r)}})},objectIndex:function(n){var t=this.text,r=this.expression();return this.consume("]"),a(function(u,f){var e=n(u,f),o=ws(r(u,f),t);return(pt(o,t),!e)?i:ct(e[o],t)},{assign:function(i,u,f){var o=pt(ws(r(i,f),t),t),e=ct(n(i,f),t);return e||n.assign(i,e={},f),e[o]=u}})},functionCall:function(n,t){var e=[],f,r;if(this.peekToken().text!==")")do e.push(this.expression());while(this.expect(","));return this.consume(")"),f=this.text,r=e.length?[]:null,function(o,h){var a=t?t(o,h):u(t)?i:o,c=n(o,h,a)||s,l,v;if(r)for(l=e.length;l--;)r[l]=ct(e[l](o,h),f);return ct(a,f),ny(c,f),v=c.apply?c.apply(a,r):c(r[0],r[1],r[2],r[3],r[4]),r&&(r.length=0),ct(v,f)}},arrayDeclaration:function(){var n=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),a(function(t,i){for(var u=[],r=0,f=n.length;r<f;r++)u.push(n[r](t,i));return u},{literal:!0,constant:n.every(ee),inputs:n})},object:function(){var i=[],t=[],n;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;n=this.consume();n.constant?i.push(n.value):n.identifier?i.push(n.text):this.throwError("invalid key",n);this.consume(":");t.push(this.expression())}while(this.expect(","));return this.consume("}"),a(function(n,r){for(var f={},u=0,e=t.length;u<e;u++)f[i[u]]=t[u](n,r);return f},{literal:!0,constant:t.every(ee),inputs:t})}};bs=st();ks=st();gs=Object.prototype.valueOf;dt=v("$sce");ut={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};rt=v("$compile");b=t.createElement("a");se=gt(n.location.href);rh.$inject=["$provide"];uh.$inject=["$locale"];fh.$inject=["$locale"];he=".";var rp={yyyy:d("FullYear",4),yy:d("FullYear",2,0,!0),y:d("FullYear",1),MMMM:du("Month"),MMM:du("Month",!0),MM:d("Month",2,1),M:d("Month",1,1),dd:d("Date",2),d:d("Date",1),HH:d("Hours",2),H:d("Hours",1),hh:d("Hours",2,-12),h:d("Hours",1,-12),mm:d("Minutes",2),m:d("Minutes",1),ss:d("Seconds",2),s:d("Seconds",1),sss:d("Milliseconds",3),EEEE:du("Day"),EEE:du("Day",!0),a:tp,Z:gy,ww:sh(2),w:sh(1),G:ce,GG:ce,GGG:ce,GGGG:ip},up=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,fp=/^\-?\d+$/;hh.$inject=["$locale"];ch=it(y);lh=it(ki);ah.$inject=["$parse"];vh=it({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref&&!t.name)return function(n,t){if(t[0].nodeName.toLowerCase()==="a"){var i=ni.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});wr={};r(lr,function(n,t){if(n!="multiple"){var i=kt("ng-"+t);wr[i]=function(){return{restrict:"A",priority:100,link:function(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}}}}});r(kf,function(n,t){wr[t]=function(){return{priority:100,link:function(n,i,r){if(t==="ngPattern"&&r.ngPattern.charAt(0)=="/"){var u=r.ngPattern.match(pc);if(u){r.$set("ngPattern",new RegExp(u[1],u[2]));return}}n.$watch(r[t],function(n){r.$set(t,n)})}}}});r(["src","srcset","href"],function(n){var t=kt("ng-"+n);wr[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;n==="href"&&ni.call(r.prop("href"))==="[object SVGAnimatedString]"&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){if(!t){n==="href"&&u.$set(f,null);return}u.$set(f,t);si&&e&&r.prop(e,u[f])})}}}});br={$addControl:s,$$renameControl:sp,$removeControl:s,$setValidity:s,$setDirty:s,$setPristine:s,$setSubmitted:s};le="ng-submitted";yh.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ph=function(n){return["$timeout",function(t){return{name:"form",restrict:n?"EAC":"E",controller:yh,compile:function(r,u){r.addClass(bi).addClass(gr);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,r,u,e){var o,s;if(!("action"in u)){o=function(t){n.$apply(function(){e.$commitViewValue();e.$setSubmitted()});t.preventDefault()};eu(r[0],"submit",o);r.on("$destroy",function(){t(function(){hr(r[0],"submit",o)},0,!1)})}s=e.$$parentForm;f&&(pr(n,null,e.$name,e,e.$name),u.$observe(f,function(t){e.$name!==t&&(pr(n,null,e.$name,i,e.$name),s.$$renameControl(e,t),pr(n,null,e.$name,e,e.$name))}));r.on("$destroy",function(){s.$removeControl(e);f&&pr(n,null,u[f],i,e.$name);a(e,br)})}}}}}]},hp=ph(),cp=ph(!0),lp=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ap=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,vp=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,yp=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,wh=/^(\d{4})-(\d{2})-(\d{2})$/,bh=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ae=/^(\d{4})-W(\d\d)$/,kh=/^(\d{4})-(\d\d)$/,dh=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gh={text:pp,date:dr("date",wh,gu(wh,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":dr("datetimelocal",bh,gu(bh,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:dr("time",dh,gu(dh,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:dr("week",ae,wp,"yyyy-Www"),month:dr("month",kh,gu(kh,["yyyy","MM"]),"yyyy-MM"),number:bp,url:kp,email:dp,radio:gp,checkbox:nw,hidden:s,button:s,submit:s,reset:s,file:s};var ic=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(gh[y(e.type)]||gh.text)(u,f,e,o[0],t,n,i,r)}}}}],tw=/^(true|false|\d+)$/,iw=function(){return{restrict:"A",priority:100,compile:function(n,t){return tw.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},rw=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,r,u){n.$$addBindingInfo(r,u.ngBind);r=r[0];t.$watch(u.ngBind,function(n){r.textContent=n===i?"":n})}}}}],uw=["$interpolate","$compile",function(n,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,u,f){var e=n(u.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(u,e.expressions);u=u[0];f.$observe("ngBindTemplate",function(n){u.textContent=n===i?"":n})}}}}],fw=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(n){return(n||"").toString()});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){r.html(n.getTrustedHtml(f(t))||"")})}}}}],ew=it({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}});var ow=ye("",!0),sw=ye("Odd",0),hw=ye("Even",1),cw=oi({compile:function(n,t){t.$set("ngCloak",i);n.removeClass("ng-cloak")}}),lw=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],rc={},aw={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=kt("ng-"+n);rc[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};aw[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var vw=["$animate",function(n){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.createComment(" end ngIf: "+u.ngIf+" ");h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=uu(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],yw=["$templateRequest","$anchorScroll","$animate",function(n,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:nt.noop,compile:function(r,f){var o=f.ngInclude||f.src,s=f.onload||"",e=f.autoscroll;return function(r,f,h,c,l){var p=0,a,v,y,w=function(){v&&(v.remove(),v=null);a&&(a.$destroy(),a=null);y&&(i.leave(y).then(function(){v=null}),v=y,y=null)};r.$watch(o,function(o){var v=function(){u(e)&&(!e||r.$eval(e))&&t()},h=++p;o?(n(o,!0).then(function(n){var t,u;h===p&&(t=r.$new(),c.template=n,u=l(t,function(n){w();i.enter(n,null,f).then(v)}),a=t,y=u,a.$emit("$includeContentLoaded",o),r.$eval(s))},function(){h===p&&(w(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(w(),c.template=null)})}}}}],pw=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){if(/SVG/.test(r[0].toString())){r.empty();n(vo(f.template,t).childNodes)(i,function(n){r.append(n)},{futureParentElement:r});return}r.html(f.template);n(r.contents())(i)}}}],ww=oi({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),bw=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,t,u,f){var s=t.attr(u.$attr.ngList)||", ",h=u.ngTrim!=="false",c=h?p(s):s,l=function(n){if(!e(n)){var t=[];return n&&r(n.split(c),function(n){n&&t.push(h?p(n):n)}),t}};f.$parsers.push(l);f.$formatters.push(function(n){return o(n)?n.join(s):i});f.$isEmpty=function(n){return!n||!n.length}}}},gr="ng-valid",uc="ng-invalid",bi="ng-pristine",nf="ng-dirty",pe="ng-untouched",fc="ng-touched",ec="ng-pending",nu=v("ngModel"),kw=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,t,f,o,h,c,a,v,y,p){var it,g;this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=i;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=i;this.$name=p(f.name||"",!1)(n);var d=h(f.ngModel),rt=d.assign,tt=d,ut=rt,nt=null,b,w=this;this.$$setOptions=function(n){if(w.$options=n,n&&n.getterSetter){var t=h(f.ngModel+"()"),i=h(f.ngModel+"($$$p)");tt=function(n){var i=d(n);return l(i)&&(i=t(n)),i};ut=function(n){l(d(n))?i(n,{$$$p:w.$modelValue}):rt(n,w.$modelValue)}}else if(!d.assign)throw nu("nonassign","Expression '{0}' is non-assignable. Element: {1}",f.ngModel,bt(o));};this.$render=s;this.$isEmpty=function(n){return e(n)||n===""||n===null||n!==n};it=o.inheritedData("$formController")||br;g=0;oc({ctrl:this,$element:o,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},parentForm:it,$animate:c});this.$setPristine=function(){w.$dirty=!1;w.$pristine=!0;c.removeClass(o,nf);c.addClass(o,bi)};this.$setDirty=function(){w.$dirty=!0;w.$pristine=!1;c.removeClass(o,bi);c.addClass(o,nf);it.$setDirty()};this.$setUntouched=function(){w.$touched=!1;w.$untouched=!0;c.setClass(o,pe,fc)};this.$setTouched=function(){w.$touched=!0;w.$untouched=!1;c.setClass(o,fc,pe)};this.$rollbackViewValue=function(){a.cancel(nt);w.$viewValue=w.$$lastCommittedViewValue;w.$render()};this.$validate=function(){if(!k(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,n=w.$$rawModelValue,r=w.$valid,u=w.$modelValue,f=w.$options&&w.$options.allowInvalid;w.$$runValidators(n,t,function(t){f||r===t||(w.$modelValue=t?n:i,w.$modelValue!==u&&w.$$writeModelToScope())})}};this.$$runValidators=function(n,t,u){function h(){var n=w.$$parserName||"parse";if(b===i)f(n,null);else return b||(r(w.$validators,function(n,t){f(t,null)}),r(w.$asyncValidators,function(n,t){f(t,null)})),f(n,b),b;return!0}function c(){var i=!0;return(r(w.$validators,function(r,u){var e=r(n,t);i=i&&e;f(u,e)}),!i)?(r(w.$asyncValidators,function(n,t){f(t,null)}),!1):!0}function l(){var u=[],o=!0;r(w.$asyncValidators,function(r,e){var s=r(n,t);if(!iu(s))throw nu("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);f(e,i);u.push(s.then(function(){f(e,!0)},function(){o=!1;f(e,!1)}))});u.length?y.all(u).then(function(){e(o)},s):e(!0)}function f(n,t){o===g&&w.$setValidity(n,t)}function e(n){o===g&&u(n)}g++;var o=g;if(!h()){e(!1);return}if(!c()){e(!1);return}l()};this.$commitViewValue=function(){var n=w.$viewValue;(a.cancel(nt),w.$$lastCommittedViewValue!==n||n===""&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=n,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){function o(){w.$modelValue!==f&&w.$$writeModelToScope()}var s=w.$$lastCommittedViewValue,t=s,r,f,u;if(b=e(t)?i:!0,b)for(r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),e(t)){b=!1;break}k(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=tt(n));f=w.$modelValue;u=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t;u&&(w.$modelValue=t,o());w.$$runValidators(t,w.$$lastCommittedViewValue,function(n){u||(w.$modelValue=n?t:i,o())})};this.$$writeModelToScope=function(){ut(n,w.$modelValue);r(w.$viewChangeListeners,function(n){try{n()}catch(i){t(i)}})};this.$setViewValue=function(n,t){w.$viewValue=n;(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,f=w.$options,i;f&&u(f.debounce)&&(i=f.debounce,k(i)?r=i:k(i[t])?r=i[t]:k(i["default"])&&(r=i["default"]));a.cancel(nt);r?nt=a(function(){w.$commitViewValue()},r):v.$$phase?w.$commitViewValue():n.$apply(function(){w.$commitViewValue()})};n.$watch(function(){var t=tt(n);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t;b=i;for(var u=w.$formatters,f=u.length,r=t;f--;)r=u[f](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(t,r,s))}return t})}],dw=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:kw,priority:1,compile:function(t){return t.addClass(bi).addClass(pe).addClass(gr),{pre:function(n,t,i,r){var u=r[0],f=r[1]||br;u.$$setOptions(r[2]&&r[2].$options);f.$addControl(u);i.$observe("name",function(n){u.$name!==n&&f.$$renameControl(u,n)});n.$on("$destroy",function(){f.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];if(f.$options&&f.$options.updateOn)i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],gw=/(\s+|^)default(\s+|$)/,nb=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var r=this;this.$options=n.$eval(t.ngModelOptions);this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=p(this.$options.updateOn.replace(gw,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};var tb=oi({terminal:!0,priority:1e3}),ib=["$locale","$interpolate",function(n,t){var i=/{}/g,u=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,e,o){function d(n){e.text(n||"")}var c=o.count,p=o.$attr.when&&e.attr(o.$attr.when),l=o.offset||0,s=f.$eval(p)||{},a={},w=t.startSymbol(),b=t.endSymbol(),k=w+c+"-"+l+b,v=nt.noop,h;r(o,function(n,t){var i=u.exec(t),r;i&&(r=(i[1]?"-":"")+y(i[2]),s[r]=e.attr(o.$attr[t]))});r(s,function(n,r){a[r]=t(n.replace(i,k))});f.$watch(c,function(t){var i=parseFloat(t),r=isNaN(i);r||i in s||(i=n.pluralCat(i-l));i===h||r&&isNaN(h)||(v(),v=f.$watch(a[i],d),h=i)})}}}],rb=["$parse","$animate",function(n,u){var o="$$NG_REMOVED",e=v("ngRepeat"),s=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=t===0;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=(t&1)==0)},h=function(n){return n.clone[0]},c=function(n){return n.clone[n.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(l,a){var b=a.ngRepeat,ut=t.createComment(" end ngRepeat: "+b+" "),v=b.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),k,p,d,g,it,rt,w;if(!v)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",b);var nt=v[1],ft=v[2],y=v[3],tt=v[4];if(v=nt.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!v)throw e("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",nt);if(k=v[3]||v[1],p=v[2],y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw e("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);return w={$id:vi},tt?d=n(tt):(it=function(n,t){return vi(t)},rt=function(n){return n}),function(n,t,l,a,v){d&&(g=function(t,i,r){return p&&(w[p]=t),w[k]=i,w.$index=r,d(n,w)});var nt=st();n.$watchCollection(ft,function(l){var a,wt,ct=t[0],et,lt=st(),ot,ft,ht,d,pt,tt,w,at,vt,yt,bt;if(y&&(n[y]=l),gi(l))tt=l,pt=g||it;else{pt=g||rt;tt=[];for(yt in l)l.hasOwnProperty(yt)&&yt.charAt(0)!="$"&&tt.push(yt);tt.sort()}for(ot=tt.length,at=new Array(ot),a=0;a<ot;a++)if(ft=l===tt?a:tt[a],ht=l[ft],d=pt(ft,ht,a),nt[d])w=nt[d],delete nt[d],lt[d]=w,at[a]=w;else if(lt[d]){r(at,function(n){n&&n.scope&&(nt[n.id]=n)});throw e("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",b,d,ht);}else at[a]={id:d,scope:i,clone:i},lt[d]=!0;for(bt in nt){if(w=nt[bt],vt=uu(w.clone),u.leave(vt),vt[0].parentNode)for(a=0,wt=vt.length;a<wt;a++)vt[a][o]=!0;w.scope.$destroy()}for(a=0;a<ot;a++)if(ft=l===tt?a:tt[a],ht=l[ft],w=at[a],w.scope){et=ct;do et=et.nextSibling;while(et&&et[o]);h(w)!=et&&u.move(uu(w.clone),null,f(ct));ct=c(w);s(w.scope,a,k,ht,p,ft,ot)}else v(function(n,t){w.scope=t;var i=ut.cloneNode(!1);n[n.length++]=i;u.enter(n,null,f(ct));ct=i;w.clone=n;lt[w.id]=w;s(w.scope,a,k,ht,p,ft,ot)});nt=lt})}}}}],hc="ng-hide",cc="ng-hide-animate",ub=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,hc,{tempClasses:cc})})}}}],fb=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,hc,{tempClasses:cc})})}}}],eb=oi(function(n,t,i){n.$watch(i.ngStyle,function(n,i){i&&n!==i&&r(i,function(n,i){t.css(i,"")});n&&t.css(n)},!0)}),ob=["$animate",function(n){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,u,f,e){var l=f.ngSwitch||f.on,c=[],h=[],o=[],s=[],a=function(n,t){return function(){n.splice(t,1)}};i.$watch(l,function(i){for(var l,v,u=0,f=o.length;u<f;++u)n.cancel(o[u]);for(o.length=0,u=0,f=s.length;u<f;++u)l=uu(h[u].clone),s[u].$destroy(),v=o[u]=n.leave(l),v.then(a(o,u));h.length=0;s.length=0;(c=e.cases["!"+i]||e.cases["?"])&&r(c,function(i){i.transclude(function(r,u){var f,e;s.push(u);f=i.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");e={clone:r};h.push(e);n.enter(r,f.parent(),f)})})})}}}],sb=oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),hb=oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),cb=oi({restrict:"EAC",link:function(n,t,i,r,u){if(!u)throw v("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",bt(t));u(function(n){t.empty();t.append(n)})}}),lb=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){if(i.type=="text/ng-template"){var r=i.id,u=t[0].text;n.put(r,u)}}}}],ab=v("ngOptions"),vb=it({restrict:"A",terminal:!0}),yb=["$compile","$parse",function(n,e){var h=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,c={$setViewValue:s};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,i){var r=this,f={},e=c,o,u;r.databound=i.ngModel;r.init=function(n,t,i){e=n;o=t;u=i};r.addOption=function(t,i){ai(t,'"option value"');f[t]=!0;e.$viewValue==t&&(n.val(t),u.parent()&&u.remove());i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)};r.removeOption=function(n){this.hasOption(n)&&(delete f[n],e.$viewValue===n&&this.renderUnknownOption(n))};r.renderUnknownOption=function(t){var i="? "+vi(t)+" ?";u.val(i);n.prepend(u);n.val(i);u.prop("selected",!0)};r.hasOption=function(n){return f.hasOwnProperty(n)};t.$on("$destroy",function(){r.renderUnknownOption=s})}],link:function(s,c,l,a){function ft(n,t,i,r){i.$render=function(){var n=i.$viewValue;r.hasOption(n)?(w.parent()&&w.remove(),t.val(n),n===""&&g.prop("selected",!0)):n==null&&g?t.val(""):r.renderUnknownOption(n)};t.on("change",function(){n.$apply(function(){w.parent()&&w.remove();i.$setViewValue(t.val())})})}function et(n,t,i){var f;i.$render=function(){var n=new ar(i.$viewValue);r(t.find("option"),function(t){t.selected=u(n.get(t.value))})};n.$watch(function(){ot(f,i.$viewValue)||(f=at(i.$viewValue),i.$render())});t.on("change",function(){n.$apply(function(){var n=[];r(t.find("option"),function(t){t.selected&&n.push(t.value)});i.$setViewValue(n)})})}function st(t,f,s){function a(n,i,r){return ft[ht]=r,p&&(ft[p]=i),n(t,ft)}function pt(){t.$apply(function(){var u=tt(t)||[],n,i;y?(n=[],r(f.val(),function(t){t=l?ut[t]:t;n.push(at(t,u[t]))})):(i=l?ut[f.val()]:f.val(),n=at(i,u[i]));s.$setViewValue(n);st()})}function at(n,t){if(n==="?")return i;if(n==="")return null;var r=g?g:lt;return a(r,n,t)}function wt(){var n=tt(t),i,r,f,u;if(n&&o(n)){for(i=new Array(n.length),r=0,f=n.length;r<f;r++)i[r]=a(et,r,n[r]);return i}if(n){i={};for(u in n)n.hasOwnProperty(u)&&(i[u]=a(et,u,n[u]))}return i}function kt(n){var t,i;if(y)if(l&&o(n))for(t=new ar([]),i=0;i<n.length;i++)t.put(a(l,null,n[i]),!0);else t=new ar(n);else l&&(n=a(l,null,n));return function(i,r){var f;return f=l?l:g?g:lt,y?u(t.remove(a(f,i,r))):n===a(f,i,r)}}function ot(){nt||(t.$$postDigest(st),nt=!0)}function k(n,t,i){n[t]=n[t]||0;n[t]+=i?1:-1}function st(){nt=!1;var lt={"":[]},bt=[""],c,e,n,d,g,o,ii=s.$viewValue,dt=tt(t)||[],gt=p?be(dt):dt,ot,yt,ri,pt,st,i,ht={},ni,ui=kt(ii),wt=!1,h,ct,at,ti;for(ut={},i=0;pt=gt.length,i<pt;i++)(ot=i,p&&(ot=gt[i],ot.charAt(0)==="$"))||(yt=dt[ot],c=a(vt,ot,yt)||"",(e=lt[c])||(e=lt[c]=[],bt.push(c)),ni=ui(ot,yt),wt=wt||ni,at=a(et,ot,yt),at=u(at)?at:"",ti=l?l(t,ft):p?gt[i]:i,l&&(ut[ti]=ot),e.push({id:ti,label:at,selected:ni}));for(y||(v||ii===null?lt[""].unshift({id:"",label:"",selected:!wt}):wt||lt[""].unshift({id:"?",label:"",selected:!0})),st=0,ri=bt.length;st<ri;st++){for(c=bt[st],e=lt[c],w.length<=st?(d={element:rt.clone().attr("label",c),label:e.label},g=[d],w.push(g),f.append(d.element)):(g=w[st],d=g[0],d.label!=c&&d.element.attr("label",d.label=c)),h=null,i=0,pt=e.length;i<pt;i++)n=e[i],(o=g[i+1])?(h=o.element,o.label!==n.label&&(k(ht,o.label,!1),k(ht,n.label,!0),h.text(o.label=n.label),h.prop("label",o.label)),o.id!==n.id&&h.val(o.id=n.id),h[0].selected!==n.selected&&(h.prop("selected",o.selected=n.selected),si&&h.prop("selected",o.selected))):(n.id===""&&v?ct=v:(ct=it.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),g.push(o={element:ct,label:n.label,id:n.id,selected:n.selected}),k(ht,n.label,!0),h?h.after(ct):d.element.append(ct),h=ct);for(i++;g.length>i;)n=g.pop(),k(ht,n.label,!1),n.element.remove()}while(w.length>st){for(e=w.pop(),i=1;i<e.length;++i)k(ht,e[i].label,!1);e[0].element.remove()}r(ht,function(n,t){n>0?b.addOption(t):n<0&&b.removeOption(t)})}var c;if(!(c=d.match(h)))throw ab("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",d,bt(f));var et=e(c[2]||c[1]),ht=c[4]||c[6],ct=/ as /.test(c[0])&&c[1],g=ct?e(ct):null,p=c[5],vt=e(c[3]||""),lt=e(c[2]?c[1]:ht),tt=e(c[7]),yt=c[8],l=yt?e(c[8]):null,ut={},w=[[{element:f,label:""}]],ft={};v&&(n(v)(t),v.removeClass("ng-scope"),v.remove());f.empty();f.on("change",pt);s.$render=st;t.$watchCollection(tt,ot);t.$watchCollection(wt,ot);y&&t.$watchCollection(function(){return s.$modelValue},ot)}if(a[1]){for(var b=a[0],p=a[1],y=l.multiple,d=l.ngOptions,v=!1,g,nt=!1,it=f(t.createElement("option")),rt=f(t.createElement("optgroup")),w=it.clone(),k=0,tt=c.children(),ut=tt.length;k<ut;k++)if(tt[k].value===""){g=v=tt.eq(k);break}b.init(p,v,w);y&&(p.$isEmpty=function(n){return!n||n.length===0});d?st(s,c,p):y?et(s,c,p):ft(s,c,p,b)}}}}],pb=["$interpolate",function(n){var t={addOption:s,removeOption:s};return{restrict:"E",priority:100,compile:function(i,r){if(e(r.value)){var u=n(i.text(),!0);u||r.$set("value",i.text())}return function(n,i,r){var e="$selectController",o=i.parent(),f=o.data(e)||o.parent().data(e);f&&f.databound||(f=t);u?n.$watch(u,function(n,t){r.$set("value",n);t!==n&&f.removeOption(t);f.addOption(n,i)}):f.addOption(r.value,i);i.on("$destroy",function(){f.removeOption(r.value)})}}}}],wb=it({restrict:"E",terminal:!1}),lc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},ac=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,r,u){if(u){var f,o=r.ngPattern||r.pattern;r.$observe("pattern",function(n){if(h(n)&&n.length>0&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw v("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,n,bt(t));f=n||i;u.$validate()});u.$validators.pattern=function(n,t){return u.$isEmpty(t)||e(f)||f.test(t)}}}}},vc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){var t=g(n);u=isNaN(t)?-1:t;r.$validate()});r.$validators.maxlength=function(n,t){return u<0||r.$isEmpty(t)||t.length<=u}}}}},yc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=g(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};if(n.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}cl();yl(nt);f(t).ready(function(){ol(t,fo)})})(window,document);window.angular.$$csp()||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}<\/style>');
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,t,i){function u(n){for(var t in n)if(f.style[t]!==undefined)return n[t]}var r=function(u,f,e){e=e||{};var s=n.defer(),o=r[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){u.unbind(o,h);s.resolve(u)})};return o&&u.bind(o,h),t(function(){angular.isString(f)?u.addClass(f):angular.isFunction(f)?f(u):angular.isObject(f)&&u.css(f);o||s.resolve(u)}),s.promise.cancel=function(){o&&u.unbind(o,h);s.reject("Transition cancelled")},s.promise},f=document.createElement("trans");return r.transitionEndEventName=u({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),r.animationEndEventName=u({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),r}]);angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(n){return{link:function(t,i,r){function e(t){function f(){u===r&&(u=undefined)}var r=n(i,t);return u&&u.cancel(),u=r,r.then(f,f),r}function h(){f?(f=!1,o()):(i.removeClass("collapse").addClass("collapsing"),e({height:i[0].scrollHeight+"px"}).then(o))}function o(){i.removeClass("collapsing");i.addClass("collapse in");i.css({height:"auto"})}function c(){if(f)f=!1,s(),i.css({height:0});else{i.css({height:i[0].scrollHeight+"px"});var n=i[0].offsetWidth;i.removeClass("collapse in").addClass("collapsing");e({height:0}).then(s)}}function s(){i.removeClass("collapsing");i.addClass("collapse")}var f=!0,u;t.$watch(r.collapse,function(n){n?c():h()})}}}]);angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n);n.$watch("isOpen",function(t){t&&r.closeOthers(n)});n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}});angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable="close"in t;this.close=n.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(n){return{require:"alert",link:function(t,i,r,u){n(function(){u.close()},parseInt(r.dismissOnTimeout,10))}}}]);angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe);n.$watch(i.bindHtmlUnsafe,function(n){t.html(n||"")})}});angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active";this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))};t.bind(f.toggleEvent,function(){var r=t.hasClass(f.activeClass);(!r||angular.isDefined(i.uncheckable))&&n.$apply(function(){u.$setViewValue(r?null:n.$eval(i.btnRadio));u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}});angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(n,t,i,r){function c(){l();var t=+n.interval;!isNaN(t)&&t>0&&(o=i(a,t))}function l(){o&&(i.cancel(o),o=null)}function a(){var t=+n.interval;s&&!isNaN(t)&&t>0?n.next():n.pause()}var u=this,f=u.slides=n.slides=[],e=-1,o,s,h;u.currentSlide=null;h=!1;u.select=n.select=function(i,o){function a(){if(!h){if(u.currentSlide&&angular.isString(o)&&!n.noTransition&&i.$element){i.$element.addClass(o);var t=i.$element[0].offsetWidth;angular.forEach(f,function(n){angular.extend(n,{direction:"",entering:!1,leaving:!1,active:!1})});angular.extend(i,{direction:o,active:!0,entering:!0});angular.extend(u.currentSlide||{},{direction:o,leaving:!0});n.$currentTransition=r(i.$element,{}),function(t,i){n.$currentTransition.then(function(){s(t,i)},function(){s(t,i)})}(i,u.currentSlide)}else s(i,u.currentSlide);u.currentSlide=i;e=l;c()}}function s(t,i){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1});angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1});n.$currentTransition=null}var l=f.indexOf(i);o===undefined&&(o=l>e?"next":"prev");i&&i!==u.currentSlide&&(n.$currentTransition?(n.$currentTransition.cancel(),t(a)):a())};n.$on("$destroy",function(){h=!0});u.indexOfSlide=function(n){return f.indexOf(n)};n.next=function(){var t=(e+1)%f.length;if(!n.$currentTransition)return u.select(f[t],"next")};n.prev=function(){var t=e-1<0?f.length-1:e-1;if(!n.$currentTransition)return u.select(f[t],"prev")};n.isActive=function(n){return u.currentSlide===n};n.$watch("interval",c);n.$on("$destroy",l);n.play=function(){s||(s=!0,c())};n.pause=function(){n.noPause||(s=!1,l())};u.addSlide=function(t,i){t.$element=i;f.push(t);f.length===1||t.active?(u.select(f[f.length-1]),f.length==1&&n.play()):t.active=!1};u.removeSlide=function(n){var t=f.indexOf(n);f.splice(t,1);f.length>0&&n.active?t>=f.length?u.select(f[t-1]):u.select(f[t]):e>t&&e--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(n,t,i,r){r.addSlide(n,t);n.$on("$destroy",function(){r.removeSlide(n)});n.$watch("active",function(t){t&&r.select(n)})}}});angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(n,t){function r(n){var u=[],r=n.split("");return angular.forEach(i,function(t,i){var f=n.indexOf(i),e,o;if(f>-1){for(n=n.split(""),r[f]="("+t.regex+")",n[f]="$",e=f+1,o=f+i.length;e<o;e++)r[e]="",n[e]="$";n=n.join("");u.push({index:f,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(u,"index")}}function u(n,t,i){return t===1&&i>28?i===29&&(n%4==0&&n%100!=0||n%400==0):t===3||t===5||t===8||t===10?i<31:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(n){this.year=+n}},yy:{regex:"\\d{2}",apply:function(n){this.year=+n+2e3}},y:{regex:"\\d{1,4}",apply:function(n){this.year=+n}},MMMM:{regex:n.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:n.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1}},M:{regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},EEEE:{regex:n.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:n.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){var f,c,e,l,s;if(!angular.isString(t)||!i)return t;i=n.DATETIME_FORMATS[i]||i;this.parsers[i]||(this.parsers[i]=r(i));var h=this.parsers[i],a=h.regex,v=h.map,o=t.match(a);if(o&&o.length){for(f={year:1900,month:0,date:1,hours:0},e=1,l=o.length;e<l;e++)s=v[e-1],s.apply&&s.apply.call(f,o[e]);return u(f.year,f.month,f.date)&&(c=new Date(f.year,f.month,f.date,f.hours)),c}}}]);angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var a=i.split("-"),h=a[0],e=a[1]||"center",u,c,l,f,o,s;u=r?this.offset(n):this.position(n);c=t.prop("offsetWidth");l=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-c/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-l/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(h){case"right":f={top:s[e](),left:o[h]()};break;case"left":f={top:s[e](),left:u.left-c};break;case"bottom":f={top:s[h](),left:o[e]()};break;default:f={top:u.top-l,left:o[e]()}}return f}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,t,i,r,u,f,e,o){var s=this,h={$setViewValue:angular.noop},c;this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(i,u){s[i]=angular.isDefined(t[i])?u<8?r(t[i])(n.$parent):n.$parent.$eval(t[i]):o[i]});angular.forEach(["minDate","maxDate"],function(r){t[r]?n.$parent.$watch(i(t[r]),function(n){s[r]=n?new Date(n):null;s.refreshView()}):s[r]=o[r]?new Date(o[r]):null});n.datepickerMode=n.datepickerMode||o.datepickerMode;n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(Math.random()*1e4);this.activeDate=angular.isDefined(t.initDate)?n.$parent.$eval(t.initDate):new Date;n.isActive=function(t){return s.compare(t.date,s.activeDate)===0?(n.activeDateId=t.uid,!0):!1};this.init=function(n){h=n;h.$render=function(){s.render()}};this.render=function(){if(h.$modelValue){var n=new Date(h.$modelValue),t=!isNaN(n);t?this.activeDate=n:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');h.$setValidity("date",t)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var n=h.$modelValue?new Date(h.$modelValue):null;h.$setValidity("date-disabled",!n||this.element&&!this.isDisabled(n))}};this.createDateObject=function(n,t){var i=h.$modelValue?new Date(h.$modelValue):null;return{date:n,label:e(n,t),selected:i&&this.compare(n,i)===0,disabled:this.isDisabled(n),current:this.compare(n,new Date)===0}};this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&n.dateDisabled({date:i,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};n.select=function(t){if(n.datepickerMode===s.minMode){var i=h.$modelValue?new Date(h.$modelValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());h.$setViewValue(i);h.$render()}else s.activeDate=t,n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)-1]};n.move=function(n){var t=s.activeDate.getFullYear()+n*(s.step.years||0),i=s.activeDate.getMonth()+n*(s.step.months||0);s.activeDate.setFullYear(t,i,1);s.refreshView()};n.toggleMode=function(t){(t=t||1,(n.datepickerMode!==s.maxMode||t!==1)&&(n.datepickerMode!==s.minMode||t!==-1))&&(n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)+t])};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};c=function(){u(function(){s.element[0].focus()},0,!1)};n.$on("datepicker.focus",c);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),i==="enter"||i==="space"){if(s.isDisabled(s.activeDate))return;n.select(s.activeDate);c()}else t.ctrlKey&&(i==="up"||i==="down")?(n.toggleMode(i==="up"?1:-1),c()):(s.handleKeyDown(i,t),s.refreshView())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}).directive("daypicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,r,u){function f(n,t){return t===1&&n%4==0&&(n%100!=0||n%400==0)?29:e[t]}function o(n,t){var r=new Array(t),i=new Date(n),u=0;for(i.setHours(12);u<t;)r[u++]=new Date(i),i.setDate(i.getDate()+1);return r}function s(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=u.showWeeks;u.step={months:1};u.element=i;var e=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var p=u.activeDate.getFullYear(),h=u.activeDate.getMonth(),c=new Date(p,h,1),e=u.startingDay-c.getDay(),l=e>0?7-e:-e,a=new Date(c),i,r,f,v,y;for(l>0&&a.setDate(-l+1),i=o(a,42),r=0;r<42;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==h,uid:t.uniqueId+"-"+r});for(t.labels=new Array(7),f=0;f<7;f++)t.labels[f]={abbr:n(i[f].date,u.formatDayHeader),full:n(i[f].date,"EEEE")};if(t.title=n(u.activeDate,u.formatDayTitle),t.rows=u.split(i,7),t.showWeeks)for(t.weekNumbers=[],v=s(t.rows[0][0].date),y=t.rows.length;t.weekNumbers.push(v++)<y;);};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};u.handleKeyDown=function(n){var t=u.activeDate.getDate(),i;n==="left"?t=t-1:n==="up"?t=t-7:n==="right"?t=t+1:n==="down"?t=t+7:n==="pageup"||n==="pagedown"?(i=u.activeDate.getMonth()+(n==="pageup"?-1:1),u.activeDate.setMonth(i,1),t=Math.min(f(u.activeDate.getFullYear(),u.activeDate.getMonth()),t)):n==="home"?t=1:n==="end"&&(t=f(u.activeDate.getFullYear(),u.activeDate.getMonth()));u.activeDate.setDate(t)};u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,r,u){u.step={years:1};u.element=i;u._refreshView=function(){for(var r=new Array(12),f=u.activeDate.getFullYear(),i=0;i<12;i++)r[i]=angular.extend(u.createDateObject(new Date(f,i,1),u.formatMonth),{uid:t.uniqueId+"-"+i});t.title=n(u.activeDate,u.formatMonthTitle);t.rows=u.split(r,3)};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth())-new Date(t.getFullYear(),t.getMonth())};u.handleKeyDown=function(n){var t=u.activeDate.getMonth(),i;n==="left"?t=t-1:n==="up"?t=t-3:n==="right"?t=t+1:n==="down"?t=t+3:n==="pageup"||n==="pagedown"?(i=u.activeDate.getFullYear()+(n==="pageup"?-1:1),u.activeDate.setFullYear(i)):n==="home"?t=0:n==="end"&&(t=11);u.activeDate.setMonth(t)};u.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(n,t,i,r){function f(n){return parseInt((n-1)/u,10)*u+1}var u=r.yearRange;r.step={years:u};r.element=t;r._refreshView=function(){for(var i=new Array(u),t=0,e=f(r.activeDate.getFullYear());t<u;t++)i[t]=angular.extend(r.createDateObject(new Date(e+t,0,1),r.formatYear),{uid:n.uniqueId+"-"+t});n.title=[i[0].label,i[u-1].label].join(" - ");n.rows=r.split(i,5)};r.compare=function(n,t){return n.getFullYear()-t.getFullYear()};r.handleKeyDown=function(n){var t=r.activeDate.getFullYear();n==="left"?t=t-1:n==="up"?t=t-5:n==="right"?t=t+1:n==="down"?t=t+5:n==="pageup"||n==="pagedown"?t+=(n==="pageup"?-1:1)*r.step.years:n==="home"?t=f(r.activeDate.getFullYear()):n==="end"&&(t=f(r.activeDate.getFullYear())+u-1);r.activeDate.setFullYear(t)};r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(n,t,i,r,u,f,e){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(o,s,h,c){function k(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function d(n){if(n){if(angular.isDate(n)&&!isNaN(n))return c.$setValidity("date",!0),n;if(angular.isString(n)){var t=f.parse(n,p)||new Date(n);return isNaN(t)?(c.$setValidity("date",!1),undefined):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),undefined}return c.$setValidity("date",!0),null}var p,g=angular.isDefined(h.closeOnDateSelection)?o.$parent.$eval(h.closeOnDateSelection):e.closeOnDateSelection,b=angular.isDefined(h.datepickerAppendToBody)?o.$parent.$eval(h.datepickerAppendToBody):e.appendToBody,l,a,v,w,y;o.showButtonBar=angular.isDefined(h.showButtonBar)?o.$parent.$eval(h.showButtonBar):e.showButtonBar;o.getText=function(n){return o[n+"Text"]||e[n+"Text"]};h.$observe("datepickerPopup",function(n){p=n||e.datepickerPopup;c.$render()});l=angular.element("<div datepicker-popup-wrap><div datepicker><\/div><\/div>");l.attr({"ng-model":"date","ng-change":"dateSelection()"});a=angular.element(l.children()[0]);h.datepickerOptions&&angular.forEach(o.$parent.$eval(h.datepickerOptions),function(n,t){a.attr(k(t),n)});o.watchData={};angular.forEach(["minDate","maxDate","datepickerMode"],function(n){var i,r;h[n]&&(i=t(h[n]),o.$parent.$watch(i,function(t){o.watchData[n]=t}),a.attr(k(n),"watchData."+n),n==="datepickerMode"&&(r=i.assign,o.$watch("watchData."+n,function(n,t){n!==t&&r(o.$parent,n)})))});h.dateDisabled&&a.attr("date-disabled","dateDisabled({ date: date, mode: mode })");c.$parsers.unshift(d);o.dateSelection=function(n){angular.isDefined(n)&&(o.date=n);c.$setViewValue(o.date);c.$render();g&&(o.isOpen=!1,s[0].focus())};s.bind("input change keyup",function(){o.$apply(function(){o.date=c.$modelValue})});c.$render=function(){var n=c.$viewValue?u(c.$viewValue,p):"";s.val(n);o.date=d(c.$modelValue)};v=function(n){o.isOpen&&n.target!==s[0]&&o.$apply(function(){o.isOpen=!1})};w=function(n){o.keydown(n)};s.bind("keydown",w);o.keydown=function(n){n.which===27?(n.preventDefault(),n.stopPropagation(),o.close()):n.which!==40||o.isOpen||(o.isOpen=!0)};o.$watch("isOpen",function(n){n?(o.$broadcast("datepicker.focus"),o.position=b?r.offset(s):r.position(s),o.position.top=o.position.top+s.prop("offsetHeight"),i.bind("click",v)):i.unbind("click",v)});o.select=function(n){if(n==="today"){var t=new Date;angular.isDate(c.$modelValue)?(n=new Date(c.$modelValue),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):n=new Date(t.setHours(0,0,0,0))}o.dateSelection(n)};o.close=function(){o.isOpen=!1;s[0].focus()};y=n(l)(o);l.remove();b?i.find("body").append(y):s.after(y);o.$on("$destroy",function(){y.remove();s.unbind("keydown",w);i.unbind("click",v)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(n,t){t.bind("click",function(n){n.preventDefault();n.stopPropagation()})}}});angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var t=null,i,r;this.open=function(u){t||(n.bind("click",i),n.bind("keydown",r));t&&t!==u&&(t.isOpen=!1);t=u};this.close=function(u){t===u&&(t=null,n.unbind("click",i),n.unbind("keydown",r))};i=function(n){if(t){var i=t.getToggleElement();n&&i&&i[0].contains(n.target)||t.$apply(function(){t.isOpen=!1})}};r=function(n){n.which===27&&(t.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,i,r,u,f){var o=this,e=n.$new(),c=r.openClass,s,h=angular.noop,l=t.onToggle?i(t.onToggle):angular.noop;this.init=function(r){o.$element=r;t.isOpen&&(s=i(t.isOpen),h=s.assign,n.$watch(s,function(n){e.isOpen=!!n}))};this.toggle=function(n){return e.isOpen=arguments.length?!!n:!e.isOpen};this.isOpen=function(){return e.isOpen};e.getToggleElement=function(){return o.toggleElement};e.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()};e.$watch("isOpen",function(t,i){f[t?"addClass":"removeClass"](o.$element,c);t?(e.focusToggleElement(),u.open(e)):u.close(e);h(n,t);angular.isDefined(t)&&t!==i&&l(n,{open:!!t})});n.$on("$locationChangeSuccess",function(){e.isOpen=!1});n.$on("$destroy",function(){e.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,t,i,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,t,i,r){if(r){r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}});angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,i,r){t.backdropClass=r.backdropClass||"";t.animate=!1;n(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,u){r.addClass(u.windowClass||"");i.size=u.size;t(function(){i.animate=!0;r[0].querySelectorAll("[autofocus]").length||r[0].focus()});i.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty();t.append(n)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,t,i,r,u,f){function c(){for(var t=-1,i=e.keys(),n=0;n<i.length;n++)e.get(i[n]).value.backdrop&&(t=n);return t}function a(n){var r=i.find("body").eq(0),t=e.get(n).value;e.remove(n);v(t.modalDomEl,t.modalScope,300,function(){t.modalScope.$destroy();r.toggleClass(l,e.length()>0);y()})}function y(){if(h&&c()==-1){var n=o;v(h,o,150,function(){n.$destroy();n=null});h=undefined;o=undefined}}function v(i,r,u,f){function e(){e.done||(e.done=!0,i.remove(),f&&f())}var o,s;r.animate=!1;o=n.transitionEndEventName;o?(s=t(e,u),i.bind(o,function(){t.cancel(s);e();r.$apply()})):t(e)}var l="modal-open",h,o,e=f.createNew(),s={};return u.$watch(c,function(n){o&&(o.index=n)}),i.bind("keydown",function(n){var t;n.which===27&&(t=e.top(),t&&t.value.keyboard&&(n.preventDefault(),u.$apply(function(){s.dismiss(t.key,"escape key press")})))}),s.open=function(n,t){var f,s,a,v,y;e.add(n,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});f=i.find("body").eq(0);s=c();s>=0&&!h&&(o=u.$new(!0),o.index=s,a=angular.element("<div modal-backdrop><\/div>"),a.attr("backdrop-class",t.backdropClass),h=r(a)(o),f.append(h));v=angular.element("<div modal-window><\/div>");v.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:e.length()-1,animate:"animate"}).html(t.content);y=r(v)(t.scope);e.top().value.modalDomEl=y;f.append(y);f.addClass(l)},s.close=function(n,t){var i=e.get(n);i&&(i.value.deferred.resolve(t),a(n))},s.dismiss=function(n,t){var i=e.get(n);i&&(i.value.deferred.reject(t),a(n))},s.dismissAll=function(n){for(var t=this.getTop();t;)this.dismiss(t.key,n),t=this.getTop()},s.getTop=function(){return e.top()},s}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,r,u,f,e,o){function h(n){return n.template?r.when(n.template):u.get(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl,{cache:f}).then(function(n){return n.data})}function c(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var s={};return s.open=function(t){var f=r.defer(),s=r.defer(),u={result:f.promise,opened:s.promise,close:function(n){o.close(u,n)},dismiss:function(n){o.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([h(t)].concat(c(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close;r.$dismiss=u.dismiss;s={};c=1;t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=e(t.controller,s),t.controllerAs&&(r[t.controllerAs]=h));o.open(u,{scope:r,deferred:f,content:n[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){f.reject(n)}),l.then(function(){s.resolve(!0)},function(){s.reject(!1)}),u},s}]};return n});angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,t,i){var u=this,r={$setViewValue:angular.noop},f=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(f,e){r=f;this.config=e;r.$render=function(){u.render()};t.itemsPerPage?n.$parent.$watch(i(t.itemsPerPage),function(t){u.itemsPerPage=parseInt(t,10);n.totalPages=u.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage};this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)};this.render=function(){n.page=parseInt(r.$viewValue,10)||1};n.selectPage=function(t){n.page!==t&&t>0&&t<=n.totalPages&&(r.$setViewValue(t),r.$render())};n.getText=function(t){return n[t+"Text"]||u.config[t+"Text"]};n.noPrevious=function(){return n.page===1};n.noNext=function(){return n.page===n.totalPages};n.$watch("totalItems",function(){n.totalPages=u.calculateTotalPages()});n.$watch("totalPages",function(t){f(n.$parent,t);n.page>t?n.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(n,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,r,u,f){function h(n,t,i){return{number:n,text:t,active:i}}function a(n,t){var f=[],i=1,r=t,o=angular.isDefined(e)&&e<t,u,c,l,a;for(o&&(s?(i=Math.max(n-Math.floor(e/2),1),r=i+e-1,r>t&&(r=t,i=r-e+1)):(i=(Math.ceil(n/e)-1)*e+1,r=Math.min(i+e-1,t))),u=i;u<=r;u++)c=h(u,u,u===n),f.push(c);return o&&!s&&(i>1&&(l=h(i-1,"...",!1),f.unshift(l)),r<t&&(a=h(r+1,"...",!1),f.push(a))),f}var o=f[0],c=f[1],e,s,l;c&&(e=angular.isDefined(u.maxSize)?i.$parent.$eval(u.maxSize):t.maxSize,s=angular.isDefined(u.rotate)?i.$parent.$eval(u.rotate):t.rotate,i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):t.directionLinks,o.init(c,t),u.maxSize&&i.$parent.$watch(n(u.maxSize),function(n){e=parseInt(n,10);o.render()}),l=o.render,o.render=function(){l();i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,r,u){var e=u[0],f=u[1];f&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):n.align,e.init(f,n))}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(u,f,e,o,s,h){return function(u,c,l){function p(t){var i=t||a.trigger||l,r=n[i]||i;return{show:i,hide:r}}var a=angular.extend({},i,t),w=r(u),v=h.startSymbol(),y=h.endSymbol(),b="<div "+w+'-popup title="'+v+"title"+y+'" content="'+v+"content"+y+'" placement="'+v+"placement"+y+'" animation="animation" is-open="isOpen"><\/div>';return{restrict:"EA",compile:function(){var n=f(b);return function(t,i,r){function ot(){f.isOpen?g():d()}function d(){(!et||t.$eval(r[c+"Enable"]))&&(ht(),f.popupDelay?y||(y=e(ft,f.popupDelay,!1),y.then(function(n){n()})):ft()())}function g(){t.$apply(function(){nt()})}function ft(){return(y=null,v&&(e.cancel(v),v=null),!f.content)?angular.noop:(st(),h.css({top:0,left:0,display:"block"}),f.$digest(),ut(),f.isOpen=!0,f.$digest(),ut)}function nt(){f.isOpen=!1;e.cancel(y);y=null;f.animation?v||(v=e(k,500)):k()}function st(){h&&k();w=f.$new();h=n(w,function(n){b?o.find("body").append(n):i.after(n)})}function k(){v=null;h&&(h.remove(),h=null);w&&(w.$destroy(),w=null)}function ht(){ct();lt()}function ct(){var n=r[c+"Placement"];f.placement=angular.isDefined(n)?n:a.placement}function lt(){var t=r[c+"PopupDelay"],n=parseInt(t,10);f.popupDelay=isNaN(n)?a.popupDelay:n}function at(){var n=r[c+"Trigger"];tt();l=p(n);l.show===l.hide?i.bind(l.show,ot):(i.bind(l.show,d),i.bind(l.hide,g))}var h,w,v,y,b=angular.isDefined(a.appendToBody)?a.appendToBody:!1,l=p(undefined),et=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),ut=function(){var n=s.positionElements(i,h,f.placement,b);n.top+="px";n.left+="px";h.css(n)},tt,it,rt;f.isOpen=!1;r.$observe(u,function(n){f.content=n;!n&&f.isOpen&&nt()});r.$observe(c+"Title",function(n){f.title=n});tt=function(){i.unbind(l.show,d);i.unbind(l.hide,g)};at();it=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(it)?!!it:a.animation;rt=t.$eval(r[c+"AppendToBody"]);b=angular.isDefined(rt)?rt:b;b&&t.$on("$locationChangeSuccess",function(){f.isOpen&&nt()});t.$on("$destroy",function(){e.cancel(v);e.cancel(y);tt();k();f=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(n){return n("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,i){var r=this,u=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[];n.max=angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max;this.addBar=function(t,i){u||i.css({transition:"none"});this.bars.push(t);t.$watch("value",function(i){t.percent=+(100*i/n.max).toFixed(2)});t.$on("$destroy",function(){i=null;r.removeBar(t)})};this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}});angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,t,i){var r={$setViewValue:angular.noop};this.init=function(u){r=u;r.$render=this.render;this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;var f=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(f)};this.buildTemplateObjects=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},n[t]);return n};n.rate=function(t){!n.readonly&&t>=0&&t<=n.range.length&&(r.$setViewValue(t),r.$render())};n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})};n.reset=function(){n.value=r.$viewValue;n.onLeave()};n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(t.which===38||t.which===39?1:-1)))};this.render=function(){n.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}});angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[],r;i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())});n.active=!0;n.onSelect()};i.addTab=function(n){t.push(n);t.length===1?n.active=!0:n.active&&i.select(n)};i.removeTab=function(n){var u=t.indexOf(n),f;n.active&&t.length>1&&!r&&(f=u==t.length-1?u-1:u+1,i.select(t[f]));t.splice(u,1)};n.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse",function(n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,i,r){return function(t,i,u,f){t.$watch("active",function(n){n&&f.select(t)});t.disabled=!1;u.disabled&&t.$parent.$watch(n(u.disabled),function(n){t.disabled=!!n});t.select=function(){t.disabled||(t.active=!0)};f.addTab(t);t.$on("$destroy",function(){f.removeTab(t)});t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(n,t,i,r,u,f){function p(){var t=parseInt(n.hours,10),i=n.showMeridian?t>0&&t<13:t>=0&&t<24;return i?(n.showMeridian&&(t===12&&(t=0),n.meridian===v[1]&&(t=t+12)),t):undefined}function w(){var t=parseInt(n.minutes,10);return t>=0&&t<60?t:undefined}function l(n){return angular.isDefined(n)&&n.toString().length<2?"0"+n:n}function a(n){b();o.$setViewValue(new Date(e));y(n)}function b(){o.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1}function y(t){var i=e.getHours(),r=e.getMinutes();n.showMeridian&&(i=i===0||i===12?12:i%12);n.hours=t==="h"?i:l(i);n.minutes=t==="m"?r:l(r);n.meridian=e.getHours()<12?v[0]:v[1]}function s(n){var t=new Date(e.getTime()+n*6e4);e.setHours(t.getHours(),t.getMinutes());a()}var e=new Date,o={$setViewValue:angular.noop},v=angular.isDefined(t.meridians)?n.$parent.$eval(t.meridians):f.meridians||u.DATETIME_FORMATS.AMPMS,h,c;this.init=function(i,r){o=i;o.$render=this.render;var u=r.eq(0),e=r.eq(1),s=angular.isDefined(t.mousewheel)?n.$parent.$eval(t.mousewheel):f.mousewheel;s&&this.setupMousewheelEvents(u,e);n.readonlyInput=angular.isDefined(t.readonlyInput)?n.$parent.$eval(t.readonlyInput):f.readonlyInput;this.setupInputEvents(u,e)};h=f.hourStep;t.hourStep&&n.$parent.$watch(i(t.hourStep),function(n){h=parseInt(n,10)});c=f.minuteStep;t.minuteStep&&n.$parent.$watch(i(t.minuteStep),function(n){c=parseInt(n,10)});n.showMeridian=f.showMeridian;t.showMeridian&&n.$parent.$watch(i(t.showMeridian),function(t){if(n.showMeridian=!!t,o.$error.time){var i=p(),r=w();angular.isDefined(i)&&angular.isDefined(r)&&(e.setHours(i),a())}else y()});this.setupMousewheelEvents=function(t,i){var r=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()})};this.setupInputEvents=function(t,i){if(n.readonlyInput){n.updateHours=angular.noop;n.updateMinutes=angular.noop;return}var r=function(t,i){o.$setViewValue(null);o.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t);angular.isDefined(i)&&(n.invalidMinutes=i)};n.updateHours=function(){var n=p();angular.isDefined(n)?(e.setHours(n),a("h")):r(!0)};t.bind("blur",function(){!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=l(n.hours)})});n.updateMinutes=function(){var n=w();angular.isDefined(n)?(e.setMinutes(n),a("m")):r(undefined,!0)};i.bind("blur",function(){!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=l(n.minutes)})})};this.render=function(){var n=o.$modelValue?new Date(o.$modelValue):null;isNaN(n)?(o.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(n&&(e=n),b(),y())};n.incrementHours=function(){s(h*60)};n.decrementHours=function(){s(-h*60)};n.incrementMinutes=function(){s(c)};n.decrementMinutes=function(){s(-c)};n.toggleMeridian=function(){s(720*(e.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}});angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var st=s.$eval(c.typeaheadMinLength)||1,ft=s.$eval(c.typeaheadWaitMs)||0,ht=s.$eval(c.typeaheadEditable)!==!1,p=t(c.typeaheadLoading).assign||angular.noop,ct=t(c.typeaheadOnSelect),et=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):undefined,d=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,lt=s.$eval(c.typeaheadFocusFirst)!==!1,at=t(c.ngModel).assign,v=e.parse(c.typeahead),g,a=s.$new(),w,b,y,nt,tt,it,ot,rt,ut,k;s.$on("$destroy",function(){a.$destroy()});w="typeahead-"+a.$id+"-"+Math.floor(Math.random()*1e4);h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":w});b=angular.element("<div typeahead-popup><\/div>");b.attr({id:w,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});angular.isDefined(c.typeaheadTemplateUrl)&&b.attr("template-url",c.typeaheadTemplateUrl);y=function(){a.matches=[];a.activeIdx=-1;h.attr("aria-expanded",!1)};nt=function(n){return w+"-option-"+n};a.$watch("activeIdx",function(n){n<0?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",nt(n))});tt=function(n){var t={$viewValue:n};p(s,!0);i.when(v.source(s,t)).then(function(i){var u=n===l.$viewValue,r;if(u&&g)if(i.length>0){for(a.activeIdx=lt?0:-1,a.matches.length=0,r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({id:nt(r),label:v.viewMapper(a,t),model:i[r]});a.query=n;a.position=d?f.offset(h):f.position(h);a.position.top=a.position.top+h.prop("offsetHeight");h.attr("aria-expanded",!0)}else y();u&&p(s,!1)},function(){y();p(s,!1)})};y();a.query=undefined;ot=function(n){it=r(function(){tt(n)},ft)};rt=function(){it&&r.cancel(it)};l.$parsers.unshift(function(n){return g=!0,n&&n.length>=st?ft>0?(rt(),ot(n)):tt(n):(p(s,!1),rt(),y()),ht?n:n?(l.$setValidity("editable",!1),undefined):(l.$setValidity("editable",!0),n)});l.$formatters.push(function(n){var i,r,t={};return et?(t.$model=n,et(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=undefined,r=v.viewMapper(s,t),i!==r?i:n)});a.select=function(n){var t={},i,u;t[v.itemName]=u=a.matches[n].model;i=v.modelMapper(s,t);at(s,i);l.$setValidity("editable",!0);ct(s,{$item:u,$model:i,$label:v.viewMapper(s,t)});y();r(function(){h[0].focus()},0,!1)};h.bind("keydown",function(n){a.matches.length!==0&&o.indexOf(n.which)!==-1&&(a.activeIdx!=-1||n.which!==13&&n.which!==9)&&(n.preventDefault(),n.which===40?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):n.which===38?(a.activeIdx=(a.activeIdx>0?a.activeIdx:a.matches.length)-1,a.$digest()):n.which===13||n.which===9?a.$apply(function(){a.select(a.activeIdx)}):n.which===27&&(n.stopPropagation(),y(),a.$digest()))});h.bind("blur",function(){g=!1});ut=function(n){h[0]!==n.target&&(y(),a.$digest())};u.bind("click",ut);s.$on("$destroy",function(){u.unbind("click",ut);d&&k.remove()});k=n(b)(a);d?u.find("body").append(k):h.after(k)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(n,t,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(u,f,e){var o=r(e.templateUrl)(u.$parent)||"template/typeahead/typeahead-match.html";n.get(o,{cache:t}).success(function(n){f.replaceWith(i(n.trim())(u))})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}<\/span><\/a>\n    <\/h4>\n  <\/div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude><\/div>')}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function(n){n.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;<\/span>\n        <span class="sr-only">Close<\/span>\n    <\/button>\n    <div ng-transclude><\/div>\n<\/div>\n')}]);angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(n){n.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"><\/li>\n    <\/ol>\n    <div class="carousel-inner" ng-transclude><\/div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"><\/span><\/a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"><\/span><\/a>\n<\/div>\n')}]);angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(n){n.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude><\/div>\n")}]);angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"><\/daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"><\/monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"><\/yearpicker>\n<\/div>')}]);angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"><\/th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}<\/small><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}<\/em><\/td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude><\/li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}<\/button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}<\/button>\n\t\t<\/span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}<\/button>\n\t<\/li>\n<\/ul>\n')}]);angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(n){n.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n><\/div>\n')}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function(n){n.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude><\/div><\/div>\n<\/div>')}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}<\/a><\/li>\n<\/ul>')}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}<\/a><\/li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}<\/a><\/li>\n<\/ul>')}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" bind-html-unsafe="content"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind="content"><\/div>\n<\/div>\n')}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"><\/h3>\n      <div class="popover-content" ng-bind="content"><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>')}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progress.html",'<div class="progress" ng-transclude><\/div>')}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n<\/div>')}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function(n){n.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})<\/span>\n    <\/i>\n<\/span>')}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}<\/a>\n<\/li>\n')}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude><\/ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    <\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(n){n.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td>:<\/td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}<\/button><\/td>\n\t\t<\/tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t<\/tbody>\n<\/table>\n')}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"><\/a>')}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"><\/div>\n    <\/li>\n<\/ul>\n')}]);
(function(n){if(typeof exports=="object"&&typeof module=="object")module.exports=n();else{if(typeof define=="function"&&define.amd)return define([],n);this.CodeMirror=n()}})(function(){"use strict";function n(t,i){var r,e,u,f;if(!(this instanceof n))return new n(t,i);this.options=i=i?nu(i):{};nu(uv,i,!1);is(i);r=i.value;typeof r=="string"&&(r=new tt(r,i.mode));this.doc=r;e=this.display=new dp(t,r);e.wrapper.CodeMirror=this;kc(this);bc(this);i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");i.autofocus&&!wo&&it(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new lo,keySeq:null};s&&h<11&&setTimeout(bt(st,this,!0),20);ob(this);sd();gi(this);this.curOp.forceUpdate=!0;ly(this,r);i.autofocus&&!wo||vi()==e.input?setTimeout(bt(fh,this),20):ke(this);for(u in ir)ir.hasOwnProperty(u)&&ir[u](this,i[u],hh);for(gc(this),f=0;f<ro.length;++f)ro[f](this);nr(this)}function dp(n,t){var r=this,u=r.input=i("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");v?u.style.width="1000px":u.setAttribute("wrap","off");ru&&(u.style.border="1px solid black");u.setAttribute("autocorrect","off");u.setAttribute("autocapitalize","off");u.setAttribute("spellcheck","false");r.inputDiv=i("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");r.scrollbarH=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.scrollbarV=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");r.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler");r.gutterFiller=i("div",null,"CodeMirror-gutter-filler");r.lineDiv=i("div",null,"CodeMirror-code");r.selectionDiv=i("div",null,null,"position: relative; z-index: 1");r.cursorDiv=i("div",null,"CodeMirror-cursors");r.measure=i("div",null,"CodeMirror-measure");r.lineMeasure=i("div",null,"CodeMirror-measure");r.lineSpace=i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");r.mover=i("div",[i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative");r.sizer=i("div",[r.mover],"CodeMirror-sizer");r.heightForcer=i("div",null,null,"position: absolute; height: "+wt+"px; width: 1px;");r.gutters=i("div",null,"CodeMirror-gutters");r.lineGutter=null;r.scroller=i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll");r.scroller.setAttribute("tabIndex","-1");r.wrapper=i("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror");s&&h<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0);ru&&(u.style.width="0px");v||(r.scroller.draggable=!0);po&&(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute");s&&h<8&&(r.scrollbarH.style.minHeight=r.scrollbarV.style.minWidth="18px");n&&(n.appendChild?n.appendChild(r.wrapper):n(r.wrapper));r.viewFrom=r.viewTo=t.first;r.view=[];r.externalMeasured=null;r.viewOffset=0;r.lastWrapHeight=r.lastWrapWidth=0;r.updateLineNumbers=null;r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null;r.prevInput="";r.alignWidgets=!1;r.pollingFast=!1;r.poll=new lo;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null;r.inaccurateSelection=!1;r.maxLine=null;r.maxLineLength=0;r.maxLineChanged=!1;r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null;r.shift=!1;r.selForContextMenu=null}function ko(t){t.doc.mode=n.getMode(t.options,t.doc.modeOption);uu(t)}function uu(n){n.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null)});n.doc.frontier=n.doc.first;hu(n,100);n.state.modeGen++;n.curOp&&rt(n)}function gp(n){n.options.lineWrapping?(kf(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth=""):(bf(n.display.wrapper,"CodeMirror-wrap"),ts(n));go(n);rt(n);lu(n);setTimeout(function(){pi(n)},100)}function wc(n){var t=ki(n.display),i=n.options.lineWrapping,r=i&&Math.max(5,n.display.scroller.clientWidth/au(n.display)-3);return function(u){var e,f;if(ur(n.doc,u))return 0;if(e=0,u.widgets)for(f=0;f<u.widgets.length;f++)u.widgets[f].height&&(e+=u.widgets[f].height);return i?e+(Math.ceil(u.text.length/r)||1)*t:e+t}}function go(n){var t=n.doc,i=wc(n);t.iter(function(n){var t=i(n);t!=n.height&&yt(n,t)})}function bc(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-");lu(n)}function fu(n){kc(n);rt(n);setTimeout(function(){us(n)},20)}function kc(n){var r=n.display.gutters,e=n.options.gutters,t,u,f;for(or(r),t=0;t<e.length;++t)u=e[t],f=r.appendChild(i("div",null,"CodeMirror-gutter "+u)),u=="CodeMirror-linenumbers"&&(n.display.lineGutter=f,f.style.width=(n.display.lineNumWidth||1)+"px");r.style.display=t?"":"none";ns(n)}function ns(n){var t=n.display.gutters.offsetWidth;n.display.sizer.style.marginLeft=t+"px";n.display.scrollbarH.style.left=n.options.fixedGutter?t+"px":0}function ne(n){var r,u,t,i;if(n.height==0)return 0;for(r=n.text.length,t=n;u=yv(t);)i=u.find(0,!0),t=i.from.line,r+=i.from.ch-i.to.ch;for(t=n;u=uf(t);)i=u.find(0,!0),r-=t.text.length-i.from.ch,t=i.to.line,r+=t.text.length-i.to.ch;return r}function ts(n){var t=n.display,i=n.doc;t.maxLine=r(i,i.first);t.maxLineLength=ne(t.maxLine);t.maxLineChanged=!0;i.iter(function(n){var i=ne(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}function is(n){var t=b(n.gutters,"CodeMirror-linenumbers");t==-1&&n.lineNumbers?n.gutters=n.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!n.lineNumbers&&(n.gutters=n.gutters.slice(0),n.gutters.splice(t,1))}function dc(n){return n.display.scroller.clientHeight-n.display.wrapper.clientHeight<wt-3}function te(n){var t=n.display.scroller;return{clientHeight:t.clientHeight,barHeight:n.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,hScrollbarTakesSpace:dc(n),barWidth:n.display.scrollbarH.clientWidth,docHeight:Math.round(n.doc.height+ks(n.display))}}function pi(n,t){var f,h,o;t||(t=te(n));var i=n.display,r=cd(i.measure),s=t.docHeight+wt,u=t.scrollWidth>t.clientWidth;u&&t.scrollWidth<=t.clientWidth+1&&r>0&&!t.hScrollbarTakesSpace&&(u=!1);f=s>t.clientHeight;f?(i.scrollbarV.style.display="block",i.scrollbarV.style.bottom=u?r+"px":"0",i.scrollbarV.firstChild.style.height=Math.max(0,s-t.clientHeight+(t.barHeight||i.scrollbarV.clientHeight))+"px"):(i.scrollbarV.style.display="",i.scrollbarV.firstChild.style.height="0");u?(i.scrollbarH.style.display="block",i.scrollbarH.style.right=f?r+"px":"0",i.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||i.scrollbarH.clientWidth)+"px"):(i.scrollbarH.style.display="",i.scrollbarH.firstChild.style.width="0");u&&f?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=i.scrollbarFiller.style.width=r+"px"):i.scrollbarFiller.style.display="";u&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r+"px",i.gutterFiller.style.width=i.gutters.offsetWidth+"px"):i.gutterFiller.style.display="";!n.state.checkedOverlayScrollbar&&t.clientHeight>0&&(r===0&&(h=ot&&!wp?"12px":"18px",i.scrollbarV.style.minWidth=i.scrollbarH.style.minHeight=h,o=function(t){lf(t)!=i.scrollbarV&&lf(t)!=i.scrollbarH&&y(n,ha)(t)},e(i.scrollbarV,"mousedown",o),e(i.scrollbarH,"mousedown",o)),n.state.checkedOverlayScrollbar=!0)}function rs(n,t,i){var u=i&&i.top!=null?Math.max(0,i.top):n.scroller.scrollTop,f,e;u=Math.floor(u-ee(n));var h=i&&i.bottom!=null?i.bottom:u+n.wrapper.clientHeight,o=er(t,u),s=er(t,h);if(i&&i.ensure){if(f=i.ensure.from.line,e=i.ensure.to.line,f<o)return{from:f,to:er(t,ii(r(t,f))+n.wrapper.clientHeight)};if(Math.min(e,t.lastLine())>=s)return{from:er(t,ii(r(t,e))-n.wrapper.clientHeight),to:e}}return{from:o,to:Math.max(s,o+1)}}function us(n){var t=n.display,r=t.view,i,u,f;if(t.alignWidgets||t.gutters.firstChild&&n.options.fixedGutter){var e=es(t)-t.scroller.scrollLeft+n.doc.scrollLeft,s=t.gutters.offsetWidth,o=e+"px";for(i=0;i<r.length;i++)if(!r[i].hidden&&(n.options.fixedGutter&&r[i].gutter&&(r[i].gutter.style.left=o),u=r[i].alignable,u))for(f=0;f<u.length;f++)u[f].style.left=o;n.options.fixedGutter&&(t.gutters.style.left=e+s+"px")}}function gc(n){if(!n.options.lineNumbers)return!1;var u=n.doc,r=fs(n.options,u.first+u.size-1),t=n.display;if(r.length!=t.lineNumChars){var f=t.measure.appendChild(i("div",[i("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=f.firstChild.offsetWidth,o=f.offsetWidth-e;return t.lineGutter.style.width="",t.lineNumInnerWidth=Math.max(e,t.lineGutter.offsetWidth-o),t.lineNumWidth=t.lineNumInnerWidth+o,t.lineNumChars=t.lineNumInnerWidth?r.length:-1,t.lineGutter.style.width=t.lineNumWidth+"px",ns(n),!0}return!1}function fs(n,t){return String(n.lineNumberFormatter(t+n.firstLineNumber))}function es(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function nl(n,t,i){var r=n.display;this.viewport=t;this.visible=rs(r,n.doc,t);this.editorIsHidden=!r.wrapper.offsetWidth;this.wrapperHeight=r.wrapper.clientHeight;this.wrapperWidth=r.wrapper.clientWidth;this.oldViewFrom=r.viewFrom;this.oldViewTo=r.viewTo;this.oldScrollerWidth=r.scroller.clientWidth;this.force=i;this.dims=ls(n)}function os(n,t){var i=n.display,o=n.doc,h,s,e;if(t.editorIsHidden)return oi(n),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&sa(n)==0)return!1;gc(n)&&(oi(n),t.dims=ls(n));var c=o.first+o.size,u=Math.max(t.visible.from-n.options.viewportMargin,o.first),f=Math.min(c,t.visible.to+n.options.viewportMargin);return(i.viewFrom<u&&u-i.viewFrom<20&&(u=Math.max(o.first,i.viewFrom)),i.viewTo>f&&i.viewTo-f<20&&(f=Math.min(c,i.viewTo)),fi&&(u=ah(n.doc,u),f=wv(n.doc,f)),h=u!=i.viewFrom||f!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth,eb(n,u,f),i.viewOffset=ii(r(n.doc,i.viewFrom)),n.display.mover.style.top=i.viewOffset+"px",s=sa(n),!h&&s==0&&!t.force&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))?!1:(e=vi(),s>4&&(i.lineDiv.style.display="none"),tw(n,i.updateLineNumbers,t.dims),s>4&&(i.lineDiv.style.display=""),e&&vi()!=e&&e.offsetHeight&&e.focus(),or(i.cursorDiv),or(i.selectionDiv),h&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,hu(n,400)),i.updateLineNumbers=null,!0)}function tl(n,t){for(var r,u=t.force,i=t.viewport,f=!0;;f=!1){if(f&&n.options.lineWrapping&&t.oldScrollerWidth!=n.display.scroller.clientWidth)u=!0;else if(u=!1,i&&i.top!=null&&(i={top:Math.min(n.doc.height+ks(n.display)-wt-n.display.scroller.clientHeight,i.top)}),t.visible=rs(n.display,n.doc,i),t.visible.from>=n.display.viewFrom&&t.visible.to<=n.display.viewTo)break;if(!os(n,t))break;cs(n);r=te(n);su(n);hs(n,r);pi(n,r)}d(n,"update",n);(n.display.viewFrom!=t.oldViewFrom||n.display.viewTo!=t.oldViewTo)&&d(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo)}function ss(n,t){var r=new nl(n,t),i;os(n,r)&&(cs(n),tl(n,r),i=te(n),su(n),hs(n,i),pi(n,i))}function hs(n,t){n.display.sizer.style.minHeight=n.display.heightForcer.style.top=t.docHeight+"px";n.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-wt)+"px"}function nw(n,t){n.display.sizer.offsetWidth+n.display.gutters.offsetWidth<n.display.scroller.clientWidth-1&&(n.display.sizer.style.minHeight=n.display.heightForcer.style.top="0px",n.display.gutters.style.height=t.docHeight+"px")}function cs(n){for(var t,i,e,o,c,u,r=n.display,l=r.lineDiv.offsetTop,f=0;f<r.view.length;f++)if((t=r.view[f],!t.hidden)&&(s&&h<8?(e=t.node.offsetTop+t.node.offsetHeight,i=e-l,l=e):(o=t.node.getBoundingClientRect(),i=o.bottom-o.top),c=t.line.height-i,i<2&&(i=ki(r)),(c>.001||c<-.001)&&(yt(t.line,i),il(t.line),t.rest)))for(u=0;u<t.rest.length;u++)il(t.rest[u])}function il(n){if(n.widgets)for(var t=0;t<n.widgets.length;++t)n.widgets[t].height=n.widgets[t].node.offsetHeight}function ls(n){for(var i=n.display,u={},f={},e=i.gutters.clientLeft,t=i.gutters.firstChild,r=0;t;t=t.nextSibling,++r)u[n.options.gutters[r]]=t.offsetLeft+t.clientLeft+e,f[n.options.gutters[r]]=t.clientWidth;return{fixedPos:es(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:u,gutterWidth:f,wrapperWidth:i.wrapper.clientWidth}}function tw(n,t,i){function c(t){var i=t.nextSibling;return v&&ot&&n.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var r,a,s,e=n.display,y=n.options.lineNumbers,h=e.lineDiv,u=h.firstChild,l=e.view,f=e.viewFrom,o=0;o<l.length;o++){if(r=l[o],!r.hidden)if(r.node){while(u!=r.node)u=c(u);s=y&&t!=null&&t<=f&&r.lineNumber;r.changes&&(b(r.changes,"gutter")>-1&&(s=!1),rl(n,r,f,i));s&&(or(r.lineNumber),r.lineNumber.appendChild(document.createTextNode(fs(n.options,f))));u=r.node.nextSibling}else a=fw(n,r,f,i),h.insertBefore(a,u);f+=r.size}while(u)u=c(u)}function rl(n,t,i,r){for(var u,f=0;f<t.changes.length;f++)u=t.changes[f],u=="text"?rw(n,t):u=="gutter"?fl(n,t,i,r):u=="class"?as(t):u=="widget"&&uw(t,r);t.changes=null}function ie(n){return n.node==n.text&&(n.node=i("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),s&&h<8&&(n.node.style.zIndex=2)),n.node}function iw(n){var t=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass,r;t&&(t+=" CodeMirror-linebackground");n.background?t?n.background.className=t:(n.background.parentNode.removeChild(n.background),n.background=null):t&&(r=ie(n),n.background=r.insertBefore(i("div",null,t),r.firstChild))}function ul(n,t){var i=n.display.externalMeasured;return i&&i.line==t.line?(n.display.externalMeasured=null,t.measure=i.measure,i.built):ey(n,t)}function rw(n,t){var r=t.text.className,i=ul(n,t);t.text==t.node&&(t.node=i.pre);t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,as(t)):r&&(t.text.className=r)}function as(n){iw(n);n.line.wrapClass?ie(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var t=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=t||""}function fl(n,t,r,u){var f,c,o,s,e,h;if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),f=t.line.gutterMarkers,(n.options.lineNumbers||f)&&(c=ie(t),o=t.gutter=c.insertBefore(i("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px; width: "+u.gutterTotalWidth+"px"),t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!n.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(i("div",fs(n.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+u.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),f))for(s=0;s<n.options.gutters.length;++s)e=n.options.gutters[s],h=f.hasOwnProperty(e)&&f[e],h&&o.appendChild(i("div",[h],"CodeMirror-gutter-elt","left: "+u.gutterLeft[e]+"px; width: "+u.gutterWidth[e]+"px"))}function uw(n,t){var i,r;for(n.alignable&&(n.alignable=null),i=n.node.firstChild;i;i=r)r=i.nextSibling,i.className=="CodeMirror-linewidget"&&n.node.removeChild(i);el(n,t)}function fw(n,t,i,r){var u=ul(n,t);return t.text=t.node=u.pre,u.bgClass&&(t.bgClass=u.bgClass),u.textClass&&(t.textClass=u.textClass),as(t),fl(n,t,i,r),el(t,r),t.node}function el(n,t){if(ol(n.line,n,t,!0),n.rest)for(var i=0;i<n.rest.length;i++)ol(n.rest[i],n,t,!1)}function ol(n,t,r,u){var s,o,h,f,e;if(n.widgets)for(s=ie(t),o=0,h=n.widgets;o<h.length;++o)f=h[o],e=i("div",[f.node],"CodeMirror-linewidget"),f.handleMouseEvents||(e.ignoreEvents=!0),ew(f,e,t,r),u&&f.above?s.insertBefore(e,t.gutter||t.text):s.appendChild(e),d(f,"redraw")}function ew(n,t,i,r){if(n.noHScroll){(i.alignable||(i.alignable=[])).push(t);var u=r.wrapperWidth;t.style.left=r.fixedPos+"px";n.coverGutter||(u-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px");t.style.width=u+"px"}n.coverGutter&&(t.style.zIndex=5,t.style.position="relative",n.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function vs(n){return t(n.line,n.ch)}function ys(n,t){return o(n,t)<0?t:n}function ps(n,t){return o(n,t)<0?n:t}function kt(n,t){this.ranges=n;this.primIndex=t}function c(n,t){this.anchor=n;this.head=t}function at(n,t){var h=n[t],i,u,r;for(n.sort(function(n,t){return o(n.from(),t.from())}),t=b(n,h),i=1;i<n.length;i++)if(u=n[i],r=n[i-1],o(r.to(),u.from())>=0){var f=ps(r.from(),u.from()),e=ys(r.to(),u.to()),s=r.empty()?u.from()==u.head:r.from()==r.head;i<=t&&--t;n.splice(--i,2,new c(s?e:f,s?f:e))}return new kt(n,t)}function wi(n,t){return new kt([new c(n,t||n)],0)}function sl(n,t){return Math.max(n.first,Math.min(t,n.first+n.size-1))}function u(n,i){if(i.line<n.first)return t(n.first,0);var u=n.first+n.size-1;return i.line>u?t(u,r(n,u).text.length):ow(i,r(n,i.line).text.length)}function ow(n,i){var r=n.ch;return r==null||r>i?t(n.line,i):r<0?t(n.line,0):n}function eu(n,t){return t>=n.first&&t<n.first+n.size}function sw(n,t){for(var r=[],i=0;i<t.length;i++)r[i]=u(n,t[i]);return r}function ou(n,t,i,r){var u,f;return n.cm&&n.cm.display.shift||n.extend?(u=t.anchor,r&&(f=o(i,u)<0,f!=o(r,u)<0?(u=i,i=r):f!=o(i,r)<0&&(i=r)),new c(u,i)):new c(r||i,i)}function re(n,t,i,r){g(n,new kt([ou(n,n.sel.primary(),t,i)],0),r)}function hl(n,t,i){for(var f,u=[],r=0;r<n.sel.ranges.length;r++)u[r]=ou(n,n.sel.ranges[r],t[r],null);f=at(u,n.sel.primIndex);g(n,f,i)}function ws(n,t,i,r){var u=n.sel.ranges.slice(0);u[t]=i;g(n,at(u,n.sel.primIndex),r)}function cl(n,t,i,r){g(n,wi(t,i),r)}function hw(n,t){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new c(u(n,t[i].anchor),u(n,t[i].head))}};return p(n,"beforeSelectionChange",n,i),n.cm&&p(n.cm,"beforeSelectionChange",n.cm,i),i.ranges!=t.ranges?at(i.ranges,i.ranges.length-1):t}function ll(n,t,i){var r=n.history.done,u=l(r);u&&u.ranges?(r[r.length-1]=t,ue(n,t,i)):g(n,t,i)}function g(n,t,i){ue(n,t,i);rd(n,n.sel,n.cm?n.cm.curOp.id:NaN,i)}function ue(n,t,i){(ct(n,"beforeSelectionChange")||n.cm&&ct(n.cm,"beforeSelectionChange"))&&(t=hw(n,t));var r=i&&i.bias||(o(t.primary().head,n.sel.primary().head)<0?-1:1);al(n,yl(n,t,r,!0));i&&i.scroll===!1||!n.cm||ar(n.cm)}function al(n,t){t.equals(n.sel)||(n.sel=t,n.cm&&(n.cm.curOp.updateInput=n.cm.curOp.selectionChanged=!0,gy(n.cm)),d(n,"cursorActivity",n))}function vl(n){al(n,yl(n,n.sel,null,!1),ai)}function yl(n,t,i,r){for(var u,f=0;f<t.ranges.length;f++){var e=t.ranges[f],o=fe(n,e.anchor,i,r),s=fe(n,e.head,i,r);(u||o!=e.anchor||s!=e.head)&&(u||(u=t.ranges.slice(0,f)),u[f]=new c(o,s))}return u?at(u,t.primIndex):t}function fe(n,i,f,e){var w=!1,h=i,y=f||1,a,v,c,l,s;n.cantEdit=!1;n:for(;;){if(a=r(n,h.line),a.markedSpans)for(v=0;v<a.markedSpans.length;++v)if(c=a.markedSpans[v],l=c.marker,(c.from==null||(l.inclusiveLeft?c.from<=h.ch:c.from<h.ch))&&(c.to==null||(l.inclusiveRight?c.to>=h.ch:c.to>h.ch))){if(e&&(p(l,"beforeCursorEnter"),l.explicitlyCleared))if(a.markedSpans){--v;continue}else break;if(!l.atomic)continue;if(s=l.find(y<0?-1:1),o(s,h)==0&&(s.ch+=y,s.ch<0?s=s.line>n.first?u(n,t(s.line-1)):null:s.ch>a.text.length&&(s=s.line<n.first+n.size-1?t(s.line+1,0):null),!s)){if(w)return e?(n.cantEdit=!0,t(n.first,0)):fe(n,i,f,!0);w=!0;s=i;y=-y}h=s;continue n}return h}}function pl(n){for(var r,e,i=n.display,u=n.doc,t={},c=t.cursors=document.createDocumentFragment(),l=t.selection=document.createDocumentFragment(),f=0;f<u.sel.ranges.length;f++)r=u.sel.ranges[f],e=r.empty(),(e||n.options.showCursorWhenSelecting)&&cw(n,r,c),e||lw(n,r,l);if(n.options.moveInputWithCursor){var o=dt(n,u.sel.primary().head,"div"),s=i.wrapper.getBoundingClientRect(),h=i.lineDiv.getBoundingClientRect();t.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,o.top+h.top-s.top));t.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,o.left+h.left-s.left))}return t}function wl(n,t){lt(n.display.cursorDiv,t.cursors);lt(n.display.selectionDiv,t.selection);t.teTop!=null&&(n.display.inputDiv.style.top=t.teTop+"px",n.display.inputDiv.style.left=t.teLeft+"px")}function su(n){wl(n,pl(n))}function cw(n,t,r){var u=dt(n,t.head,"div",null,null,!n.options.singleCursorHeightPerLine),e=r.appendChild(i("div"," ","CodeMirror-cursor")),f;e.style.left=u.left+"px";e.style.top=u.top+"px";e.style.height=Math.max(0,u.bottom-u.top)*n.options.cursorHeight+"px";u.other&&(f=r.appendChild(i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),f.style.display="",f.style.left=u.other.left+"px",f.style.top=u.other.top+"px",f.style.height=(u.other.bottom-u.other.top)*.85+"px")}function lw(n,u,f){function o(n,t,r,u){t<0&&(t=0);t=Math.round(t);u=Math.round(u);p.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+n+"px; top: "+t+"px; width: "+(r==null?b-n:r)+"px; height: "+(u-t)+"px"))}function v(i,u,f){function v(r,u){return nh(n,t(i,r),"div",c,u)}var c=r(a,i),l=c.text.length,e,s;return pd(pt(c),u||0,f==null?l:f,function(n,t,i){var r=v(n,"left"),c,a,y,p;n==t?(c=r,a=y=r.left):(c=v(t-1,"right"),i=="rtl"&&(p=r,r=c,c=p),a=r.left,y=c.right);u==null&&n==0&&(a=h);c.top-r.top>3&&(o(a,r.top,null,r.bottom),a=h,r.bottom<c.top&&o(a,r.bottom,null,c.top));f==null&&t==l&&(y=b);(!e||r.top<e.top||r.top==e.top&&r.left<e.left)&&(e=r);(!s||c.bottom>s.bottom||c.bottom==s.bottom&&c.right>s.right)&&(s=c);a<h+1&&(a=h);o(a,c.top,y-a,c.bottom)}),{start:e,end:s}}var d=n.display,a=n.doc,p=document.createDocumentFragment(),w=bl(n.display),h=w.left,b=d.lineSpace.offsetWidth-w.right,c=u.from(),l=u.to();if(c.line==l.line)v(c.line,c.ch,l.ch);else{var k=r(a,c.line),g=r(a,l.line),y=vt(k)==vt(g),e=v(c.line,c.ch,y?k.text.length+1:null).end,s=v(l.line,y?0:null,l.ch).start;y&&(e.top<s.top-2?(o(e.right,e.top,null,e.bottom),o(h,s.top,s.left,s.bottom)):o(e.right,e.top,s.left-e.right,e.bottom));e.bottom<s.top&&o(h,e.bottom,null,s.top)}f.appendChild(p)}function bs(n){var t,i;n.state.focused&&(t=n.display,clearInterval(t.blinker),i=!0,t.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function hu(n,t){n.doc.mode.startState&&n.doc.frontier<n.display.viewTo&&n.state.highlight.set(t,bt(aw,n))}function aw(n){var t=n.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=n.display.viewTo)){var u=+new Date+n.options.workTime,i=rr(t.mode,cu(n,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,n.display.viewTo+500),function(f){var s,l,o,e,c,h;if(t.frontier>=n.display.viewFrom){for(s=f.styles,l=ty(n,f,i,!0),f.styles=l.styles,o=f.styleClasses,e=l.classes,e?f.styleClasses=e:o&&(f.styleClasses=null),c=!s||s.length!=f.styles.length||o!=e&&(!o||!e||o.bgClass!=e.bgClass||o.textClass!=e.textClass),h=0;!c&&h<s.length;++h)c=s[h]!=f.styles[h];c&&r.push(t.frontier);f.stateAfter=rr(t.mode,i)}else ph(n,f.text,i),f.stateAfter=t.frontier%5==0?rr(t.mode,i):null;return++t.frontier,+new Date>u?(hu(n,n.options.workDelay),!0):void 0});r.length&&ei(n,function(){for(var t=0;t<r.length;t++)gt(n,r[t],"text")})}}function vw(n,t,i){for(var o,s,h,e,f=n.doc,c=i?-1:t-(n.doc.mode.innerMode?1e3:100),u=t;u>c;--u){if(u<=f.first)return f.first;if(o=r(f,u-1),o.stateAfter&&(!i||u<=f.frontier))return u;s=ft(o.text,null,n.options.tabSize);(e==null||h>s)&&(e=u-1,h=s)}return e}function cu(n,t,i){var f=n.doc,o=n.display,u,e;return f.mode.startState?(u=vw(n,t,i),e=u>f.first&&r(f,u-1).stateAfter,e=e?rr(f.mode,e):fv(f.mode),f.iter(u,t,function(i){ph(n,i.text,e);var r=u==t-1||u%5==0||u>=o.viewFrom&&u<o.viewTo;i.stateAfter=r?rr(f.mode,e):null;++u}),i&&(f.frontier=u),e):!0}function ee(n){return n.lineSpace.offsetTop}function ks(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function bl(n){if(n.cachedPaddingH)return n.cachedPaddingH;var r=lt(n.measure,i("pre","x")),u=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,t={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return isNaN(t.left)||isNaN(t.right)||(n.cachedPaddingH=t),t}function yw(n,t,i){var f=n.options.lineWrapping,h=f&&n.display.scroller.clientWidth,e,u,r,o,s;if(!t.measure.heights||f&&t.measure.width!=h){if(e=t.measure.heights=[],f)for(t.measure.width=h,u=t.text.firstChild.getClientRects(),r=0;r<u.length-1;r++)o=u[r],s=u[r+1],Math.abs(o.bottom-s.bottom)>2&&e.push((o.bottom+s.top)/2-i.top);e.push(i.bottom-i.top)}}function pw(n,t,i){var r;if(n.line==t)return{map:n.measure.map,cache:n.measure.cache};for(r=0;r<n.rest.length;r++)if(n.rest[r]==t)return{map:n.measure.maps[r],cache:n.measure.caches[r]};for(r=0;r<n.rest.length;r++)if(a(n.rest[r])>i)return{map:n.measure.maps[r],cache:n.measure.caches[r],before:!0}}function ww(n,t){var r,i,u;return t=vt(t),r=a(t),i=n.display.externalMeasured=new oa(n.doc,t,r),i.lineN=r,u=i.built=ey(n,i),i.text=u.pre,lt(n.display.lineMeasure,u.pre),i}function kl(n,t,i,r){return gl(n,ds(n,t),i,r)}function dl(n,t){if(t>=n.display.viewFrom&&t<n.display.viewTo)return n.display.view[vu(n,t)];var i=n.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size)return i}function ds(n,t){var u=a(t),i=dl(n,u),r;return i&&!i.text?i=null:i&&i.changes&&rl(n,i,u,ls(n)),i||(i=ww(n,t)),r=pw(i,t,u),{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function gl(n,t,i,r,u){t.before&&(i=-1);var e=i+(r||""),f;return t.cache.hasOwnProperty(e)?f=t.cache[e]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(yw(n,t.view,t.rect),t.hasHeights=!0),f=bw(n,t,i,r),f.bogus||(t.cache[e]=f)),{left:f.left,right:f.right,top:u?f.rtop:f.top,bottom:u?f.rbottom:f.bottom}}function bw(n,t,i,r){for(var a,y,f,p,w,o=t.map,c,e,l,v,u=0;u<o.length;u+=3)if(a=o[u],y=o[u+1],i<a?(e=0,l=1,v="left"):i<y?(e=i-a,l=e+1):(u==o.length-3||i==y&&o[u+3]>i)&&(l=y-a,e=l-1,i>=y&&(v="right")),e!=null){if(c=o[u+2],a==y&&r==(c.insertLeft?"left":"right")&&(v=r),r=="left"&&e==0)while(u&&o[u-2]==o[u-3]&&o[u-1].insertLeft)c=o[(u-=3)+2],v="left";if(r=="right"&&e==y-a)while(u<o.length-3&&o[u+3]==o[u+4]&&!o[u+5].insertLeft)c=o[(u+=3)+2],v="right";break}if(c.nodeType==3){for(u=0;u<4;u++){while(e&&pf(t.line.text.charAt(a+e)))--e;while(a+l<y&&pf(t.line.text.charAt(a+l)))++l;if(s&&h<9&&e==0&&l==y-a?f=c.parentNode.getBoundingClientRect():s&&n.options.lineWrapping?(p=tu(c,e,l).getClientRects(),f=p.length?p[r=="right"?p.length-1:0]:oe):f=tu(c,e,l).getBoundingClientRect()||oe,f.left||f.right||e==0)break;l=e;e=e-1;v="right"}s&&h<11&&(f=kw(n.display.measure,f))}else e>0&&(v=r="right"),f=n.options.lineWrapping&&(p=c.getClientRects()).length>1?p[r=="right"?p.length-1:0]:c.getBoundingClientRect();s&&h<9&&!e&&(!f||!f.left&&!f.right)&&(w=c.parentNode.getClientRects()[0],f=w?{left:w.left,right:w.left+au(n.display),top:w.top,bottom:w.bottom}:oe);var d=f.top-t.rect.top,g=f.bottom-t.rect.top,nt=(d+g)/2,b=t.view.measure.heights;for(u=0;u<b.length-1;u++)if(nt<b[u])break;var tt=u?b[u-1]:0,it=b[u],k={left:(v=="right"?f.right:f.left)-t.rect.left,right:(v=="left"?f.left:f.right)-t.rect.left,top:tt,bottom:it};return f.left||f.right||(k.bogus=!0),n.options.singleCursorHeightPerLine||(k.rtop=d,k.rbottom=g),k}function kw(n,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!yd(n))return t;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*r,bottom:t.bottom*r}}function na(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var t=0;t<n.rest.length;t++)n.measure.caches[t]={}}function ta(n){n.display.externalMeasure=null;or(n.display.lineMeasure);for(var t=0;t<n.display.view.length;t++)na(n.display.view[t])}function lu(n){ta(n);n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null;n.options.lineWrapping||(n.display.maxLineChanged=!0);n.display.lineNumChars=null}function ia(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ra(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function gs(n,t,i,r){var f,e,u,o,s;if(t.widgets)for(f=0;f<t.widgets.length;++f)t.widgets[f].above&&(e=ef(t.widgets[f]),i.top+=e,i.bottom+=e);return r=="line"?i:(r||(r="local"),u=ii(t),r=="local"?u+=ee(n.display):u-=n.display.viewOffset,(r=="page"||r=="window")&&(o=n.display.lineSpace.getBoundingClientRect(),u+=o.top+(r=="window"?0:ra()),s=o.left+(r=="window"?0:ia()),i.left+=s,i.right+=s),i.top+=u,i.bottom+=u,i)}function ua(n,t,i){var r,u,f,e;return i=="div"?t:(r=t.left,u=t.top,i=="page"?(r-=ia(),u-=ra()):i!="local"&&i||(f=n.display.sizer.getBoundingClientRect(),r+=f.left,u+=f.top),e=n.display.lineSpace.getBoundingClientRect(),{left:r-e.left,top:u-e.top})}function nh(n,t,i,u,f){return u||(u=r(n.doc,t.line)),gs(n,u,kl(n,u,t.ch,f),i)}function dt(n,t,i,u,f,e){function h(t,r){var o=gl(n,f,t,r?"right":"left",e);return r?o.left=o.right:o.right=o.left,gs(n,u,o,i)}function l(n,t){var i=o[t],r=i.level%2;return(n==ec(i)&&t&&i.level<o[t-1].level?(i=o[--t],n=oc(i)-(i.level%2?0:1),r=!0):n==oc(i)&&t<o.length-1&&i.level<o[t+1].level&&(i=o[++t],n=ec(i)-i.level%2,r=!1),r&&n==i.to&&n>i.from)?h(n-1):h(n,r)}var o,s,a,c;return(u=u||r(n.doc,t.line),f||(f=ds(n,u)),o=pt(u),s=t.ch,!o)?h(s):(a=sc(o,s),c=l(s,a),gf!=null&&(c.other=l(s,gf)),c)}function fa(n,t){var i=0,t=u(n.doc,t),f,e;return n.options.lineWrapping||(i=au(n.display)*t.ch),f=r(n.doc,t.line),e=ii(f)+ee(n.display),{left:i,right:i,top:e,bottom:e+f.height}}function se(n,i,r,u){var f=t(n,i);return f.xRel=u,r&&(f.outside=!0),f}function th(n,t,i){var u=n.doc,f,s,e;if(i+=n.display.viewOffset,i<0)return se(u.first,0,!0,-1);if(f=er(u,i),s=u.first+u.size-1,f>s)return se(u.first+u.size-1,r(u,s).text.length,!0,1);for(t<0&&(t=0),e=r(u,f);;){var o=dw(n,e,f,t,i),h=uf(e),c=h&&h.find(0,!0);if(h&&(o.ch>c.from.ch||o.ch==c.from.ch&&o.xRel>0))f=a(e=c.to.line);else return o}}function dw(n,i,r,u,f){function p(u){var f=dt(n,t(r,u),"line",i,rt);return(h=!0,g>f.bottom)?f.left-nt:g<f.top?f.left+nt:(h=!1,f.left)}var g=f-ii(i),h=!1,nt=2*n.display.wrapper.clientWidth,rt=ds(n,i),tt=pt(i),w=i.text.length,e=vo(i),o=yo(i),v=p(e),it=h,l=p(o),b=h,c,k,a,s,d,y;if(u>l)return se(r,o,b,1);for(;;){if(tt?o==e||o==cc(i,e,1):o-e<=1){for(c=u<v||u-v<=l-u?e:o,k=u-(c==e?v:l);pf(i.text.charAt(c));)++c;return se(r,c,c==e?it:b,k<-1?-1:k>1?1:0)}if(a=Math.ceil(w/2),s=e+a,tt)for(s=e,d=0;d<a;++d)s=cc(i,s,1);y=p(s);y>u?(o=s,l=y,(b=h)&&(l+=1e3),w=a):(e=s,v=y,it=h,w-=a)}}function ki(n){var r,t;if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(bi==null){for(bi=i("pre"),r=0;r<49;++r)bi.appendChild(document.createTextNode("x")),bi.appendChild(i("br"));bi.appendChild(document.createTextNode("x"))}return lt(n.measure,bi),t=bi.offsetHeight/50,t>3&&(n.cachedTextHeight=t),or(n.measure),t||1}function au(n){var r,f,u,t;return n.cachedCharWidth!=null?n.cachedCharWidth:(r=i("span","xxxxxxxxxx"),f=i("pre",[r]),lt(n.measure,f),u=r.getBoundingClientRect(),t=(u.right-u.left)/10,t>2&&(n.cachedCharWidth=t),t||10)}function gi(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++ea};di?di.ops.push(n.curOp):n.curOp.ownsGroup=di={ops:[n.curOp],delayedCallbacks:[]}}function gw(n){var u=n.delayedCallbacks,i=0,r,t;do{for(;i<u.length;i++)u[i]();for(r=0;r<n.ops.length;r++)if(t=n.ops[r],t.cursorActivityHandlers)while(t.cursorActivityCalled<t.cursorActivityHandlers.length)t.cursorActivityHandlers[t.cursorActivityCalled++](t.cm)}while(i<u.length)}function nr(n){var r=n.curOp,t=r.ownsGroup,i;if(t)try{gw(t)}finally{for(di=null,i=0;i<t.ops.length;i++)t.ops[i].cm.curOp=null;nb(t)}}function nb(n){for(var i=n.ops,t=0;t<i.length;t++)tb(i[t]);for(t=0;t<i.length;t++)ib(i[t]);for(t=0;t<i.length;t++)rb(i[t]);for(t=0;t<i.length;t++)ub(i[t]);for(t=0;t<i.length;t++)fb(i[t])}function tb(n){var t=n.cm,i=t.display;n.updateMaxLine&&ts(t);n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<i.viewFrom||n.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping;n.update=n.mustUpdate&&new nl(t,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function ib(n){n.updatedDisplay=n.mustUpdate&&os(n.cm,n.update)}function rb(n){var t=n.cm,i=t.display;n.updatedDisplay&&cs(t);n.barMeasure=te(t);i.maxLineChanged&&!t.options.lineWrapping&&(n.adjustWidthTo=kl(t,i.maxLine,i.maxLine.text.length).left+3,n.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+n.adjustWidthTo+wt-i.scroller.clientWidth));(n.updatedDisplay||n.selectionChanged)&&(n.newSelectionNodes=pl(t))}function ub(n){var t=n.cm;n.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<t.doc.scrollLeft&&cr(t,Math.min(t.display.scroller.scrollLeft,n.maxScrollLeft),!0),t.display.maxLineChanged=!1);n.newSelectionNodes&&wl(t,n.newSelectionNodes);n.updatedDisplay&&hs(t,n.barMeasure);(n.updatedDisplay||n.startHeight!=t.doc.height)&&pi(t,n.barMeasure);n.selectionChanged&&bs(t);t.state.focused&&n.updateInput&&st(t,n.typing)}function fb(n){var t=n.cm,i=t.display,f=t.doc,s,h,c,e,o,r;if(n.adjustWidthTo!=null&&Math.abs(n.barMeasure.scrollWidth-t.display.scroller.scrollWidth)>1&&pi(t),n.updatedDisplay&&tl(t,n.update),i.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),n.scrollTop!=null&&(i.scroller.scrollTop!=n.scrollTop||n.forceScroll)&&(s=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,n.scrollTop)),i.scroller.scrollTop=i.scrollbarV.scrollTop=f.scrollTop=s),n.scrollLeft!=null&&(i.scroller.scrollLeft!=n.scrollLeft||n.forceScroll)&&(h=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,n.scrollLeft)),i.scroller.scrollLeft=i.scrollbarH.scrollLeft=f.scrollLeft=h,us(t)),n.scrollToPos&&(c=nk(t,u(f,n.scrollToPos.from),u(f,n.scrollToPos.to),n.scrollToPos.margin),n.scrollToPos.isCursor&&t.state.focused&&gb(t,c)),e=n.maybeHiddenMarkers,o=n.maybeUnhiddenMarkers,e)for(r=0;r<e.length;++r)e[r].lines.length||p(e[r],"hide");if(o)for(r=0;r<o.length;++r)o[r].lines.length&&p(o[r],"unhide");i.wrapper.offsetHeight&&(f.scrollTop=t.display.scroller.scrollTop);n.updatedDisplay&&v&&(t.options.lineWrapping&&nw(t,n.barMeasure),n.barMeasure.scrollWidth>n.barMeasure.clientWidth&&n.barMeasure.scrollWidth<n.barMeasure.clientWidth+1&&!dc(t)&&pi(t));n.changeObjs&&p(t,"changes",t,n.changeObjs)}function ei(n,t){if(n.curOp)return t();gi(n);try{return t()}finally{nr(n)}}function y(n,t){return function(){if(n.curOp)return t.apply(n,arguments);gi(n);try{return t.apply(n,arguments)}finally{nr(n)}}}function w(n){return function(){if(this.curOp)return n.apply(this,arguments);gi(this);try{return n.apply(this,arguments)}finally{nr(this)}}}function nt(n){return function(){var t=this.cm;if(!t||t.curOp)return n.apply(this,arguments);gi(t);try{return n.apply(this,arguments)}finally{nr(t)}}}function oa(n,t,i){this.line=t;this.rest=vk(t);this.size=this.rest?a(l(this.rest))-i+1:1;this.node=this.text=null;this.hidden=ur(n,t)}function he(n,t,i){for(var f,e=[],o,u=t;u<i;u=o)f=new oa(n.doc,r(n.doc,u),u),o=u+f.size,e.push(f);return e}function rt(n,t,i,r){var u,f,o,s,e;t==null&&(t=n.doc.first);i==null&&(i=n.doc.first+n.doc.size);r||(r=0);u=n.display;r&&i<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>t)&&(u.updateLineNumbers=t);n.curOp.viewChanged=!0;t>=u.viewTo?fi&&ah(n.doc,t)<u.viewTo&&oi(n):i<=u.viewFrom?fi&&wv(n.doc,i+r)>u.viewFrom?oi(n):(u.viewFrom+=r,u.viewTo+=r):t<=u.viewFrom&&i>=u.viewTo?oi(n):t<=u.viewFrom?(f=ce(n,i,i+r,1),f?(u.view=u.view.slice(f.index),u.viewFrom=f.lineN,u.viewTo+=r):oi(n)):i>=u.viewTo?(f=ce(n,t,t,-1),f?(u.view=u.view.slice(0,f.index),u.viewTo=f.lineN):oi(n)):(o=ce(n,t,t,-1),s=ce(n,i,i+r,1),o&&s?(u.view=u.view.slice(0,o.index).concat(he(n,o.lineN,s.lineN)).concat(u.view.slice(s.index)),u.viewTo+=r):oi(n));e=u.externalMeasured;e&&(i<e.lineN?e.lineN+=r:t<e.lineN+e.size&&(u.externalMeasured=null))}function gt(n,t,i){var r,u,f,e;(n.curOp.viewChanged=!0,r=n.display,u=n.display.externalMeasured,u&&t>=u.lineN&&t<u.lineN+u.size&&(r.externalMeasured=null),t<r.viewFrom||t>=r.viewTo)||(f=r.view[vu(n,t)],f.node!=null)&&(e=f.changes||(f.changes=[]),b(e,i)==-1&&e.push(i))}function oi(n){n.display.viewFrom=n.display.viewTo=n.doc.first;n.display.view=[];n.display.viewOffset=0}function vu(n,t){var r,i;if(t>=n.display.viewTo||(t-=n.display.viewFrom,t<0))return null;for(r=n.display.view,i=0;i<r.length;i++)if(t-=r[i].size,t<0)return i}function ce(n,t,i,r){var u=vu(n,t),o,f=n.display.view,s,e;if(!fi||i==n.doc.first+n.doc.size)return{index:u,lineN:i};for(s=0,e=n.display.viewFrom;s<u;s++)e+=f[s].size;if(e!=t){if(r>0){if(u==f.length-1)return null;o=e+f[u].size-t;u++}else o=e-t;t+=o;i+=o}while(ah(n.doc,i)!=i){if(u==(r<0?0:f.length-1))return null;i+=r*f[u-(r<0?1:0)].size;u+=r}return{index:u,lineN:i}}function eb(n,t,i){var r=n.display,u=r.view;u.length==0||t>=r.viewTo||i<=r.viewFrom?(r.view=he(n,t,i),r.viewFrom=t):(r.viewFrom>t?r.view=he(n,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(vu(n,t))),r.viewFrom=t,r.viewTo<i?r.view=r.view.concat(he(n,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,vu(n,i))));r.viewTo=i}function sa(n){for(var t,r=n.display.view,u=0,i=0;i<r.length;i++)t=r[i],t.hidden||t.node&&!t.changes||++u;return u}function le(n){n.display.pollingFast||n.display.poll.set(n.options.pollInterval,function(){ih(n);n.state.focused&&le(n)})}function yu(n){function i(){var r=ih(n);r||t?(n.display.pollingFast=!1,le(n)):(t=!0,n.display.poll.set(60,i))}var t=!1;n.display.pollingFast=!0;n.display.poll.set(20,i)}function ih(n){var c=n.display.input,f=n.display.prevInput,u=n.doc,i,it,e,rt,o,ut,nt,v,w,tt;if(!n.state.focused||vd(c)&&!f||ae(n)||n.options.disableInput||n.state.keySeq||(n.state.pasteIncoming&&n.state.fakedLastChar&&(c.value=c.value.substring(0,c.value.length-1),n.state.fakedLastChar=!1),i=c.value,i==f&&!n.somethingSelected()))return!1;if(s&&h>=9&&n.display.inputHasSelection===i||ot&&/[\uf700-\uf7ff]/.test(i))return st(n),!1;for(it=!n.curOp,it&&gi(n),n.display.shift=!1,i.charCodeAt(0)!=8203||u.sel!=n.display.selForContextMenu||f||(f="​"),e=0,rt=Math.min(f.length,i.length);e<rt&&f.charCodeAt(e)==i.charCodeAt(e);)++e;var b=i.slice(e),k=sr(b),y=null;for(n.state.pasteIncoming&&u.sel.ranges.length>1&&(si&&si.join("\n")==b?y=u.sel.ranges.length%si.length==0&&gr(si,sr):k.length==u.sel.ranges.length&&(y=gr(k,function(n){return[n]}))),o=u.sel.ranges.length-1;o>=0;o--){var a=u.sel.ranges[o],g=a.from(),p=a.to();if(e<f.length?g=t(g.line,g.ch-(f.length-e)):n.state.overwrite&&a.empty()&&!n.state.pasteIncoming&&(p=t(p.line,Math.min(r(u,p.line).text.length,p.ch+l(k).length))),ut=n.curOp.updateInput,nt={from:g,to:p,text:y?y[o%y.length]:k,origin:n.state.pasteIncoming?"paste":n.state.cutIncoming?"cut":"+input"},lr(n.doc,nt),d(n,"inputRead",n,nt),b&&!n.state.pasteIncoming&&n.options.electricChars&&n.options.smartIndent&&a.head.ch<100&&(!o||u.sel.ranges[o-1].head.line!=a.head.line))if(v=n.getModeAt(a.head),w=ni(nt),v.electricChars){for(tt=0;tt<v.electricChars.length;tt++)if(b.indexOf(v.electricChars.charAt(tt))>-1){ku(n,w.line,"smart");break}}else v.electricInput&&v.electricInput.test(r(u,w.line).text.slice(0,w.ch))&&ku(n,w.line,"smart")}return ar(n),n.curOp.updateInput=ut,n.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?c.value=n.display.prevInput="":n.display.prevInput=i,it&&nr(n),n.state.pasteIncoming=n.state.cutIncoming=!1,!0}function st(n,t){var i,f,e=n.doc,r,u;n.somethingSelected()?(n.display.prevInput="",r=e.sel.primary(),i=hp&&(r.to().line-r.from().line>100||(f=n.getSelection()).length>1e3),u=i?"-":f||n.getSelection(),n.display.input.value=u,n.state.focused&&dr(n.display.input),s&&h>=9&&(n.display.inputHasSelection=u)):t||(n.display.prevInput=n.display.input.value="",s&&h>=9&&(n.display.inputHasSelection=null));n.display.inaccurateSelection=i}function it(n){n.options.readOnly=="nocursor"||wo&&vi()==n.display.input||n.display.input.focus()}function rh(n){n.state.focused||(it(n),fh(n))}function ae(n){return n.options.readOnly||n.doc.cantEdit}function ob(n){function r(){n.state.focused&&setTimeout(bt(it,n),0)}function u(t){ht(n,t)||co(t)}function f(r){var u,o,f,s,e;if(n.somethingSelected())si=n.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=si.join("\n"),dr(i.input));else{for(u=[],o=[],f=0;f<n.doc.sel.ranges.length;f++)s=n.doc.sel.ranges[f].head.line,e={anchor:t(s,0),head:t(s+1,0)},o.push(e),u.push(n.getRange(e.anchor,e.head));r.type=="cut"?n.setSelections(o,null,ai):(i.prevInput="",i.input.value=u.join("\n"),dr(i.input));si=u}r.type=="cut"&&(n.state.cutIncoming=!0)}var i=n.display;e(i.scroller,"mousedown",y(n,ha));s&&h<11?e(i.scroller,"dblclick",y(n,function(t){var i,r;ht(n,t)||(i=hr(n,t),!i||la(n,t)||tr(n.display,t))||(k(t),r=n.findWordAt(i),re(n.doc,r.anchor,r.head))})):e(i.scroller,"dblclick",function(t){ht(n,t)||k(t)});e(i.lineSpace,"selectstart",function(n){tr(i,n)||k(n)});bo||e(i.scroller,"contextmenu",function(t){ka(n,t)});e(i.scroller,"scroll",function(){i.scroller.clientHeight&&(pu(n,i.scroller.scrollTop),cr(n,i.scroller.scrollLeft,!0),p(n,"scroll",n))});e(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&pu(n,i.scrollbarV.scrollTop)});e(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&cr(n,i.scrollbarH.scrollLeft)});e(i.scroller,"mousewheel",function(t){aa(n,t)});e(i.scroller,"DOMMouseScroll",function(t){aa(n,t)});e(i.scrollbarH,"mousedown",r);e(i.scrollbarV,"mousedown",r);e(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0});e(i.input,"keyup",function(t){wa.call(n,t)});e(i.input,"input",function(){s&&h>=9&&n.display.inputHasSelection&&(n.display.inputHasSelection=null);yu(n)});e(i.input,"keydown",y(n,pa));e(i.input,"keypress",y(n,ba));e(i.input,"focus",bt(fh,n));e(i.input,"blur",bt(ke,n));n.options.dragDrop&&(e(i.scroller,"dragstart",function(t){vb(n,t)}),e(i.scroller,"dragenter",u),e(i.scroller,"dragover",u),e(i.scroller,"drop",y(n,ab)));e(i.scroller,"paste",function(t){tr(i,t)||(n.state.pasteIncoming=!0,it(n),yu(n))});e(i.input,"paste",function(){if(v&&!n.state.fakedLastChar&&!(new Date-n.state.lastMiddleDown<200)){var t=i.input.selectionStart,r=i.input.selectionEnd;i.input.value+="$";i.input.selectionEnd=r;i.input.selectionStart=t;n.state.fakedLastChar=!0}n.state.pasteIncoming=!0;yu(n)});e(i.input,"cut",f);e(i.input,"copy",f);po&&e(i.sizer,"mouseup",function(){vi()==i.input&&i.input.blur();it(n)})}function sb(n){var t=n.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,n.setSize())}function tr(n,t){for(var i=lf(t);i!=n.wrapper;i=i.parentNode)if(!i||i.ignoreEvents||i.parentNode==n.sizer&&i!=n.mover)return!0}function hr(n,i,u,f){var o=n.display,s,c,a,l,e,h,v;if(!u&&(s=lf(i),s==o.scrollbarH||s==o.scrollbarV||s==o.scrollbarFiller||s==o.gutterFiller))return null;l=o.lineSpace.getBoundingClientRect();try{c=i.clientX-l.left;a=i.clientY-l.top}catch(i){return null}return e=th(n,c,a),f&&e.xRel==1&&(h=r(n.doc,e.line).text).length==e.ch&&(v=ft(h,h.length,n.options.tabSize)-h.length,e=t(e.line,Math.max(0,Math.round((c-bl(n.display).left)/au(n.display))-v))),e}function ha(n){var t,i,r;if(!ht(this,n)){if(t=this,i=t.display,i.shift=n.shiftKey,tr(i,n)){v||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100));return}if(!la(t,n)){r=hr(t,n);window.focus();switch(dy(n)){case 1:r?hb(t,n,r):lf(n)==i.scroller&&k(n);break;case 2:v&&(t.state.lastMiddleDown=+new Date);r&&re(t.doc,r);setTimeout(bt(it,t),20);k(n);break;case 3:bo&&ka(t,n)}}}}function hb(n,t,i){var r,u,f,e;setTimeout(bt(rh,n),0);r=+new Date;ye&&ye.time>r-400&&o(ye.pos,i)==0?u="triple":ve&&ve.time>r-400&&o(ve.pos,i)==0?(u="double",ye={time:r,pos:i}):(u="single",ve={time:r,pos:i});f=n.doc.sel;e=ot?t.metaKey:t.ctrlKey;n.options.dragDrop&&sp&&!ae(n)&&u=="single"&&f.contains(i)>-1&&f.somethingSelected()?cb(n,t,i,e):lb(n,t,i,u,e)}function cb(n,t,i,r){var u=n.display,f=y(n,function(e){v&&(u.scroller.draggable=!1);n.state.draggingText=!1;ri(document,"mouseup",f);ri(u.scroller,"drop",f);Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(k(e),r||re(n.doc,i),it(n),s&&h==9&&setTimeout(function(){document.body.focus();it(n)},20))});v&&(u.scroller.draggable=!0);n.state.draggingText=f;u.scroller.dragDrop&&u.scroller.dragDrop();e(document,"mouseup",f);e(u.scroller,"drop",f)}function lb(n,i,f,s,h){function ht(i){var h,st,k,p,y,e;if(o(nt,i)!=0)if(nt=i,s=="rect"){var e=[],b=n.options.tabSize,rt=ft(r(l,f.line).text,f.ch,b),ut=ft(r(l,i.line).text,i.ch,b),et=Math.min(rt,ut),ot=Math.max(rt,ut);for(h=Math.min(f.line,i.line),st=Math.min(n.lastLine(),Math.max(f.line,i.line));h<=st;h++)k=r(l,h).text,p=tp(k,et,b),et==ot?e.push(new c(t(h,p),t(h,p))):k.length>p&&e.push(new c(t(h,p),t(h,tp(k,ot,b))));e.length||e.push(new c(f,f));g(l,at(w.ranges.slice(0,v).concat(e),v),{origin:"*mouse",scroll:!1});n.scrollIntoView(i)}else{var tt=a,d=tt.anchor,it=i;s!="single"&&(y=s=="double"?n.findWordAt(i):new c(t(i.line,0),u(l,t(i.line+1,0))),o(y.anchor,d)>0?(it=y.head,d=ps(tt.from(),y.anchor)):(it=y.anchor,d=ys(tt.to(),y.head)));e=w.ranges.slice(0);e[v]=new c(u(l,d),it);g(l,at(e,v),gh)}}function ut(t){var f=++p,i=hr(n,t,!0,s=="rect"),r,u;i&&(o(i,nt)!=0?(rh(n),ht(i),r=rs(tt,l),(i.line>=r.to||i.line<r.from)&&setTimeout(y(n,function(){p==f&&ut(t)}),150)):(u=t.clientY<rt.top?-20:t.clientY>rt.bottom?20:0,u&&setTimeout(y(n,function(){p==f&&(tt.scroller.scrollTop+=u,ut(t))}),50)))}function st(t){p=Infinity;k(t);it(n);ri(document,"mousemove",et);ri(document,"mouseup",ot);l.history.lastSelOrigin=null}var tt=n.display,l=n.doc,a,v,w,b,d,nt,rt,p,et,ot;k(i);w=l.sel;h&&!i.shiftKey?(v=l.sel.contains(f),a=v>-1?l.sel.ranges[v]:new c(f,f)):a=l.sel.primary();i.altKey?(s="rect",h||(a=new c(f,f)),f=hr(n,i,!0,!0),v=-1):s=="double"?(b=n.findWordAt(f),a=n.display.shift||l.extend?ou(l,a,b.anchor,b.head):b):s=="triple"?(d=new c(t(f.line,0),u(l,t(f.line+1,0))),a=n.display.shift||l.extend?ou(l,a,d.anchor,d.head):d):a=ou(l,a,f);h?v>-1?ws(l,v,a,gh):(v=l.sel.ranges.length,g(l,at(l.sel.ranges.concat([a]),v),{scroll:!1,origin:"*mouse"})):(v=0,g(l,new kt([a],0),gh),w=l.sel);nt=f;rt=tt.wrapper.getBoundingClientRect();p=0;et=y(n,function(n){dy(n)?ut(n):st(n)});ot=y(n,st);e(document,"mousemove",et);e(document,"mouseup",ot)}function ca(n,t,i,r,u){var s,e,o,h,f,c,l,a;try{s=t.clientX;e=t.clientY}catch(t){return!1}if(s>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;if(r&&k(t),o=n.display,h=o.lineDiv.getBoundingClientRect(),e>h.bottom||!ct(n,i))return dh(t);for(e-=h.top-o.viewOffset,f=0;f<n.options.gutters.length;++f)if(c=o.gutters.childNodes[f],c&&c.getBoundingClientRect().right>=s)return l=er(n.doc,e),a=n.options.gutters[f],u(n,i,n,l,a,t),dh(t)}function la(n,t){return ca(n,t,"gutterClick",!0,d)}function ab(n){var t=this,i,f,e,o,r;if(!ht(t,n)&&!tr(t.display,n)&&(k(n),s&&(uh=+new Date),i=hr(t,n,!0),f=n.dataTransfer.files,i&&!ae(t)))if(f&&f.length&&window.FileReader&&window.File){var h=f.length,e=Array(h),c=0,l=function(n,r){var f=new FileReader;f.onload=y(t,function(){if(e[r]=f.result,++c==h){i=u(t.doc,i);var n={from:i,to:i,text:sr(e.join("\n")),origin:"paste"};lr(t.doc,n);ll(t.doc,wi(i,ni(n)))}});f.readAsText(n)};for(r=0;r<h;++r)l(f[r],r)}else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1){t.state.draggingText(n);setTimeout(bt(it,t),20);return}try{if(e=n.dataTransfer.getData("Text"),e){if(!t.state.draggingText||(ot?n.metaKey:n.ctrlKey)||(o=t.listSelections()),ue(t.doc,wi(i,i)),o)for(r=0;r<o.length;++r)ge(t.doc,"",o[r].anchor,o[r].head,"drag");t.replaceSelection(e,"around","paste");it(t)}}catch(n){}}}function vb(n,t){if(s&&(!n.state.draggingText||+new Date-uh<100)){co(t);return}if(!ht(n,t)&&!tr(n.display,t)&&(t.dataTransfer.setData("Text",n.getSelection()),t.dataTransfer.setDragImage&&!vc)){var r=i("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";et&&(r.width=r.height=1,n.display.wrapper.appendChild(r),r._top=r.offsetTop);t.dataTransfer.setDragImage(r,0,0);et&&r.parentNode.removeChild(r)}}function pu(n,t){Math.abs(n.doc.scrollTop-t)<2||(n.doc.scrollTop=t,iu||ss(n,{top:t}),n.display.scroller.scrollTop!=t&&(n.display.scroller.scrollTop=t),n.display.scrollbarV.scrollTop!=t&&(n.display.scrollbarV.scrollTop=t),iu&&ss(n),hu(n,100))}function cr(n,t,i){(i?t==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-t)<2)||(t=Math.min(t,n.display.scroller.scrollWidth-n.display.scroller.clientWidth),n.doc.scrollLeft=t,us(n),n.display.scroller.scrollLeft!=t&&(n.display.scroller.scrollLeft=t),n.display.scrollbarH.scrollLeft!=t&&(n.display.scrollbarH.scrollLeft=t))}function aa(n,t){var f=t.wheelDeltaX,u=t.wheelDeltaY,i,r,e,h,o;if(f==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(f=t.detail),u==null&&t.detail&&t.axis==t.VERTICAL_AXIS?u=t.detail:u==null&&(u=t.wheelDelta),i=n.display,r=i.scroller,f&&r.scrollWidth>r.clientWidth||u&&r.scrollHeight>r.clientHeight){if(u&&ot&&v)n:for(e=t.target,h=i.view;e!=r;e=e.parentNode)for(o=0;o<h.length;o++)if(h[o].node==e){n.display.currentWheelTarget=e;break n}if(f&&!iu&&!et&&ut!=null){u&&pu(n,Math.max(0,Math.min(r.scrollTop+u*ut,r.scrollHeight-r.clientHeight)));cr(n,Math.max(0,Math.min(r.scrollLeft+f*ut,r.scrollWidth-r.clientWidth)));k(t);i.wheelStartX=null;return}if(u&&ut!=null){var c=u*ut,s=n.doc.scrollTop,l=s+i.wrapper.clientHeight;c<0?s=Math.max(0,s+c-50):l=Math.min(n.doc.height,l+c+50);ss(n,{top:s,bottom:l})}wu<20&&(i.wheelStartX==null?(i.wheelStartX=r.scrollLeft,i.wheelStartY=r.scrollTop,i.wheelDX=f,i.wheelDY=u,setTimeout(function(){if(i.wheelStartX!=null){var n=r.scrollLeft-i.wheelStartX,t=r.scrollTop-i.wheelStartY,u=t&&i.wheelDY&&t/i.wheelDY||n&&i.wheelDX&&n/i.wheelDX;(i.wheelStartX=i.wheelStartY=null,u)&&(ut=(ut*wu+u)/(wu+1),++wu)}},200)):(i.wheelDX+=f,i.wheelDY+=u))}}function pe(n,t,i){if(typeof t=="string"&&(t=du[t],!t))return!1;n.display.pollingFast&&ih(n)&&(n.display.pollingFast=!1);var u=n.display.shift,r=!1;try{ae(n)&&(n.state.suppressEdits=!0);i&&(n.display.shift=!1);r=t(n)!=np}finally{n.display.shift=u;n.state.suppressEdits=!1}return r}function yb(n,t,i){for(var u,r=0;r<n.state.keyMaps.length;r++)if(u=gu(t,n.state.keyMaps[r],i),u)return u;return n.options.extraKeys&&gu(t,n.options.extraKeys,i)||gu(t,n.options.keyMap,i)}function we(n,t,i,r){var f=n.state.keySeq,u;if(f){if(rk(t))return"handled";va.set(50,function(){n.state.keySeq==f&&(n.state.keySeq=null,st(n))});t=f+" "+t}return(u=yb(n,t,r),u=="multi"&&(n.state.keySeq=t),u=="handled"&&d(n,"keyHandled",n,t,i),(u=="handled"||u=="multi")&&(k(i),bs(n)),f&&!u&&/\'$/.test(t))?(k(i),!0):!!u}function ya(n,t){var i=uk(t,!0);return i?t.shiftKey&&!n.state.keySeq?we(n,"Shift-"+i,t,function(t){return pe(n,t,!0)})||we(n,i,t,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return pe(n,t)}):we(n,i,t,function(t){return pe(n,t)}):!1}function pb(n,t,i){return we(n,"'"+i+"'",t,function(t){return pe(n,t,!0)})}function pa(n){var t=this,i,r;(rh(t),ht(t,n))||(s&&h<11&&n.keyCode==27&&(n.returnValue=!1),i=n.keyCode,t.display.shift=i==16||n.shiftKey,r=ya(t,n),et&&(be=r?i:null,r||i!=88||hp||!(ot?n.metaKey:n.ctrlKey)||t.replaceSelection("",null,"cut")),i!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||wb(t))}function wb(n){function t(n){n.keyCode!=18&&n.altKey||(bf(i,"CodeMirror-crosshair"),ri(document,"keyup",t),ri(document,"mouseover",t))}var i=n.display.lineDiv;kf(i,"CodeMirror-crosshair");e(document,"keyup",t);e(document,"mouseover",t)}function wa(n){n.keyCode==16&&(this.doc.sel.shift=!1);ht(this,n)}function ba(n){var t=this,i,r,u;if(!ht(t,n)&&(!n.ctrlKey||n.altKey)&&(!ot||!n.metaKey)){if(i=n.keyCode,r=n.charCode,et&&i==be){be=null;k(n);return}(et&&(!n.which||n.which<10)||po)&&ya(t,n)||(u=String.fromCharCode(r==null?i:r),pb(t,n,u))||(s&&h>=9&&(t.display.inputHasSelection=null),yu(t))}}function fh(n){n.options.readOnly!="nocursor"&&(n.state.focused||(p(n,"focus",n),n.state.focused=!0,kf(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(st(n),v&&setTimeout(bt(st,n,!0),0))),le(n),bs(n))}function ke(n){n.state.focused&&(p(n,"blur",n),n.state.focused=!1,bf(n.display.wrapper,"CodeMirror-focused"));clearInterval(n.display.blinker);setTimeout(function(){n.state.focused||(n.display.shift=!1)},150)}function ka(n,t){function a(){if(i.input.selectionStart!=null){var t=n.somethingSelected(),r=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​";i.input.selectionStart=1;i.input.selectionEnd=r.length;i.selForContextMenu=n.doc.sel}}function p(){if(i.inputDiv.style.position="relative",i.input.style.cssText=c,s&&h<9&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=f),le(n),i.input.selectionStart!=null){(!s||s&&h<9)&&a();var r=0,t=function(){i.selForContextMenu==n.doc.sel&&i.input.selectionStart==0?y(n,du.selectAll)(n):r++<10?i.detectingSelectAll=setTimeout(t,500):st(n)};i.detectingSelectAll=setTimeout(t,200)}}var i,r,f,o,c,l,u;ht(n,t,"contextmenu")||(i=n.display,tr(i,t)||bb(n,t))||(r=hr(n,t),f=i.scroller.scrollTop,r&&!et)&&(o=n.options.resetSelectionOnContextMenu,o&&n.doc.sel.contains(r)==-1&&y(n,g)(n.doc,wi(r),ai),c=i.input.style.cssText,i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",v&&(l=window.scrollY),it(n),v&&window.scrollTo(null,l),st(n),n.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&h>=9&&a(),bo?(co(t),u=function(){ri(window,"mouseup",u);setTimeout(p,20)},e(window,"mouseup",u)):setTimeout(p,50))}function bb(n,t){return ct(n,"gutterContextMenu")?ca(n,t,"gutterContextMenu",!1,p):!1}function da(n,i){if(o(n,i.from)<0)return n;if(o(n,i.to)<=0)return ni(i);var u=n.line+i.text.length-(i.to.line-i.from.line)-1,r=n.ch;return n.line==i.to.line&&(r+=ni(i).ch-i.to.ch),t(u,r)}function eh(n,t){for(var r,u=[],i=0;i<n.sel.ranges.length;i++)r=n.sel.ranges[i],u.push(new c(da(r.anchor,t),da(r.head,t)));return at(u,n.sel.primIndex)}function ga(n,i,r){return n.line==i.line?t(r.line,n.ch-i.ch+r.ch):t(r.line+(n.line-i.line),n.ch)}function kb(n,i,r){for(var v,y,s=[],f=t(n.first,0),h=f,u=0;u<i.length;u++){var l=i[u],e=ga(l.from,f,h),a=ga(ni(l),f,h);f=l.to;h=a;r=="around"?(v=n.sel.ranges[u],y=o(v.head,v.anchor)<0,s[u]=new c(y?a:e,y?e:a)):s[u]=new c(e,e)}return new kt(s,n.sel.primIndex)}function nv(n,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return(i&&(r.update=function(t,i,r,f){t&&(this.from=u(n,t));i&&(this.to=u(n,i));r&&(this.text=r);f!==undefined&&(this.origin=f)}),p(n,"beforeChange",n,r),n.cm&&p(n.cm,"beforeChange",n.cm,r),r.canceled)?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function lr(n,t,i){var u,r;if(n.cm){if(!n.cm.curOp)return y(n.cm,lr)(n,t,i);if(n.cm.state.suppressEdits)return}if(!ct(n,"beforeChange")&&(!n.cm||!ct(n.cm,"beforeChange"))||(t=nv(n,t,!0),t))if(u=pc&&!i&&ak(n,t.from,t.to),u)for(r=u.length-1;r>=0;--r)tv(n,{from:u[r].from,to:u[r].to,text:r?[""]:t.text});else tv(n,t)}function tv(n,t){var i,r;(t.text.length!=1||t.text[0]!=""||o(t.from,t.to)!=0)&&(i=eh(n,t),vy(n,t,i,n.cm?n.cm.curOp.id:NaN),bu(n,t,i,lh(n,t)),r=[],fr(n,function(n,i){i||b(r,n.history)!=-1||(by(n.history,t),r.push(n.history));bu(n,t,null,lh(n,t))}))}function de(n,t,i){var h,v,f,u,y,c;if(!n.cm||!n.cm.state.suppressEdits){var e=n.history,r,a=n.sel,o=t=="undo"?e.done:e.undone,s=t=="undo"?e.undone:e.done;for(f=0;f<o.length;f++)if(r=o[f],i?r.ranges&&!r.equals(n.sel):!r.ranges)break;if(f!=o.length){for(e.lastOrigin=e.lastSelOrigin=null;;)if(r=o.pop(),r.ranges){if(ho(r,s),i&&!r.equals(n.sel)){g(n,r,{clearRedo:!1});return}a=r}else break;for(h=[],ho(a,s),s.push({changes:h,generation:e.generation}),e.generation=r.generation||++e.maxGeneration,v=ct(n,"beforeChange")||n.cm&&ct(n.cm,"beforeChange"),f=r.changes.length-1;f>=0;--f){if(u=r.changes[f],u.origin=t,v&&!nv(n,u,!1)){o.length=0;return}h.push(kh(n,u));y=f?eh(n,u):l(o);bu(n,u,y,hv(n,u));!f&&n.cm&&n.cm.scrollIntoView({from:u.from,to:ni(u)});c=[];fr(n,function(n,t){t||b(c,n.history)!=-1||(by(n.history,u),c.push(n.history));bu(n,u,null,hv(n,u))})}}}}function iv(n,i){if(i!=0&&(n.first+=i,n.sel=new kt(gr(n.sel.ranges,function(n){return new c(t(n.anchor.line+i,n.anchor.ch),t(n.head.line+i,n.head.ch))}),n.sel.primIndex),n.cm)){rt(n.cm,n.first,n.first-i,i);for(var u=n.cm.display,r=u.viewFrom;r<u.viewTo;r++)gt(n.cm,r,"gutter")}}function bu(n,i,u,f){var o,e;if(n.cm&&!n.cm.curOp)return y(n.cm,bu)(n,i,u,f);if(i.to.line<n.first){iv(n,i.text.length-1-(i.to.line-i.from.line));return}i.from.line>n.lastLine()||(i.from.line<n.first&&(o=i.text.length-1-(n.first-i.from.line),iv(n,o),i={from:t(n.first,0),to:t(i.to.line+o,i.to.ch),text:[l(i.text)],origin:i.origin}),e=n.lastLine(),i.to.line>e&&(i={from:i.from,to:t(e,r(n,e).text.length),text:[i.text[0]],origin:i.origin}),i.removed=cf(n,i.from,i.to),u||(u=eh(n,i)),n.cm?db(n.cm,i,f):wh(n,i,f),ue(n,u,ai))}function db(n,t,i){var f=n.doc,e=n.display,u=t.from,o=t.to,s=!1,h=u.line,y,c,l,v;n.options.lineWrapping||(h=a(vt(r(f,u.line))),f.iter(h,o.line+1,function(n){if(n==e.maxLine)return s=!0,!0}));f.sel.contains(t.from,t.to)>-1&&gy(n);wh(f,t,i,wc(n));n.options.lineWrapping||(f.iter(h,u.line+t.text.length,function(n){var t=ne(n);t>e.maxLineLength&&(e.maxLine=n,e.maxLineLength=t,e.maxLineChanged=!0,s=!1)}),s&&(n.curOp.updateMaxLine=!0));f.frontier=Math.min(f.frontier,u.line);hu(n,400);y=t.text.length-(o.line-u.line)-1;u.line!=o.line||t.text.length!=1||sy(n.doc,t)?rt(n,u.line,o.line+1,y):gt(n,u.line,"text");c=ct(n,"changes");l=ct(n,"change");(l||c)&&(v={from:u,to:o,text:t.text,removed:t.removed,origin:t.origin},l&&d(n,"change",n,v),c&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(v));n.display.selForContextMenu=null}function ge(n,t,i,r,u){if(r||(r=i),o(r,i)<0){var f=r;r=i;i=f}typeof t=="string"&&(t=sr(t));lr(n,{from:i,to:r,text:t,origin:u})}function gb(n,t){var u;if(!ht(n,"scrollCursorIntoView")){var f=n.display,e=f.sizer.getBoundingClientRect(),r=null;t.top+e.top<0?r=!0:t.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1);r==null||bp||(u=i("div","​",null,"position: absolute; top: "+(t.top-f.viewOffset-ee(n.display))+"px; height: "+(t.bottom-t.top+wt)+"px; left: "+t.left+"px; width: 2px;"),n.display.lineSpace.appendChild(u),u.scrollIntoView(r),n.display.lineSpace.removeChild(u))}}function nk(n,t,i,r){var o;for(r==null&&(r=0),o=0;o<5;o++){var s=!1,u=dt(n,t),f=!i||i==t?u:dt(n,i),e=no(n,Math.min(u.left,f.left),Math.min(u.top,f.top)-r,Math.max(u.left,f.left),Math.max(u.bottom,f.bottom)+r),h=n.doc.scrollTop,c=n.doc.scrollLeft;if(e.scrollTop!=null&&(pu(n,e.scrollTop),Math.abs(n.doc.scrollTop-h)>1&&(s=!0)),e.scrollLeft!=null&&(cr(n,e.scrollLeft),Math.abs(n.doc.scrollLeft-c)>1&&(s=!0)),!s)return u}}function tk(n,t,i,r,u){var f=no(n,t,i,r,u);f.scrollTop!=null&&pu(n,f.scrollTop);f.scrollLeft!=null&&cr(n,f.scrollLeft)}function no(n,t,i,r,u){var f=n.display,a=ki(n.display),c;i<0&&(i=0);var h=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:f.scroller.scrollTop,o=f.scroller.clientHeight-wt,e={};u-i>o&&(u=i+o);var v=n.doc.height+ks(f),p=i<a,w=u>v-a;i<h?e.scrollTop=p?0:i:u>h+o&&(c=Math.min(i,(w?v:u)-o),c!=h&&(e.scrollTop=c));var y=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:f.scroller.scrollLeft,s=f.scroller.clientWidth-wt-f.gutters.offsetWidth,l=r-t>s;return l&&(r=t+s),t<10?e.scrollLeft=0:t<y?e.scrollLeft=Math.max(0,t-(l?0:10)):r>s+y-3&&(e.scrollLeft=r+(l?0:10)-s),e}function oh(n,t,i){(t!=null||i!=null)&&to(n);t!=null&&(n.curOp.scrollLeft=(n.curOp.scrollLeft==null?n.doc.scrollLeft:n.curOp.scrollLeft)+t);i!=null&&(n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+i)}function ar(n){to(n);var i=n.getCursor(),r=i,u=i;n.options.lineWrapping||(r=i.ch?t(i.line,i.ch-1):i,u=t(i.line,i.ch+1));n.curOp.scrollToPos={from:r,to:u,margin:n.options.cursorScrollMargin,isCursor:!0}}function to(n){var t=n.curOp.scrollToPos;if(t){n.curOp.scrollToPos=null;var i=fa(n,t.from),r=fa(n,t.to),u=no(n,Math.min(i.left,r.left),Math.min(i.top,r.top)-t.margin,Math.max(i.right,r.right),Math.max(i.bottom,r.bottom)+t.margin);n.scrollTo(u.scrollLeft,u.scrollTop)}}function ku(n,i,u,f){var o=n.doc,b,a,e,v,h,w,l;u==null&&(u="add");u=="smart"&&(o.mode.indent?b=cu(n,i):u="prev");var y=n.options.tabSize,s=r(o,i),p=ft(s.text,null,y);if(s.stateAfter&&(s.stateAfter=null),a=s.text.match(/^\s*/)[0],f||/\S/.test(s.text)){if(u=="smart"&&(e=o.mode.indent(b,s.text.slice(a.length),s.text),e==np||e>150)){if(!f)return;u="prev"}}else e=0,u="not";if(u=="prev"?e=i>o.first?ft(r(o,i-1).text,null,y):0:u=="add"?e=p+n.options.indentUnit:u=="subtract"?e=p-n.options.indentUnit:typeof u=="number"&&(e=p+u),e=Math.max(0,e),v="",l=0,n.options.indentWithTabs)for(h=Math.floor(e/y);h;--h)l+=y,v+="\t";if(l<e&&(v+=ip(e-l)),v!=a)ge(o,v,t(i,0),t(i,a.length),"+input");else for(h=0;h<o.sel.ranges.length;h++)if(w=o.sel.ranges[h],w.head.line==i&&w.head.ch<a.length){l=t(i,a.length);ws(o,h,new c(l,l));break}s.stateAfter=null}function io(n,t,i,u){var f=t,e=t;return(typeof t=="number"?e=r(n,sl(n,t)):f=a(t),f==null)?null:(u(e,f)&&n.cm&&gt(n.cm,f,i),e)}function vr(n,t){for(var r,f,e=n.doc.sel.ranges,i=[],u=0;u<e.length;u++){for(r=t(e[u]);i.length&&o(r.from,l(i).to)<=0;)if(f=i.pop(),o(f.from,r.from)<0){r.from=f.from;break}i.push(r)}ei(n,function(){for(var t=i.length-1;t>=0;t--)ge(n.doc,"",i[t].from,i[t].to,"+delete");ar(n)})}function sh(n,i,u,f,e){function d(){var t=a+u;return t<n.first||t>=n.first+n.size?y=!1:(a=t,h=r(n,t))}function c(n){var t=(e?cc:ap)(h,o,u,!0);if(t==null)if(!n&&d())o=e?(u<0?yo:vo)(h):u<0?h.text.length:0;else return y=!1;else o=t;return!0}var a=i.line,o=i.ch,k=u,h=r(n,a),y=!0,l,v,s,b;if(f=="char")c();else if(f=="column")c(!0);else if(f=="word"||f=="group"){var p=null,w=f=="group",g=n.cm&&n.cm.getHelper(i,"wordChars");for(l=!0;;l=!1){if(u<0&&!c(!l))break;if(v=h.text.charAt(o)||"\n",s=ao(v,g)?"w":w&&v=="\n"?"n":!w||/\s/.test(v)?null:"p",!w||l||s||(s="s"),p&&p!=s){u<0&&(u=1,c());break}if(s&&(p=s),u>0&&!c(!l))break}}return b=fe(n,t(a,o),k,!0),y||(b.hitSide=!0),b}function rv(n,t,i,r){var o=n.doc,s=t.left,u,e,f;for(r=="page"?(e=Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=t.top+i*(e-(i<0?1.5:.5)*ki(n.display))):r=="line"&&(u=i>0?t.bottom+3:t.top-3);;){if(f=th(n,s,u),!f.outside)break;if(i<0?u<=0:u>=o.height){f.hitSide=!0;break}u+=i*5}return f}function f(t,i,r,u){n.defaults[t]=i;r&&(ir[t]=u?function(n,t,i){i!=hh&&r(n,t,i)}:r)}function ik(n){for(var t,i=n.split(/-(?!$)/),n=i[i.length-1],u,f,e,o,r=0;r<i.length-1;r++)if(t=i[r],/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))u=!0;else if(/^(c|ctrl|control)$/i.test(t))f=!0;else if(/^s(hift)$/i.test(t))e=!0;else throw new Error("Unrecognized modifier name: "+t);return u&&(n="Alt-"+n),f&&(n="Ctrl-"+n),o&&(n="Cmd-"+n),e&&(n="Shift-"+n),n}function uo(n){return typeof n=="string"?ti[n]:n}function wr(n,t,r,u,f){var s,a,c,h,v,l;if(u&&u.shared)return fk(n,t,r,u,f);if(n.cm&&!n.cm.curOp)return y(n.cm,wr)(n,t,r,u,f);if(s=new ci(n,f),a=o(t,r),u&&nu(u,s,!1),a>0||a==0&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=i("span",[s.replacedWith],"CodeMirror-widget"),u.handleMouseEvents||(s.widgetNode.ignoreEvents=!0),u.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(pv(n,t.line,t,r,s)||t.line!=r.line&&pv(n,r.line,t,r,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");fi=!0}if(s.addToHistory&&vy(n,{from:t,to:r,origin:"markText"},n.sel,NaN),c=t.line,h=n.cm,n.iter(c,r.line+1,function(n){h&&s.collapsed&&!h.options.lineWrapping&&vt(n)==h.display.maxLine&&(v=!0);s.collapsed&&c!=t.line&&yt(n,0);hk(n,new fo(s,c==t.line?t.ch:null,c==r.line?r.ch:null));++c}),s.collapsed&&n.iter(t.line,r.line+1,function(t){ur(n,t)&&yt(t,0)}),s.clearOnEnter&&e(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(pc=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),s.collapsed&&(s.id=++ev,s.atomic=!0),h){if(v&&(h.curOp.updateMaxLine=!0),s.collapsed)rt(h,t.line,r.line+1);else if(s.className||s.title||s.startStyle||s.endStyle)for(l=t.line;l<=r.line;l++)gt(h,l,"text");s.atomic&&vl(h.doc);d(h,"markerAdded",h,s)}return s}function fk(n,t,i,r,f){r=nu(r);r.shared=!1;var e=[wr(n,t,i,r,f)],o=e[0],s=r.widgetNode;return fr(n,function(n){s&&(r.widgetNode=s.cloneNode(!0));e.push(wr(n,u(n,t),u(n,i),r,f));for(var h=0;h<n.linked.length;++h)if(n.linked[h].isParent)return;o=l(e)}),new tf(e,o)}function ov(n){return n.findMarks(t(n.first,0),n.clipPos(t(n.lastLine())),function(n){return n.parent})}function ek(n,t){for(var u,r=0;r<t.length;r++){var i=t[r],f=i.find(),e=n.clipPos(f.from),s=n.clipPos(f.to);o(e,s)&&(u=wr(n,e,s,i.primary,i.primary.type),i.markers.push(u),u.parent=i)}}function ok(n){for(var t,u,i,f,r=0;r<n.length;r++)for(t=n[r],u=[t.primary.doc],fr(t.primary.doc,function(n){u.push(n)}),i=0;i<t.markers.length;i++)f=t.markers[i],b(u,f.doc)==-1&&(f.parent=null,t.markers.splice(i--,1))}function fo(n,t,i){this.marker=n;this.from=t;this.to=i}function rf(n,t){var i,r;if(n)for(i=0;i<n.length;++i)if(r=n[i],r.marker==t)return r}function sk(n,t){for(var r,i=0;i<n.length;++i)n[i]!=t&&(r||(r=[])).push(n[i]);return r}function hk(n,t){n.markedSpans=n.markedSpans?n.markedSpans.concat([t]):[t];t.marker.attachLine(n)}function ck(n,t,i){var u,e,o;if(n)for(u=0;u<n.length;++u){var r=n[u],f=r.marker,s=r.from==null||(f.inclusiveLeft?r.from<=t:r.from<t);!s&&(r.from!=t||f.type!="bookmark"||i&&r.marker.insertLeft)||(o=r.to==null||(f.inclusiveRight?r.to>=t:r.to>t),(e||(e=[])).push(new fo(f,r.from,o?null:r.to)))}return e}function lk(n,t,i){var u,e,o;if(n)for(u=0;u<n.length;++u){var r=n[u],f=r.marker,s=r.to==null||(f.inclusiveRight?r.to>=t:r.to>t);(s||r.from==t&&f.type=="bookmark"&&(!i||r.marker.insertLeft))&&(o=r.from==null||(f.inclusiveLeft?r.from<=t:r.from<t),(e||(e=[])).push(new fo(f,o?null:r.from-t,r.to==null?null:r.to-t)))}return e}function lh(n,t){var w=eu(n,t.from.line)&&r(n,t.from.line).markedSpans,b=eu(n,t.to.line)&&r(n,t.to.line).markedSpans,f,s,a,y,p,u;if(!w&&!b)return null;var v=t.from.ch,d=t.to.ch,k=o(t.from,t.to)==0,i=ck(w,v,k),e=lk(b,d,k),h=t.text.length==1,c=l(t.text).length+(h?v:0);if(i)for(u=0;u<i.length;++u)f=i[u],f.to==null&&(s=rf(e,f.marker),s?h&&(f.to=s.to==null?null:s.to+c):f.to=v);if(e)for(u=0;u<e.length;++u)f=e[u],f.to!=null&&(f.to+=c),f.from==null?(s=rf(i,f.marker),s||(f.from=c,h&&(i||(i=[])).push(f))):(f.from+=c,h&&(i||(i=[])).push(f));if(i&&(i=sv(i)),e&&e!=i&&(e=sv(e)),a=[i],!h){if(y=t.text.length-2,y>0&&i)for(u=0;u<i.length;++u)i[u].to==null&&(p||(p=[])).push(new fo(i[u].marker,null,null));for(u=0;u<y;++u)a.push(p);a.push(e)}return a}function sv(n){for(var i,t=0;t<n.length;++t)i=n[t],i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&n.splice(t--,1);return n.length?n:null}function hv(n,t){var i=fd(n,t),s=lh(n,t),r,f,u,e,h,o;if(!i)return s;if(!s)return i;for(r=0;r<i.length;++r)if(f=i[r],u=s[r],f&&u)n:for(e=0;e<u.length;++e){for(h=u[e],o=0;o<f.length;++o)if(f[o].marker==h.marker)continue n;f.push(h)}else u&&(i[r]=u);return i}function ak(n,t,i){var r=null,e,h,c,u,s,f;if(n.iter(t.line,i.line+1,function(n){var t,i;if(n.markedSpans)for(t=0;t<n.markedSpans.length;++t)i=n.markedSpans[t].marker,i.readOnly&&(!r||b(r,i)==-1)&&(r||(r=[])).push(i)}),!r)return null;for(e=[{from:t,to:i}],h=0;h<r.length;++h)for(c=r[h],u=c.find(0),s=0;s<e.length;++s)if(f=e[s],!(o(f.to,u.from)<0)&&!(o(f.from,u.to)>0)){var l=[s,1],a=o(f.from,u.from),v=o(f.to,u.to);(a<0||!c.inclusiveLeft&&!a)&&l.push({from:f.from,to:u.from});(v>0||!c.inclusiveRight&&!v)&&l.push({from:u.to,to:f.to});e.splice.apply(e,l);s+=l.length-1}return e}function cv(n){var i=n.markedSpans,t;if(i){for(t=0;t<i.length;++t)i[t].marker.detachLine(n);n.markedSpans=null}}function lv(n,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(n);n.markedSpans=t}}function eo(n){return n.inclusiveLeft?-1:0}function oo(n){return n.inclusiveRight?1:0}function av(n,t){var r=n.lines.length-t.lines.length,i;if(r!=0)return r;var u=n.find(),f=t.find(),e=o(u.from,f.from)||eo(n)-eo(t);return e?-e:(i=o(u.to,f.to)||oo(n)-oo(t),i)?i:t.id-n.id}function vv(n,t){var f=fi&&n.markedSpans,r,i,u;if(f)for(u=0;u<f.length;++u)i=f[u],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||av(r,i.marker)<0)&&(r=i.marker);return r}function yv(n){return vv(n,!0)}function uf(n){return vv(n,!1)}function pv(n,t,i,u,f){var v=r(n,t),l=fi&&v.markedSpans,s,e;if(l)for(s=0;s<l.length;++s)if(e=l[s],e.marker.collapsed){var h=e.marker.find(0),c=o(h.from,i)||eo(e.marker)-eo(f),a=o(h.to,u)||oo(e.marker)-oo(f);if((!(c>=0)||!(a<=0))&&(!(c<=0)||!(a>=0))&&(c<=0&&(o(h.to,i)>0||e.marker.inclusiveRight&&f.inclusiveLeft)||c>=0&&(o(h.from,u)<0||e.marker.inclusiveLeft&&f.inclusiveRight)))return!0}}function vt(n){for(var t;t=yv(n);)n=t.find(-1,!0).line;return n}function vk(n){for(var i,t;i=uf(n);)n=i.find(1,!0).line,(t||(t=[])).push(n);return t}function ah(n,t){var i=r(n,t),u=vt(i);return i==u?t:a(u)}function wv(n,t){if(t>n.lastLine())return t;var i=r(n,t),u;if(!ur(n,i))return t;while(u=uf(i))i=u.find(1,!0).line;return a(i)+1}function ur(n,t){var u=fi&&t.markedSpans,i,r;if(u)for(r=0;r<u.length;++r)if(i=u[r],i.marker.collapsed){if(i.from==null)return!0;if(!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&vh(n,t,i))return!0}}function vh(n,t,i){var f,r,u;if(i.to==null)return f=i.marker.find(1,!0),vh(n,f.line,rf(f.line.markedSpans,i.marker));if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(u=0;u<t.markedSpans.length;++u)if(r=t.markedSpans[u],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&vh(n,t,r))return!0}function bv(n,t,i){ii(t)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&oh(n,null,i)}function ef(n){if(n.height!=null)return n.height;if(!od(document.body,n.node)){var t="position: relative;";n.coverGutter&&(t+="margin-left: -"+n.cm.getGutterElement().offsetWidth+"px;");lt(n.cm.display.measure,i("div",[n.node],null,t))}return n.height=n.node.offsetHeight}function yk(n,t,i,r){var u=new ff(n,i,r);return u.noHScroll&&(n.display.alignWidgets=!0),io(n.doc,t,"widget",function(t){var i=t.widgets||(t.widgets=[]),r;return u.insertAt==null?i.push(u):i.splice(Math.min(i.length-1,Math.max(0,u.insertAt)),0,u),u.line=t,ur(n.doc,t)||(r=ii(t)<n.doc.scrollTop,yt(t,t.height+ef(u)),r&&oh(n,null,u.height),n.curOp.forceUpdate=!0),!0}),u}function pk(n,t,i,r){n.text=t;n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null);n.order!=null&&(n.order=null);cv(n);lv(n,i);var u=r?r(n):1;u!=n.height&&yt(n,u)}function wk(n){n.parent=null;cv(n)}function kv(n,t){var i,r;if(n)for(;;){if(i=n.match(/(?:^|\s+)line-(background-)?(\S+)/),!i)break;n=n.slice(0,i.index)+n.slice(i.index+i[0].length);r=i[1]?"bgClass":"textClass";t[r]==null?t[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+i[2])}return n}function dv(t,i){if(t.blankLine)return t.blankLine(i);if(t.innerMode){var r=n.innerMode(t,i);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}function yh(t,i,r,u){for(var e,f=0;f<10;f++)if(u&&(u[0]=n.innerMode(t,r).mode),e=t.token(i,r),i.pos>i.start)return e;throw new Error("Mode "+t.name+" failed to advance stream.");}function gv(n,t,i,f){function c(n){return{start:e.start,end:e.pos,string:e.current(),type:l||null,state:n?rr(o.mode,s):s}}var o=n.doc,a=o.mode,l;t=u(o,t);var v=r(o,t.line),s=cu(n,t.line,i),e=new nf(v.text,n.options.tabSize),h;for(f&&(h=[]);(f||e.pos<t.ch)&&!e.eol();)e.start=e.pos,l=yh(a,e,s),f&&h.push(c(!0));return f?h:c()}function ny(n,t,i,r,u,f,e){var c=i.flattenSpans,a,y;c==null&&(c=n.options.flattenSpans);var h=0,l=null,o=new nf(t,n.options.tabSize),s,v=n.options.addModeClass&&[null];for(t==""&&kv(dv(i,r),f);!o.eol();)o.pos>n.options.maxHighlightLength?(c=!1,e&&ph(n,t,r,o.pos),o.pos=t.length,s=null):s=kv(yh(i,o,r,v),f),v&&(a=v[0].name,a&&(s="m-"+(s?a+" "+s:a))),c&&l==s||(h<o.start&&u(o.start,l),h=o.start,l=s),o.start=o.pos;while(h<o.pos)y=Math.min(o.pos,h+5e4),u(y,l),h=y}function ty(n,t,i,r){var u=[n.state.modeGen],e={},o;for(ny(n,t.text,n.doc.mode,i,function(n,t){u.push(n,t)},e,r),o=0;o<n.state.overlays.length;++o){var s=n.state.overlays[o],f=1,h=0;ny(n,t.text,s.mode,!0,function(n,t){for(var i=f,r,e;h<n;)r=u[f],r>n&&u.splice(f,1,n,u[f+1],r),f+=2,h=Math.min(n,r);if(t)if(s.opaque)u.splice(i,f-i,n,"cm-overlay "+t),f=i+2;else for(;i<f;i+=2)e=u[i+1],u[i+1]=(e?e+" ":"")+"cm-overlay "+t},e)}return{styles:u,classes:e.bgClass||e.textClass?e:null}}function iy(n,t,i){if(!t.styles||t.styles[0]!=n.state.modeGen){var r=ty(n,t,t.stateAfter=cu(n,a(t)));t.styles=r.styles;r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null);i===n.doc.frontier&&n.doc.frontier++}return t.styles}function ph(n,t,i,r){var f=n.doc.mode,u=new nf(t,n.options.tabSize);for(u.start=u.pos=r||0,t==""&&dv(f,i);!u.eol()&&u.pos<=n.options.maxHighlightLength;)yh(f,u,i),u.start=u.pos}function fy(n,t){if(!n||/^\s*$/.test(n))return null;var i=t.addModeClass?uy:ry;return i[n]||(i[n]=n.replace(/\S+/g,"cm-$&"))}function ey(n,t){var e=i("span",null,null,v?"padding-right: .1px":null),r={pre:i("pre",[e]),content:e,col:0,pos:0,cm:n},f,u,o,h;for(t.measure={},f=0;f<=(t.rest?t.rest.length:0);f++)u=f?t.rest[f-1]:t.line,r.pos=0,r.addToken=kk,(s||v)&&n.getOption("lineWrapping")&&(r.addToken=dk(r.addToken)),ad(n.display.measure)&&(o=pt(u))&&(r.addToken=gk(r.addToken,o)),r.map=[],h=t!=n.display.externalMeasured&&a(u),nd(u,r,iy(n,u,h)),u.styleClasses&&(u.styleClasses.bgClass&&(r.bgClass=tc(u.styleClasses.bgClass,r.bgClass||"")),u.styleClasses.textClass&&(r.textClass=tc(u.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(ld(n.display.measure))),f==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}));return v&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),p(n,"renderLine",n,t.line,r.pre),r.pre.className&&(r.textClass=tc(r.pre.className,r.textClass||"")),r}function bk(n){var t=i("span","•","cm-invalidchar");return t.title="\\u"+n.charCodeAt(0).toString(16),t}function kk(n,t,r,u,f,e){var y,w,o,l,v,a,c,p,b;if(t){if(y=n.cm.options.specialChars,w=!1,y.test(t))for(o=document.createDocumentFragment(),l=0;;){if(y.lastIndex=l,v=y.exec(t),a=v?v.index-l:t.length-l,a&&(c=document.createTextNode(t.slice(l,l+a)),s&&h<9?o.appendChild(i("span",[c])):o.appendChild(c),n.map.push(n.pos,n.pos+a,c),n.col+=a,n.pos+=a),!v)break;if(l+=a+1,v[0]=="\t"){var k=n.cm.options.tabSize,d=k-n.col%k,c=o.appendChild(i("span",ip(d),"cm-tab"));n.col+=d}else c=n.cm.options.specialCharPlaceholder(v[0]),s&&h<9?o.appendChild(i("span",[c])):o.appendChild(c),n.col+=1;n.map.push(n.pos,n.pos+1,c);n.pos++}else n.col+=t.length,o=document.createTextNode(t),n.map.push(n.pos,n.pos+t.length,o),s&&h<9&&(w=!0),n.pos+=t.length;if(r||u||f||w)return p=r||"",u&&(p+=u),f&&(p+=f),b=i("span",[o],p),e&&(b.title=e),n.content.appendChild(b);n.content.appendChild(o)}}function dk(n){function t(n){for(var i=" ",t=0;t<n.length-2;++t)i+=t%2?" ":" ";return i+" "}return function(i,r,u,f,e,o){n(i,r.replace(/ {3,}/g,t),u,f,e,o)}}function gk(n,t){return function(i,r,u,f,e,o){var s,l,c,h;for(u=u?u+" cm-force-border":"cm-force-border",s=i.pos,l=s+r.length;;){for(c=0;c<t.length;c++)if(h=t[c],h.to>s&&h.from<=s)break;if(h.to>=l)return n(i,r,u,f,e,o);n(i,r.slice(0,h.to-s),u,f,null,o);f=null;r=r.slice(h.to-s);s=h.to}}}function oy(n,t,i,r){var u=!r&&i.widgetNode;u&&(n.map.push(n.pos,n.pos+t,u),n.content.appendChild(u));n.pos+=t}function nd(n,t,i){var d=n.markedSpans,g=n.text,v=0,h,a,u,f,s,l,k,it;if(!d){for(h=1;h<i.length;h+=2)t.addToken(t,g.slice(v,v=i[h]),fy(i[h+1],t.cm.options));return}for(var nt=g.length,r=0,h=1,c="",tt,o=0,y,p,w,b,e;;){if(o==r){for(y=p=w=b="",e=null,o=Infinity,a=[],s=0;s<d.length;++s)u=d[s],f=u.marker,u.from<=r&&(u.to==null||u.to>r)?(u.to!=null&&o>u.to&&(o=u.to,p=""),f.className&&(y+=" "+f.className),f.startStyle&&u.from==r&&(w+=" "+f.startStyle),f.endStyle&&u.to==o&&(p+=" "+f.endStyle),f.title&&!b&&(b=f.title),f.collapsed&&(!e||av(e.marker,f)<0)&&(e=u)):u.from>r&&o>u.from&&(o=u.from),f.type=="bookmark"&&u.from==r&&f.widgetNode&&a.push(f);if(e&&(e.from||0)==r&&(oy(t,(e.to==null?nt+1:e.to)-r,e.marker,e.from==null),e.to==null))return;if(!e&&a.length)for(s=0;s<a.length;++s)oy(t,0,a[s])}if(r>=nt)break;for(l=Math.min(nt,o);;){if(c){if(k=r+c.length,e||(it=k>l?c.slice(0,l-r):c,t.addToken(t,it,tt?tt+y:y,w,r+it.length==o?p:"",b)),k>=l){c=c.slice(l-r);r=l;break}r=k;w=""}c=g.slice(v,v=i[h++]);tt=fy(i[h++],t.cm.options)}}}function sy(n,t){return t.from.ch==0&&t.to.ch==0&&l(t.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function wh(n,t,i,u){function c(n){return i?i[n]:null}function a(n,i,r){pk(n,i,r,u);d(n,"change",n,t)}var o=t.from,v=t.to,e=t.text,s=r(n,o.line),y=r(n,v.line),b=l(e),w=c(e.length-1),p=v.line-o.line,f,h;if(sy(n,t)){for(f=0,h=[];f<e.length-1;++f)h.push(new li(e[f],c(f),u));a(y,y.text,w);p&&n.remove(o.line,p);h.length&&n.insert(o.line,h)}else if(s==y)if(e.length==1)a(s,s.text.slice(0,o.ch)+b+s.text.slice(v.ch),w);else{for(h=[],f=1;f<e.length-1;++f)h.push(new li(e[f],c(f),u));h.push(new li(b+s.text.slice(v.ch),w,u));a(s,s.text.slice(0,o.ch)+e[0],c(0));n.insert(o.line+1,h)}else if(e.length==1)a(s,s.text.slice(0,o.ch)+e[0]+y.text.slice(v.ch),c(0)),n.remove(o.line+1,p);else{for(a(s,s.text.slice(0,o.ch)+e[0],c(0)),a(y,b+y.text.slice(v.ch),w),f=1,h=[];f<e.length-1;++f)h.push(new li(e[f],c(f),u));p>1&&n.remove(o.line+1,p-1);n.insert(o.line+1,h)}d(n,"change",n,t)}function of(n){this.lines=n;this.parent=null;for(var t=0,i=0;t<n.length;++t)n[t].parent=this,i+=n[t].height;this.height=i}function sf(n){var r,u,t,i;for(this.children=n,r=0,u=0,t=0;t<n.length;++t)i=n[t],r+=i.chunkSize(),u+=i.height,i.parent=this;this.size=r;this.height=u;this.parent=null}function fr(n,t,i){function r(n,u,f){var o,e,s;if(n.linked)for(o=0;o<n.linked.length;++o)(e=n.linked[o],e.doc!=u)&&(s=f&&e.sharedHist,!i||s)&&(t(e.doc,s),r(e.doc,n,s))}r(n,null,!0)}function ly(n,t){if(t.cm)throw new Error("This document is already in use.");n.doc=t;t.cm=n;go(n);ko(n);n.options.lineWrapping||ts(n);n.options.mode=t.modeOption;rt(n)}function r(n,t){var i,r,u,f;if(t-=n.first,t<0||t>=n.size)throw new Error("There is no line "+(t+n.first)+" in the document.");for(i=n;!i.lines;)for(r=0;;++r){if(u=i.children[r],f=u.chunkSize(),t<f){i=u;break}t-=f}return i.lines[t]}function cf(n,t,i){var u=[],r=t.line;return n.iter(t.line,i.line+1,function(n){var f=n.text;r==i.line&&(f=f.slice(0,i.ch));r==t.line&&(f=f.slice(t.ch));u.push(f);++r}),u}function bh(n,t,i){var r=[];return n.iter(t,i,function(n){r.push(n.text)}),r}function yt(n,t){var r=t-n.height,i;if(r)for(i=n;i;i=i.parent)i.height+=r}function a(n){var i,u,t,r;if(n.parent==null)return null;for(i=n.parent,u=b(i.lines,n),t=i.parent;t;i=t,t=t.parent)for(r=0;;++r){if(t.children[r]==i)break;u+=t.children[r].chunkSize()}return u+i.first}function er(n,t){var u=n.first,r,f,i,o,e;n:do{for(i=0;i<n.children.length;++i){if(r=n.children[i],f=r.height,t<f){n=r;continue n}t-=f;u+=r.chunkSize()}return u}while(!n.lines);for(i=0;i<n.lines.length;++i){if(o=n.lines[i],e=o.height,t<e)break;t-=e}return u+i}function ii(n){var u,i,f,r,t,e;for(n=vt(n),u=0,i=n.parent,t=0;t<i.lines.length;++t)if(f=i.lines[t],f==n)break;else u+=f.height;for(r=i.parent;r;i=r,r=i.parent)for(t=0;t<r.children.length;++t)if(e=r.children[t],e==i)break;else u+=e.height;return u}function pt(n){var t=n.order;return t==null&&(t=n.order=vp(n.text)),t}function so(n){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=n||1}function kh(n,t){var i={from:vs(t.from),to:ni(t),text:cf(n,t.from,t.to)};return yy(n,i,t.from.line,t.to.line+1),fr(n,function(n){yy(n,i,t.from.line,t.to.line+1)},!0),i}function ay(n){while(n.length){var t=l(n);if(t.ranges)n.pop();else break}}function td(n,t){return t?(ay(n.done),l(n.done)):n.done.length&&!l(n.done).ranges?l(n.done):n.done.length>1&&!n.done[n.done.length-2].ranges?(n.done.pop(),l(n.done)):void 0}function vy(n,t,i,r){var u=n.history,s,f,e,h;if(u.undone.length=0,s=+new Date,(u.lastOp==r||u.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&n.cm&&u.lastModTime>s-n.cm.options.historyEventDelay||t.origin.charAt(0)=="*"))&&(f=td(u,u.lastOp==r)))e=l(f.changes),o(t.from,t.to)==0&&o(t.from,e.to)==0?e.to=ni(t):f.changes.push(kh(n,t));else for(h=l(u.done),h&&h.ranges||ho(n.sel,u.done),f={changes:[kh(n,t)],generation:u.generation},u.done.push(f);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift();u.done.push(i);u.generation=++u.maxGeneration;u.lastModTime=u.lastSelTime=s;u.lastOp=u.lastSelOp=r;u.lastOrigin=u.lastSelOrigin=t.origin;e||p(n,"historyAdded")}function id(n,t,i,r){var u=t.charAt(0);return u=="*"||u=="+"&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function rd(n,t,i,r){var u=n.history,f=r&&r.origin;i==u.lastSelOp||f&&u.lastSelOrigin==f&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==f||id(n,f,l(u.done),t))?u.done[u.done.length-1]=t:ho(t,u.done);u.lastSelTime=+new Date;u.lastSelOrigin=f;u.lastSelOp=i;r&&r.clearRedo!==!1&&ay(u.undone)}function ho(n,t){var i=l(t);i&&i.ranges&&i.equals(n)||t.push(n)}function yy(n,t,i,r){var u=t["spans_"+n.id],f=0;n.iter(Math.max(n.first,i),Math.min(n.first+n.size,r),function(i){i.markedSpans&&((u||(u=t["spans_"+n.id]={}))[f]=i.markedSpans);++f})}function ud(n){if(!n)return null;for(var i=0,t;i<n.length;++i)n[i].marker.explicitlyCleared?t||(t=n.slice(0,i)):t&&t.push(n[i]);return t?t.length?t:null:n}function fd(n,t){var u=t["spans_"+n.id],i,r;if(!u)return null;for(i=0,r=[];i<t.text.length;++i)r.push(ud(u[i]));return r}function br(n,t,i){for(var u,c,s,h,r,a,f,e=0,o=[];e<n.length;++e){if(u=n[e],u.ranges){o.push(i?kt.prototype.deepCopy.call(u):u);continue}for(c=u.changes,s=[],o.push({changes:s}),h=0;h<c.length;++h)if(r=c[h],s.push({from:r.from,to:r.to,text:r.text}),t)for(f in r)(a=f.match(/^spans_(\d+)$/))&&b(t,Number(a[1]))>-1&&(l(s)[f]=r[f],delete r[f])}return o}function py(n,t,i,r){i<n.line?n.line+=r:t<n.line&&(n.line=t,n.ch=0)}function wy(n,i,r,u){for(var f,h,e,o,s=0;s<n.length;++s){if(f=n[s],h=!0,f.ranges){for(f.copied||(f=n[s]=f.deepCopy(),f.copied=!0),e=0;e<f.ranges.length;e++)py(f.ranges[e].anchor,i,r,u),py(f.ranges[e].head,i,r,u);continue}for(e=0;e<f.changes.length;++e)if(o=f.changes[e],r<o.from.line)o.from=t(o.from.line+u,o.from.ch),o.to=t(o.to.line+u,o.to.ch);else if(i<=o.to.line){h=!1;break}h||(n.splice(0,s+1),s=0)}}function by(n,t){var i=t.from.line,r=t.to.line,u=t.text.length-(r-i)-1;wy(n.done,i,r,u);wy(n.undone,i,r,u)}function dh(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function lf(n){return n.target||n.srcElement}function dy(n){var t=n.which;return t==null&&(n.button&1?t=1:n.button&2?t=3:n.button&4&&(t=2)),ot&&n.ctrlKey&&t==1&&(t=3),t}function d(n,t){function e(n){return function(){n.apply(null,f)}}var u=n._handlers&&n._handlers[t],f,i,r;if(u)for(f=Array.prototype.slice.call(arguments,2),di?i=di.delayedCallbacks:af?i=af:(i=af=[],setTimeout(ed,0)),r=0;r<u.length;++r)i.push(e(u[r]))}function ed(){var t=af,n;for(af=null,n=0;n<t.length;++n)t[n]()}function ht(n,t,i){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),p(n,i||t.type,n,t),dh(t)||t.codemirrorIgnore}function gy(n){var i=n._handlers&&n._handlers.cursorActivity,r,t;if(i)for(r=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),t=0;t<i.length;++t)b(r,i[t])==-1&&r.push(i[t])}function ct(n,t){var i=n._handlers&&n._handlers[t];return i&&i.length>0}function kr(n){n.prototype.on=function(n,t){e(this,n,t)};n.prototype.off=function(n,t){ri(this,n,t)}}function lo(){this.id=null}function tp(n,t,i){for(var f,e,r=0,u=0;;){if(f=n.indexOf("\t",r),f==-1&&(f=n.length),e=f-r,f==n.length||u+e>=t)return r+Math.min(e,t-u);if(u+=f-r,u+=i-u%i,r=f+1,u>=t)return r}}function ip(n){while(yf.length<=n)yf.push(l(yf)+" ");return yf[n]}function l(n){return n[n.length-1]}function b(n,t){for(var i=0;i<n.length;++i)if(n[i]==t)return i;return-1}function gr(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=t(n[i],i);return r}function rp(n,t){var i,r;return Object.create?i=Object.create(n):(r=function(){},r.prototype=n,i=new r),t&&nu(t,i),i}function nu(n,t,i){t||(t={});for(var r in n)n.hasOwnProperty(r)&&(i!==!1||!t.hasOwnProperty(r))&&(t[r]=n[r]);return t}function bt(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t)}}function ao(n,t){return t?t.source.indexOf("\\w")>-1&&nc(n)?!0:t.test(n):nc(n)}function fp(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t])return!1;return!0}function pf(n){return n.charCodeAt(0)>=768&&ep.test(n)}function i(n,t,i,r){var u=document.createElement(n),f;if(i&&(u.className=i),r&&(u.style.cssText=r),typeof t=="string")u.appendChild(document.createTextNode(t));else if(t)for(f=0;f<t.length;++f)u.appendChild(t[f]);return u}function or(n){for(var t=n.childNodes.length;t>0;--t)n.removeChild(n.firstChild);return n}function lt(n,t){return or(n).appendChild(t)}function od(n,t){if(n.contains)return n.contains(t);while(t=t.parentNode)if(t==n)return!0}function vi(){return document.activeElement}function wf(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function tc(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)r[i]&&!wf(r[i]).test(t)&&(t+=" "+r[i]);return t}function op(n){var i,t,r;if(document.body.getElementsByClassName)for(i=document.body.getElementsByClassName("CodeMirror"),t=0;t<i.length;t++)r=i[t].CodeMirror,r&&n(r)}function sd(){ic||(hd(),ic=!0)}function hd(){var n;e(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null;df=null;op(sb)},100))});e(window,"blur",function(){op(ke)})}function cd(n){if(df!=null)return df;var t=i("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return lt(n,t),t.offsetWidth&&(df=t.offsetHeight-t.clientHeight),df||0}function ld(n){if(rc==null){var t=i("span","​");lt(n,i("span",[t,document.createTextNode("x")]));n.firstChild.offsetHeight!=0&&(rc=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&h<8))}return rc?i("span","​"):i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function ad(n){var i,t,r;return uc!=null?uc:(i=lt(n,document.createTextNode("AخA")),t=tu(i,0,1).getBoundingClientRect(),!t||t.left==t.right)?!1:(r=tu(i,1,2).getBoundingClientRect(),uc=r.right-t.right<3)}function yd(n){if(fc!=null)return fc;var t=lt(n,i("span","x")),r=t.getBoundingClientRect(),u=tu(t,0,1).getBoundingClientRect();return fc=Math.abs(r.left-u.left)>1}function pd(n,t,i,r){var e,f,u;if(!n)return r(t,i,"ltr");for(e=!1,f=0;f<n.length;++f)u=n[f],(u.from<i&&u.to>t||t==i&&u.to==t)&&(r(Math.max(u.from,t),Math.min(u.to,i),u.level==1?"rtl":"ltr"),e=!0);e||r(t,i,"ltr")}function ec(n){return n.level%2?n.to:n.from}function oc(n){return n.level%2?n.from:n.to}function vo(n){var t=pt(n);return t?ec(t[0]):0}function yo(n){var t=pt(n);return t?oc(l(t)):n.text.length}function cp(n,i){var e=r(n.doc,i),u=vt(e),f,o;return u!=e&&(i=a(u)),f=pt(u),o=f?f[0].level%2?yo(u):vo(u):0,t(i,o)}function wd(n,i){for(var e,u=r(n.doc,i),f,o;e=uf(u);)u=e.find(1,!0).line,i=null;return f=pt(u),o=f?f[0].level%2?vo(u):yo(u):u.text.length,t(i==null?a(u):i,o)}function lp(n,i){var u=cp(n,i.line),e=r(n.doc,u.line),o=pt(e),f,s;return!o||o[0].level==0?(f=Math.max(0,e.text.search(/\S/)),s=i.line==u.line&&i.ch<=f&&i.ch,t(u.line,s?0:f)):u}function bd(n,t,i){var r=n[0].level;return t==r?!0:i==r?!1:t<i}function sc(n,t){var r,u,i;for(gf=null,r=0;r<n.length;++r){if(i=n[r],i.from<t&&i.to>t)return r;if(i.from==t||i.to==t)if(u==null)u=r;else return bd(n,i.level,n[u].level)?(i.from!=i.to&&(gf=u),r):(i.from!=i.to&&(gf=r),u)}return u}function hc(n,t,i,r){if(!r)return t+i;do t+=i;while(t>0&&pf(n.text.charAt(t)));return t}function cc(n,t,i,r){var e=pt(n);if(!e)return ap(n,t,i,r);for(var o=sc(e,t),u=e[o],f=hc(n,t,u.level%2?-i:i,r);;){if(f>u.from&&f<u.to)return f;if(f==u.from||f==u.to)return sc(e,f)==o?f:(u=e[o+=i],i>0==u.level%2?u.to:u.from);if(u=e[o+=i],!u)return null;f=i>0==u.level%2?hc(n,u.to,-1,r):hc(n,u.from,1,r)}}function ap(n,t,i,r){var u=t+i;if(r)while(u>0&&pf(n.text.charAt(u)))u+=i;return u<0||u>n.text.length?null:u}var iu=/gecko\/\d/i.test(navigator.userAgent),lc=/MSIE \d/.test(navigator.userAgent),ac=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),s=lc||ac,h=s&&(lc?document.documentMode||6:ac[1]),v=/WebKit\//.test(navigator.userAgent),yp=v&&/Qt\/\d+\.\d+/.test(navigator.userAgent),pp=/Chrome\//.test(navigator.userAgent),et=/Opera\//.test(navigator.userAgent),vc=/Apple Computer/.test(navigator.vendor),po=/KHTML\//.test(navigator.userAgent),wp=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),bp=/PhantomJS/.test(navigator.userAgent),ru=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),wo=ru||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ot=ru||/Mac/.test(navigator.platform),kp=/win/i.test(navigator.platform),yi=et&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),t,o,oe,bi,di,ea,si,ve,ye,uh,wu,ut,va,be,ni,uv,ir,hh,ch,yr,pr,ro,hi,rr,fv,du,ti,nf,ci,ev,tf,ff,li,ry,uy,hy,tt,cy,hf,k,ky,co,ft,yf,dr,up,nc,ep,tu,bf,kf,ic,sp,df,rc,uc,ui,gf,vp;yi&&(yi=Number(yi[1]));yi&&yi>=15&&(et=!1,v=!0);var yc=ot&&(yp||et&&(yi==null||yi<12.11)),bo=iu||s&&h>=9,pc=!1,fi=!1;t=n.Pos=function(n,i){if(!(this instanceof t))return new t(n,i);this.line=n;this.ch=i};o=n.cmpPos=function(n,t){return n.line-t.line||n.ch-t.ch};kt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(n){var t,i,r;if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(t=0;t<this.ranges.length;t++)if(i=this.ranges[t],r=n.ranges[t],o(i.anchor,r.anchor)!=0||o(i.head,r.head)!=0)return!1;return!0},deepCopy:function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new c(vs(this.ranges[n].anchor),vs(this.ranges[n].head));return new kt(t,this.primIndex)},somethingSelected:function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},contains:function(n,t){var i,r;for(t||(t=n),i=0;i<this.ranges.length;i++)if(r=this.ranges[i],o(t,r.from())>=0&&o(n,r.to())<=0)return i;return-1}};c.prototype={from:function(){return ps(this.anchor,this.head)},to:function(){return ys(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};oe={left:0,right:0,top:0,bottom:0};di=null;ea=0;si=null;uh=0;wu=0;ut=null;s?ut=-.53:iu?ut=15:pp?ut=-.7:vc&&(ut=-1/3);va=new lo;be=null;ni=n.changeEnd=function(n){return n.text?t(n.from.line+n.text.length-1,l(n.text).length+(n.text.length==1?n.from.ch:0)):n.to};n.prototype={constructor:n,focus:function(){window.focus();it(this);yu(this)},setOption:function(n,t){var i=this.options,r=i[n];(i[n]!=t||n=="mode")&&(i[n]=t,ir.hasOwnProperty(n)&&y(this,ir[n])(this,t,r))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,t){this.state.keyMaps[t?"push":"unshift"](uo(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,t=0;t<i.length;++t)if(i[t]==n||i[t].name==n)return i.splice(t,1),!0},addOverlay:w(function(t,i){var r=t.token?t:n.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:i&&i.opaque});this.state.modeGen++;rt(this)}),removeOverlay:w(function(n){for(var r,i=this.state.overlays,t=0;t<i.length;++t)if(r=i[t].modeSpec,r==n||typeof n=="string"&&r.name==n){i.splice(t,1);this.state.modeGen++;rt(this);return}}),indentLine:w(function(n,t,i){typeof t!="string"&&typeof t!="number"&&(t=t==null?this.options.smartIndent?"smart":"prev":t?"add":"subtract");eu(this.doc,n)&&ku(this,n,t,i)}),indentSelection:w(function(n){for(var i,u,f,e=this.doc.sel.ranges,r=-1,t=0;t<e.length;t++)if(i=e[t],i.empty())i.head.line>r&&(ku(this,i.head.line,n,!0),r=i.head.line,t==this.doc.sel.primIndex&&ar(this));else{var o=i.from(),s=i.to(),h=Math.max(r,o.line);for(r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1,u=h;u<r;++u)ku(this,u,n);f=this.doc.sel.ranges;o.ch==0&&e.length==f.length&&f[t].from().ch>0&&ws(this.doc,t,new c(o,f[t].to()),ai)}}),getTokenAt:function(n,t){return gv(this,n,t)},getLineTokens:function(n,i){return gv(this,t(n),i,!0)},getTokenTypeAt:function(n){var t,e;n=u(this.doc,n);var f=iy(this,r(this.doc,n.line)),s=0,h=(f.length-1)/2,o=n.ch,i;if(o==0)i=f[2];else for(;;)if(t=s+h>>1,(t?f[t*2-1]:0)>=o)h=t;else if(f[t*2+1]<o)s=t+1;else{i=f[t*2+2];break}return e=i?i.indexOf("cm-overlay "):-1,e<0?i:e==0?null:i.slice(0,e-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?n.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(n,t){return this.getHelpers(n,t)[0]},getHelpers:function(n,t){var f=[],r,i,o,u,e;if(!hi.hasOwnProperty(t))return hi;if(r=hi[t],i=this.getModeAt(n),typeof i[t]=="string")r[i[t]]&&f.push(r[i[t]]);else if(i[t])for(u=0;u<i[t].length;u++)o=r[i[t][u]],o&&f.push(o);else i.helperType&&r[i.helperType]?f.push(r[i.helperType]):r[i.name]&&f.push(r[i.name]);for(u=0;u<r._global.length;u++)e=r._global[u],e.pred(i,this)&&b(f,e.val)==-1&&f.push(e.val);return f},getStateAfter:function(n,t){var i=this.doc;return n=sl(i,n==null?i.first+i.size-1:n),cu(this,n+1,t)},cursorCoords:function(n,t){var r,i=this.doc.sel.primary();return r=n==null?i.head:typeof n=="object"?u(this.doc,n):n?i.from():i.to(),dt(this,r,t||"page")},charCoords:function(n,t){return nh(this,u(this.doc,n),t||"page")},coordsChar:function(n,t){return n=ua(this,n,t||"page"),th(this,n.left,n.top)},lineAtHeight:function(n,t){return n=ua(this,{top:n,left:0},t||"page").top,er(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,t){var u=!1,f=this.doc.first+this.doc.size-1,i;return n<this.doc.first?n=this.doc.first:n>f&&(n=f,u=!0),i=r(this.doc,n),gs(this,i,{top:0,left:0},t||"page").top+(u?this.doc.height-ii(i):0)},defaultTextHeight:function(){return ki(this.display)},defaultCharWidth:function(){return au(this.display)},setGutterMarker:w(function(n,t,i){return io(this.doc,n,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[t]=i,!i&&fp(r)&&(n.gutterMarkers=null),!0})}),clearGutter:w(function(n){var t=this,i=t.doc,r=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[n]&&(i.gutterMarkers[n]=null,gt(t,r,"gutter"),fp(i.gutterMarkers)&&(i.gutterMarkers=null));++r})}),addLineWidget:w(function(n,t,i){return yk(this,n,t,i)}),removeLineWidget:function(n){n.clear()},lineInfo:function(n){var t;if(typeof n=="number"){if(!eu(this.doc,n)||(t=n,n=r(this.doc,n),!n))return null}else if(t=a(n),t==null)return null;return{line:t,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,t,i,r,f){var s=this.display,o,e,h,c;n=dt(this,u(this.doc,n));o=n.bottom;e=n.left;t.style.position="absolute";s.sizer.appendChild(t);r=="over"?o=n.top:(r=="above"||r=="near")&&(h=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth),(r=="above"||n.bottom+t.offsetHeight>h)&&n.top>t.offsetHeight?o=n.top-t.offsetHeight:n.bottom+t.offsetHeight<=h&&(o=n.bottom),e+t.offsetWidth>c&&(e=c-t.offsetWidth));t.style.top=o+"px";t.style.left=t.style.right="";f=="right"?(e=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):(f=="left"?e=0:f=="middle"&&(e=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=e+"px");i&&tk(this,e,o,e+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:w(pa),triggerOnKeyPress:w(ba),triggerOnKeyUp:wa,execCommand:function(n){if(du.hasOwnProperty(n))return du[n](this)},findPosH:function(n,t,i,r){var o=1,e,f;for(t<0&&(o=-1,t=-t),e=0,f=u(this.doc,n);e<t;++e)if(f=sh(this.doc,f,o,i,r),f.hitSide)break;return f},moveH:w(function(n,t){var i=this;i.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?sh(i.doc,r.head,n,t,i.options.rtlMoveVisually):n<0?r.from():r.to()},vf)}),deleteH:w(function(n,t){var r=this.doc.sel,i=this.doc;r.somethingSelected()?i.replaceSelection("",null,"+delete"):vr(this,function(r){var u=sh(i,r.head,n,t,!1);return n<0?{from:u,to:r.head}:{from:r.head,to:u}})}),findPosV:function(n,t,i,r){var h=1,o=r,s,f,e;for(t<0&&(h=-1,t=-t),s=0,f=u(this.doc,n);s<t;++s)if(e=dt(this,f,"div"),o==null?o=e.left:e.left=o,f=rv(this,e,h,i),f.hitSide)break;return f},moveV:w(function(n,t){var r=this,i=this.doc,f=[],e=!r.display.shift&&!i.extend&&i.sel.somethingSelected(),u;if(i.extendSelectionsBy(function(u){var o,s;return e?n<0?u.from():u.to():(o=dt(r,u.head,"div"),u.goalColumn!=null&&(o.left=u.goalColumn),f.push(o.left),s=rv(r,o,n,t),t=="page"&&u==i.sel.primary()&&oh(r,null,nh(r,s,"div").top-o.top),s)},vf),f.length)for(u=0;u<i.sel.ranges.length;u++)i.sel.ranges[u].goalColumn=f[u]}),findWordAt:function(n){var h=this.doc,u=r(h,n.line).text,i=n.ch,f=n.ch,e,o,s;if(u){for(e=this.getHelper(n,"wordChars"),(n.xRel<0||f==u.length)&&i?--i:++f,o=u.charAt(i),s=ao(o,e)?function(n){return ao(n,e)}:/\s/.test(o)?function(n){return/\s/.test(n)}:function(n){return!/\s/.test(n)&&!ao(n)};i>0&&s(u.charAt(i-1));)--i;while(f<u.length&&s(u.charAt(f)))++f}return new c(t(n.line,i),t(n.line,f))},toggleOverwrite:function(n){(n==null||n!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?kf(this.display.cursorDiv,"CodeMirror-overwrite"):bf(this.display.cursorDiv,"CodeMirror-overwrite"),p(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return vi()==this.display.input},scrollTo:w(function(n,t){(n!=null||t!=null)&&to(this);n!=null&&(this.curOp.scrollLeft=n);t!=null&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var n=this.display.scroller,t=wt;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-t,width:n.scrollWidth-t,clientHeight:n.clientHeight-t,clientWidth:n.clientWidth-t}},scrollIntoView:w(function(n,i){if(n==null?(n={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof n=="number"?n={from:t(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,n.from.line!=null)to(this),this.curOp.scrollToPos=n;else{var r=no(this,Math.min(n.from.left,n.to.left),Math.min(n.from.top,n.to.top)-n.margin,Math.max(n.from.right,n.to.right),Math.max(n.from.bottom,n.to.bottom)+n.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:w(function(n,t){function u(n){return typeof n=="number"||/^\d+$/.test(String(n))?n+"px":n}var i=this,r;n!=null&&(i.display.wrapper.style.width=u(n));t!=null&&(i.display.wrapper.style.height=u(t));i.options.lineWrapping&&ta(this);r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(n){if(n.widgets)for(var t=0;t<n.widgets.length;t++)if(n.widgets[t].noHScroll){gt(i,r,"widget");break}++r});i.curOp.forceUpdate=!0;p(i,"refresh",this)}),operation:function(n){return ei(this,n)},refresh:w(function(){var n=this.display.cachedTextHeight;rt(this);this.curOp.forceUpdate=!0;lu(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);ns(this);(n==null||Math.abs(n-ki(this.display))>.5)&&go(this);p(this,"refresh",this)}),swapDoc:w(function(n){var t=this.doc;return t.cm=null,ly(this,n),lu(this),st(this),this.scrollTo(n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,d(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};kr(n);uv=n.defaults={};ir=n.optionHandlers={};hh=n.Init={toString:function(){return"CodeMirror.Init"}};f("value","",function(n,t){n.setValue(t)},!0);f("mode",null,function(n,t){n.doc.modeOption=t;ko(n)},!0);f("indentUnit",2,ko,!0);f("indentWithTabs",!1);f("smartIndent",!0);f("tabSize",4,function(n){uu(n);lu(n);rt(n)},!0);f("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(n,t){n.options.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g");n.refresh()},!0);f("specialCharPlaceholder",bk,function(n){n.refresh()},!0);f("electricChars",!0);f("rtlMoveVisually",!kp);f("wholeLineUpdateBefore",!0);f("theme","default",function(n){bc(n);fu(n)},!0);f("keyMap","default",function(t,i,r){var f=uo(i),u=r!=n.Init&&uo(r);u&&u.detach&&u.detach(t,f);f.attach&&f.attach(t,u||null)});f("extraKeys",null);f("lineWrapping",!1,gp,!0);f("gutters",[],function(n){is(n.options);fu(n)},!0);f("fixedGutter",!0,function(n,t){n.display.gutters.style.left=t?es(n.display)+"px":"0";n.refresh()},!0);f("coverGutterNextToScrollbar",!1,pi,!0);f("lineNumbers",!1,function(n){is(n.options);fu(n)},!0);f("firstLineNumber",1,fu,!0);f("lineNumberFormatter",function(n){return n},fu,!0);f("showCursorWhenSelecting",!1,su,!0);f("resetSelectionOnContextMenu",!0);f("readOnly",!1,function(n,t){t=="nocursor"?(ke(n),n.display.input.blur(),n.display.disabled=!0):(n.display.disabled=!1,t||st(n))});f("disableInput",!1,function(n,t){t||st(n)},!0);f("dragDrop",!0);f("cursorBlinkRate",530);f("cursorScrollMargin",0);f("cursorHeight",1,su,!0);f("singleCursorHeightPerLine",!0,su,!0);f("workTime",100);f("workDelay",100);f("flattenSpans",!0,uu,!0);f("addModeClass",!1,uu,!0);f("pollInterval",100);f("undoDepth",200,function(n,t){n.doc.history.undoDepth=t});f("historyEventDelay",1250);f("viewportMargin",10,function(n){n.refresh()},!0);f("maxHighlightLength",1e4,uu,!0);f("moveInputWithCursor",!0,function(n,t){t||(n.display.inputDiv.style.top=n.display.inputDiv.style.left=0)});f("tabindex",null,function(n,t){n.display.input.tabIndex=t||""});f("autofocus",null);ch=n.modes={};yr=n.mimeModes={};n.defineMode=function(t,i){n.defaults.mode||t=="null"||(n.defaults.mode=t);arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2));ch[t]=i};n.defineMIME=function(n,t){yr[n]=t};n.resolveMode=function(t){if(typeof t=="string"&&yr.hasOwnProperty(t))t=yr[t];else if(t&&typeof t.name=="string"&&yr.hasOwnProperty(t.name)){var i=yr[t.name];typeof i=="string"&&(i={name:i});t=rp(i,t);t.name=i.name}else if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return n.resolveMode("application/xml");return typeof t=="string"?{name:t}:t||{name:"null"}};n.getMode=function(t,i){var i=n.resolveMode(i),e=ch[i.name],u,f,r;if(!e)return n.getMode(t,"text/plain");if(u=e(t,i),pr.hasOwnProperty(i.name)){f=pr[i.name];for(r in f)f.hasOwnProperty(r)&&(u.hasOwnProperty(r)&&(u["_"+r]=u[r]),u[r]=f[r])}if(u.name=i.name,i.helperType&&(u.helperType=i.helperType),i.modeProps)for(r in i.modeProps)u[r]=i.modeProps[r];return u};n.defineMode("null",function(){return{token:function(n){n.skipToEnd()}}});n.defineMIME("text/plain","null");pr=n.modeExtensions={};n.extendMode=function(n,t){var i=pr.hasOwnProperty(n)?pr[n]:pr[n]={};nu(t,i)};n.defineExtension=function(t,i){n.prototype[t]=i};n.defineDocExtension=function(n,t){tt.prototype[n]=t};n.defineOption=f;ro=[];n.defineInitHook=function(n){ro.push(n)};hi=n.helpers={};n.registerHelper=function(t,i,r){hi.hasOwnProperty(t)||(hi[t]=n[t]={_global:[]});hi[t][i]=r};n.registerGlobalHelper=function(t,i,r,u){n.registerHelper(t,i,u);hi[t]._global.push({pred:r,val:u})};rr=n.copyState=function(n,t){var r,u,i;if(t===!0)return t;if(n.copyState)return n.copyState(t);r={};for(u in t)i=t[u],i instanceof Array&&(i=i.concat([])),r[u]=i;return r};fv=n.startState=function(n,t,i){return n.startState?n.startState(t,i):!0};n.innerMode=function(n,t){while(n.innerMode){var i=n.innerMode(t);if(!i||i.mode==n)break;t=i.state;n=i.mode}return i||{mode:n,state:t}};du=n.commands={selectAll:function(n){n.setSelection(t(n.firstLine(),0),t(n.lastLine()),ai)},singleSelection:function(n){n.setSelection(n.getCursor("anchor"),n.getCursor("head"),ai)},killLine:function(n){vr(n,function(i){if(i.empty()){var u=r(n.doc,i.head.line).text.length;return i.head.ch==u&&i.head.line<n.lastLine()?{from:i.head,to:t(i.head.line+1,0)}:{from:i.head,to:t(i.head.line,u)}}return{from:i.from(),to:i.to()}})},deleteLine:function(n){vr(n,function(i){return{from:t(i.from().line,0),to:u(n.doc,t(i.to().line+1,0))}})},delLineLeft:function(n){vr(n,function(n){return{from:t(n.from().line,0),to:n.from()}})},delWrappedLineLeft:function(n){vr(n,function(t){var i=n.charCoords(t.head,"div").top+5,r=n.coordsChar({left:0,top:i},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(n){vr(n,function(t){var i=n.charCoords(t.head,"div").top+5,r=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:r}})},undo:function(n){n.undo()},redo:function(n){n.redo()},undoSelection:function(n){n.undoSelection()},redoSelection:function(n){n.redoSelection()},goDocStart:function(n){n.extendSelection(t(n.firstLine(),0))},goDocEnd:function(n){n.extendSelection(t(n.lastLine()))},goLineStart:function(n){n.extendSelectionsBy(function(t){return cp(n,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){n.extendSelectionsBy(function(t){return lp(n,t.head)},{origin:"+move",bias:1})},goLineEnd:function(n){n.extendSelectionsBy(function(t){return wd(n,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:i},"div")},vf)},goLineLeft:function(n){n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:0,top:i},"div")},vf)},goLineLeftSmart:function(n){n.extendSelectionsBy(function(t){var r=n.charCoords(t.head,"div").top+5,i=n.coordsChar({left:0,top:r},"div");return i.ch<n.getLine(i.line).search(/\S/)?lp(n,t.head):i},vf)},goLineUp:function(n){n.moveV(-1,"line")},goLineDown:function(n){n.moveV(1,"line")},goPageUp:function(n){n.moveV(-1,"page")},goPageDown:function(n){n.moveV(1,"page")},goCharLeft:function(n){n.moveH(-1,"char")},goCharRight:function(n){n.moveH(1,"char")},goColumnLeft:function(n){n.moveH(-1,"column")},goColumnRight:function(n){n.moveH(1,"column")},goWordLeft:function(n){n.moveH(-1,"word")},goGroupRight:function(n){n.moveH(1,"group")},goGroupLeft:function(n){n.moveH(-1,"group")},goWordRight:function(n){n.moveH(1,"word")},delCharBefore:function(n){n.deleteH(-1,"char")},delCharAfter:function(n){n.deleteH(1,"char")},delWordBefore:function(n){n.deleteH(-1,"word")},delWordAfter:function(n){n.deleteH(1,"word")},delGroupBefore:function(n){n.deleteH(-1,"group")},delGroupAfter:function(n){n.deleteH(1,"group")},indentAuto:function(n){n.indentSelection("smart")},indentMore:function(n){n.indentSelection("add")},indentLess:function(n){n.indentSelection("subtract")},insertTab:function(n){n.replaceSelection("\t")},insertSoftTab:function(n){for(var r,e,u=[],f=n.listSelections(),t=n.options.tabSize,i=0;i<f.length;i++)r=f[i].from(),e=ft(n.getLine(r.line),r.ch,t),u.push(new Array(t-e%t+1).join(" "));n.replaceSelections(u)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){ei(n,function(){for(var i,u,f,o=n.listSelections(),s=[],e=0;e<o.length;e++)i=o[e].head,u=r(n.doc,i.line).text,u&&(i.ch==u.length&&(i=new t(i.line,i.ch-1)),i.ch>0?(i=new t(i.line,i.ch+1),n.replaceRange(u.charAt(i.ch-1)+u.charAt(i.ch-2),t(i.line,i.ch-2),i,"+transpose")):i.line>n.doc.first&&(f=r(n.doc,i.line-1).text,f&&n.replaceRange(u.charAt(0)+"\n"+f.charAt(f.length-1),t(i.line-1,f.length-1),t(i.line,1),"+transpose"))),s.push(new c(i,i));n.setSelections(s)})},newlineAndIndent:function(n){ei(n,function(){for(var t,r=n.listSelections().length,i=0;i<r;i++)t=n.listSelections()[i],n.replaceRange("\n",t.anchor,t.head,"+input"),n.indentLine(t.from().line+1,null,!0),ar(n)})},toggleOverwrite:function(n){n.toggleOverwrite()}};ti=n.keyMap={};ti.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ti.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ti.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};ti.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};ti["default"]=ot?ti.macDefault:ti.pcDefault;n.normalizeKeyMap=function(n){var u={},t,o,f,i,e,r,s,h;for(t in n)if(n.hasOwnProperty(t)){if(o=n[t],/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if(o=="..."){delete n[t];continue}for(f=gr(t.split(" "),ik),i=0;i<f.length;i++)if(i==f.length-1?(r=t,e=o):(r=f.slice(0,i+1).join(" "),e="..."),s=u[r],s){if(s!=e)throw new Error("Inconsistent bindings for "+r);}else u[r]=e;delete n[t]}for(h in u)n[h]=u[h];return n};var gu=n.lookupKey=function(n,t,i){var r,u,f;if(t=uo(t),r=t.call?t.call(n):t[n],r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return gu(n,t.fallthrough,i);for(u=0;u<t.fallthrough.length;u++)if(f=gu(n,t.fallthrough[u],i),f)return f}},rk=n.isModifierKey=function(n){var t=typeof n=="string"?n:ui[n.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"},uk=n.keyName=function(n,t){if(et&&n.keyCode==34&&n.char)return!1;var r=ui[n.keyCode],i=r;return i==null||n.altGraphKey?!1:(n.altKey&&r!="Alt"&&(i="Alt-"+i),(yc?n.metaKey:n.ctrlKey)&&r!="Ctrl"&&(i="Ctrl-"+i),(yc?n.ctrlKey:n.metaKey)&&r!="Cmd"&&(i="Cmd-"+i),!t&&n.shiftKey&&r!="Shift"&&(i="Shift-"+i),i)};n.fromTextArea=function(t,i){function f(){t.value=r.getValue()}var o,u,s,h,r;if(i||(i={}),i.value=t.value,!i.tabindex&&t.tabindex&&(i.tabindex=t.tabindex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),i.autofocus==null&&(o=vi(),i.autofocus=o==t||t.getAttribute("autofocus")!=null&&o==document.body),t.form&&(e(t.form,"submit",f),!i.leaveSubmitMethodAlone)){u=t.form;s=u.submit;try{h=u.submit=function(){f();u.submit=s;u.submit();u.submit=h}}catch(c){}}return t.style.display="none",r=n(function(n){t.parentNode.insertBefore(n,t.nextSibling)},i),r.save=f,r.getTextArea=function(){return t},r.toTextArea=function(){r.toTextArea=isNaN;f();t.parentNode.removeChild(r.getWrapperElement());t.style.display="";t.form&&(ri(t.form,"submit",f),typeof t.form.submit=="function"&&(t.form.submit=s))},r};nf=n.StringStream=function(n,t){this.pos=this.start=0;this.string=n;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};nf.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(n){var t=this.string.charAt(this.pos),i;return i=typeof n=="string"?t==n:t&&(n.test?n.test(t):n(t)),i?(++this.pos,t):void 0},eatWhile:function(n){for(var t=this.pos;this.eat(n););return this.pos>t},eatSpace:function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},skipToEnd:function(){this.pos=this.string.length},skipTo:function(n){var t=this.string.indexOf(n,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(n){this.pos-=n},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ft(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ft(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ft(this.string,null,this.tabSize)-(this.lineStart?ft(this.string,this.lineStart,this.tabSize):0)},match:function(n,t,i){var u,f,r;if(typeof n=="string"){if(u=function(n){return i?n.toLowerCase():n},f=this.string.substr(this.pos,n.length),u(f)==u(n))return t!==!1&&(this.pos+=n.length),!0}else return(r=this.string.slice(this.pos).match(n),r&&r.index>0)?null:(r&&t!==!1&&(this.pos+=r[0].length),r)},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,t){this.lineStart+=n;try{return t()}finally{this.lineStart-=n}}};ci=n.TextMarker=function(n,t){this.lines=[];this.type=t;this.doc=n};kr(ci);ci.prototype.clear=function(){var n,e,u,f,o,t,r,i,s,h;if(!this.explicitlyCleared){for(n=this.doc.cm,e=n&&!n.curOp,e&&gi(n),ct(this,"clear")&&(u=this.find(),u&&d(this,"clear",u.from,u.to)),f=null,o=null,i=0;i<this.lines.length;++i)t=this.lines[i],r=rf(t.markedSpans,this),n&&!this.collapsed?gt(n,a(t),"text"):n&&(r.to!=null&&(o=a(t)),r.from!=null&&(f=a(t))),t.markedSpans=sk(t.markedSpans,r),r.from==null&&this.collapsed&&!ur(this.doc,t)&&n&&yt(t,ki(n.display));if(n&&this.collapsed&&!n.options.lineWrapping)for(i=0;i<this.lines.length;++i)s=vt(this.lines[i]),h=ne(s),h>n.display.maxLineLength&&(n.display.maxLine=s,n.display.maxLineLength=h,n.display.maxLineChanged=!0);f!=null&&n&&this.collapsed&&rt(n,f,o+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&vl(n.doc));n&&d(n,"markerCleared",n,this);e&&nr(n);this.parent&&this.parent.clear()}};ci.prototype.find=function(n,i){var f,o,e,r,u;for(n==null&&this.type=="bookmark"&&(n=1),e=0;e<this.lines.length;++e){if(r=this.lines[e],u=rf(r.markedSpans,this),u.from!=null&&(f=t(i?r:a(r),u.from),n==-1))return f;if(u.to!=null&&(o=t(i?r:a(r),u.to),n==1))return o}return f&&{from:f,to:o}};ci.prototype.changed=function(){var i=this.find(-1,!0),t=this,n=this.doc.cm;i&&n&&ei(n,function(){var r=i.line,o=a(i.line),f=dl(n,o),e,u;f&&(na(f),n.curOp.selectionChanged=n.curOp.forceUpdate=!0);n.curOp.updateMaxLine=!0;ur(t.doc,r)||t.height==null||(e=t.height,t.height=null,u=ef(t)-e,u&&yt(r,r.height+u))})};ci.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&b(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)};ci.prototype.detachLine=function(n){if(this.lines.splice(b(this.lines,n),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};ev=0;tf=n.SharedTextMarker=function(n,t){this.markers=n;this.primary=t;for(var i=0;i<n.length;++i)n[i].parent=this};kr(tf);tf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();d(this,"clear")}};tf.prototype.find=function(n,t){return this.primary.find(n,t)};ff=n.LineWidget=function(n,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.cm=n;this.node=t};kr(ff);ff.prototype.clear=function(){var r=this.cm,n=this.line.widgets,t=this.line,f=a(t),i,u;if(f!=null&&n){for(i=0;i<n.length;++i)n[i]==this&&n.splice(i--,1);n.length||(t.widgets=null);u=ef(this);ei(r,function(){bv(r,t,-u);gt(r,f,"widget");yt(t,Math.max(0,t.height-u))})}};ff.prototype.changed=function(){var r=this.height,t=this.cm,i=this.line,n;(this.height=null,n=ef(this)-r,n)&&ei(t,function(){t.curOp.forceUpdate=!0;bv(t,i,n);yt(i,i.height+n)})};li=n.Line=function(n,t,i){this.text=n;lv(this,t);this.height=i?i(this):1};kr(li);li.prototype.lineNo=function(){return a(this)};ry={};uy={};of.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,t){for(var r,i=n,u=n+t;i<u;++i)r=this.lines[i],this.height-=r.height,wk(r),d(r,"delete");this.lines.splice(n,t)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,t,i){this.height+=i;this.lines=this.lines.slice(0,n).concat(t).concat(this.lines.slice(n));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(n,t,i){for(var r=n+t;n<r;++n)if(i(this.lines[n]))return!0}};sf.prototype={chunkSize:function(){return this.size},removeInner:function(n,t){var r,i,u,f,o,e;for(this.size-=t,r=0;r<this.children.length;++r)if(i=this.children[r],u=i.chunkSize(),n<u){if(f=Math.min(t,u-n),o=i.height,i.removeInner(n,f),this.height-=o-i.height,u==f&&(this.children.splice(r--,1),i.parent=null),(t-=f)==0)break;n=0}else n-=u;this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof of))&&(e=[],this.collapse(e),this.children=[new of(e)],this.children[0].parent=this)},collapse:function(n){for(var t=0;t<this.children.length;++t)this.children[t].collapse(n)},insertInner:function(n,t,i){var u,r,e,o,f;for(this.size+=t.length,this.height+=i,u=0;u<this.children.length;++u){if(r=this.children[u],e=r.chunkSize(),n<=e){if(r.insertInner(n,t,i),r.lines&&r.lines.length>50){while(r.lines.length>50)o=r.lines.splice(r.lines.length-25,25),f=new of(o),r.height-=f.height,this.children.splice(u+1,0,f),f.parent=this;this.maybeSpill()}break}n-=e}},maybeSpill:function(){var n,r,t,i,u;if(!(this.children.length<=10)){n=this;do r=n.children.splice(n.children.length-5,5),t=new sf(r),n.parent?(n.size-=t.size,n.height-=t.height,u=b(n.parent.children,n),n.parent.children.splice(u+1,0,t)):(i=new sf(n.children),i.parent=n,n.children=[i,t],n=i),t.parent=n.parent;while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,t,i){for(var f,u,e,r=0;r<this.children.length;++r)if(f=this.children[r],u=f.chunkSize(),n<u){if(e=Math.min(t,u-n),f.iterN(n,e,i))return!0;if((t-=e)==0)break;n=0}else n-=u}};hy=0;tt=n.Doc=function(n,i,r){if(!(this instanceof tt))return new tt(n,i,r);r==null&&(r=0);sf.call(this,[new of([new li("",null)])]);this.first=r;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=r;var u=t(r,0);this.sel=wi(u);this.history=new so(null);this.id=++hy;this.modeOption=i;typeof n=="string"&&(n=sr(n));wh(this,{from:u,to:u,text:n});g(this,wi(u),ai)};tt.prototype=rp(sf.prototype,{constructor:tt,iter:function(n,t,i){i?this.iterN(n-this.first,t-n,i):this.iterN(this.first,this.first+this.size,n)},insert:function(n,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(n-this.first,t,r)},remove:function(n,t){this.removeInner(n-this.first,t)},getValue:function(n){var t=bh(this,this.first,this.first+this.size);return n===!1?t:t.join(n||"\n")},setValue:nt(function(n){var i=t(this.first,0),u=this.first+this.size-1;lr(this,{from:i,to:t(u,r(this,u).text.length),text:sr(n),origin:"setValue"},!0);g(this,wi(i))}),replaceRange:function(n,t,i,r){t=u(this,t);i=i?u(this,i):t;ge(this,n,t,i,r)},getRange:function(n,t,i){var r=cf(this,u(this,n),u(this,t));return i===!1?r:r.join(i||"\n")},getLine:function(n){var t=this.getLineHandle(n);return t&&t.text},getLineHandle:function(n){if(eu(this,n))return r(this,n)},getLineNumber:function(n){return a(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=r(this,n)),vt(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return u(this,n)},getCursor:function(n){var t=this.sel.primary();return n==null||n=="head"?t.head:n=="anchor"?t.anchor:n=="end"||n=="to"||n===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nt(function(n,i,r){cl(this,u(this,typeof n=="number"?t(n,i||0):n),null,r)}),setSelection:nt(function(n,t,i){cl(this,u(this,n),u(this,t||n),i)}),extendSelection:nt(function(n,t,i){re(this,u(this,n),t&&u(this,t),i)}),extendSelections:nt(function(n,t){hl(this,sw(this,n,t))}),extendSelectionsBy:nt(function(n,t){hl(this,gr(this.sel.ranges,n),t)}),setSelections:nt(function(n,t,i){if(n.length){for(var r=0,f=[];r<n.length;r++)f[r]=new c(u(this,n[r].anchor),u(this,n[r].head));t==null&&(t=Math.min(n.length-1,this.sel.primIndex));g(this,at(f,t),i)}}),addSelection:nt(function(n,t,i){var r=this.sel.ranges.slice(0);r.push(new c(u(this,n),u(this,t||n)));g(this,at(r,r.length-1),i)}),getSelection:function(n){for(var u,r=this.sel.ranges,t,i=0;i<r.length;i++)u=cf(this,r[i].from(),r[i].to()),t=t?t.concat(u):u;return n===!1?t:t.join(n||"\n")},getSelections:function(n){for(var i,u=[],r=this.sel.ranges,t=0;t<r.length;t++)i=cf(this,r[t].from(),r[t].to()),n!==!1&&(i=i.join(n||"\n")),u[t]=i;return u},replaceSelection:function(n,t,i){for(var u=[],r=0;r<this.sel.ranges.length;r++)u[r]=n;this.replaceSelections(u,t,i||"+input")},replaceSelections:nt(function(n,t,i){for(var f,e,u=[],o=this.sel,r=0;r<o.ranges.length;r++)f=o.ranges[r],u[r]={from:f.from(),to:f.to(),text:sr(n[r]),origin:i};for(e=t&&t!="end"&&kb(this,u,t),r=u.length-1;r>=0;r--)lr(this,u[r]);e?ll(this,e):this.cm&&ar(this.cm)}),undo:nt(function(){de(this,"undo")}),redo:nt(function(){de(this,"redo")}),undoSelection:nt(function(){de(this,"undo",!0)}),redoSelection:nt(function(){de(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,i=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++i;for(n=0;n<t.undone.length;n++)t.undone[n].ranges||++r;return{undo:i,redo:r}},clearHistory:function(){this.history=new so(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:br(this.history.done),undone:br(this.history.undone)}},setHistory:function(n){var t=this.history=new so(this.history.maxGeneration);t.done=br(n.done.slice(0),null,!0);t.undone=br(n.undone.slice(0),null,!0)},addLineClass:nt(function(n,t,i){return io(this,n,t=="gutter"?"gutter":"class",function(n){var r=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(n[r]){if(wf(i).test(n[r]))return!1;n[r]+=" "+i}else n[r]=i;return!0})}),removeLineClass:nt(function(n,t,i){return io(this,n,"class",function(n){var f=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",u=n[f],r,e;if(u)if(i==null)n[f]=null;else{if(r=u.match(wf(i)),!r)return!1;e=r.index+r[0].length;n[f]=u.slice(0,r.index)+(!r.index||e==u.length?"":" ")+u.slice(e)||null}else return!1;return!0})}),markText:function(n,t,i){return wr(this,u(this,n),u(this,t),i,"range")},setBookmark:function(n,t){var i={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return n=u(this,n),wr(this,n,n,i,"bookmark")},findMarksAt:function(n){var e,i,f,t;if(n=u(this,n),e=[],i=r(this,n.line).markedSpans,i)for(f=0;f<i.length;++f)t=i[f],(t.from==null||t.from<=n.ch)&&(t.to==null||t.to>=n.ch)&&e.push(t.marker.parent||t.marker);return e},findMarks:function(n,t,i){n=u(this,n);t=u(this,t);var f=[],r=n.line;return this.iter(n.line,t.line+1,function(u){var s=u.markedSpans,o,e;if(s)for(o=0;o<s.length;o++)e=s[o],r==n.line&&n.ch>e.to||e.from==null&&r!=n.line||r==t.line&&e.from>t.ch||i&&!i(e.marker)||f.push(e.marker.parent||e.marker);++r}),f},getAllMarks:function(){var n=[];return this.iter(function(t){var r=t.markedSpans,i;if(r)for(i=0;i<r.length;++i)r[i].from!=null&&n.push(r[i].marker)}),n},posFromIndex:function(n){var i,r=this.first;return this.iter(function(t){var u=t.text.length+1;if(u>n)return i=n,!0;n-=u;++r}),u(this,t(r,i))},indexFromPos:function(n){n=u(this,n);var t=n.ch;return n.line<this.first||n.ch<0?0:(this.iter(this.first,n.line,function(n){t+=n.text.length+1}),t)},copy:function(n){var t=new tt(bh(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,n&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(n){var i,r,t;return n||(n={}),i=this.first,r=this.first+this.size,n.from!=null&&n.from>i&&(i=n.from),n.to!=null&&n.to<r&&(r=n.to),t=new tt(bh(this,i,r),n.mode||this.modeOption,i),n.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:n.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],ek(t,ov(this)),t},unlinkDoc:function(t){var i,u,r;if(t instanceof n&&(t=t.doc),this.linked)for(i=0;i<this.linked.length;++i)if(u=this.linked[i],u.doc==t){this.linked.splice(i,1);t.unlinkDoc(this);ok(ov(this));break}t.history==this.history&&(r=[t.id],fr(t,function(n){r.push(n.id)},!0),t.history=new so(null),t.history.done=br(this.history.done,r),t.history.undone=br(this.history.undone,r))},iterLinkedDocs:function(n){fr(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});tt.prototype.eachLine=tt.prototype.iter;cy="iter insert remove copy getEditor".split(" ");for(hf in tt.prototype)tt.prototype.hasOwnProperty(hf)&&b(cy,hf)<0&&(n.prototype[hf]=function(n){return function(){return n.apply(this.doc,arguments)}}(tt.prototype[hf]));kr(tt);k=n.e_preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1};ky=n.e_stopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0};co=n.e_stop=function(n){k(n);ky(n)};var e=n.on=function(n,t,i){if(n.addEventListener)n.addEventListener(t,i,!1);else if(n.attachEvent)n.attachEvent("on"+t,i);else{var r=n._handlers||(n._handlers={}),u=r[t]||(r[t]=[]);u.push(i)}},ri=n.off=function(n,t,i){var r,u;if(n.removeEventListener)n.removeEventListener(t,i,!1);else if(n.detachEvent)n.detachEvent("on"+t,i);else{if(r=n._handlers&&n._handlers[t],!r)return;for(u=0;u<r.length;++u)if(r[u]==i){r.splice(u,1);break}}},p=n.signal=function(n,t){var r=n._handlers&&n._handlers[t],u,i;if(r)for(u=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,u)},af=null;var wt=30,np=n.Pass={toString:function(){return"CodeMirror.Pass"}},ai={scroll:!1},gh={origin:"*mouse"},vf={origin:"+move"};lo.prototype.set=function(n,t){clearTimeout(this.id);this.id=setTimeout(t,n)};ft=n.countColumn=function(n,t,i,r,u){var f,e,o;for(t==null&&(t=n.search(/[^\s\u00a0]/),t==-1&&(t=n.length)),f=r||0,e=u||0;;){if(o=n.indexOf("\t",f),o<0||o>=t)return e+(t-f);e+=o-f;e+=i-e%i;f=o+1}};yf=[""];dr=function(n){n.select()};ru?dr=function(n){n.selectionStart=0;n.selectionEnd=n.value.length}:s&&(dr=function(n){try{n.select()}catch(t){}});[].indexOf&&(b=function(n,t){return n.indexOf(t)});[].map&&(gr=function(n,t){return n.map(t)});up=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;nc=n.isWordChar=function(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||up.test(n))};ep=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;tu=document.createRange?function(n,t,i){var r=document.createRange();return r.setEnd(n,i),r.setStart(n,t),r}:function(n,t,i){var r=document.body.createTextRange();try{r.moveToElementText(n.parentNode)}catch(u){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};s&&h<11&&(vi=function(){try{return document.activeElement}catch(n){return document.body}});bf=n.rmClass=function(n,t){var r=n.className,i=wf(t).exec(r),u;i&&(u=r.slice(i.index+i[0].length),n.className=r.slice(0,i.index)+(u?i[1]+u:""))};kf=n.addClass=function(n,t){var i=n.className;wf(t).test(i)||(n.className+=(i?" ":"")+t)};ic=!1;sp=function(){if(s&&h<9)return!1;var n=i("div");return"draggable"in n||"dragDrop"in n}();var sr=n.splitLines="\n\nb".split(/\n/).length!=3?function(n){for(var i=0,f=[],e=n.length,t,r,u;i<=e;)t=n.indexOf("\n",i),t==-1&&(t=n.length),r=n.slice(i,n.charAt(t-1)=="\r"?t-1:t),u=r.indexOf("\r"),u!=-1?(f.push(r.slice(0,u)),i+=u+1):(f.push(r),i=t+1);return f}:function(n){return n.split(/\r\n?|\n/)},vd=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(t){return!1}}:function(n){try{var t=n.ownerDocument.selection.createRange()}catch(i){}return!t||t.parentElement()!=n?!1:t.compareEndPoints("StartToEnd",t)!=0},hp=function(){var n=i("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),fc=null;return ui={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},n.keyNames=ui,function(){for(var n=0;n<10;n++)ui[n+48]=ui[n+96]=String(n);for(n=65;n<=90;n++)ui[n]=String.fromCharCode(n);for(n=1;n<=12;n++)ui[n+111]=ui[n+63235]="F"+n}(),vp=function(){function s(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1773?o.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":n==8204?"b":"L"}function n(n,t,i){this.level=n;this.from=t;this.to=i}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,u=/[Lb1n]/,f=/[1n]/,t="L";return function(e){var y,c,b,tt,d,v,w,p,g,o,it,k,nt,a,rt;if(!h.test(e))return!1;for(y=e.length,c=[],o=0;o<y;++o)c.push(v=s(e.charCodeAt(o)));for(o=0,b=t;o<y;++o)v=c[o],v=="m"?c[o]=b:b=v;for(o=0,d=t;o<y;++o)v=c[o],v=="1"&&d=="r"?c[o]="n":r.test(v)&&(d=v,v=="r"&&(c[o]="R"));for(o=1,b=c[0];o<y-1;++o)v=c[o],v=="+"&&b=="1"&&c[o+1]=="1"?c[o]="1":v==","&&b==c[o+1]&&(b=="1"||b=="n")&&(c[o]=b),b=v;for(o=0;o<y;++o)if(v=c[o],v==",")c[o]="N";else if(v=="%"){for(w=o+1;w<y&&c[w]=="%";++w);for(tt=o&&c[o-1]=="!"||w<y&&c[w]=="1"?"1":"N",a=o;a<w;++a)c[a]=tt;o=w-1}for(o=0,d=t;o<y;++o)v=c[o],d=="L"&&v=="1"?c[o]="L":r.test(v)&&(d=v);for(o=0;o<y;++o)if(i.test(c[o])){for(w=o+1;w<y&&i.test(c[w]);++w);var ut=(o?c[o-1]:t)=="L",ft=(w<y?c[w]:t)=="L",tt=ut||ft?"L":"R";for(a=o;a<w;++a)c[a]=tt;o=w-1}for(p=[],o=0;o<y;)if(u.test(c[o])){for(it=o,++o;o<y&&u.test(c[o]);++o);p.push(new n(0,it,o))}else{for(k=o,nt=p.length,++o;o<y&&c[o]!="L";++o);for(a=k;a<o;)if(f.test(c[a])){for(k<a&&p.splice(nt,0,new n(1,k,a)),rt=a,++a;a<o&&f.test(c[a]);++a);p.splice(nt,0,new n(2,rt,a));k=a}else++a;k<o&&p.splice(nt,0,new n(1,k,o))}return p[0].level==1&&(g=e.match(/^\s+/))&&(p[0].from=g[0].length,p.unshift(new n(0,0,g[0].length))),l(p).level==1&&(g=e.match(/\s+$/))&&(l(p).to-=g[0].length,p.push(new n(0,y-g[0].length,y))),p[0].level!=l(p).level&&p.push(new n(p[0].level,y,y)),p}}(),n.version="4.8.0",n});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("xml",function(t,i){function e(n,t){function i(i){return t.tokenize=i,i(n,t)}var r=n.next(),u;return r=="<"?n.eat("!")?n.eat("[")?n.match("CDATA[")?i(a("atom","]\]>")):null:n.match("--")?i(a("comment","-->")):n.match("DOCTYPE",!0,!0)?(n.eatWhile(/[\w\._\-]/),i(v(1))):null:n.eat("?")?(n.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta"):(f=n.eat("/")?"closeTag":"openTag",t.tokenize=l,"tag bracket"):r=="&"?(u=n.eat("#")?n.eat("x")?n.eatWhile(/[a-fA-F\d]/)&&n.eat(";"):n.eatWhile(/[\d]/)&&n.eat(";"):n.eatWhile(/[\w\.\-:]/)&&n.eat(";"),u?"atom":"error"):(n.eatWhile(/[^&<]/),null)}function l(n,t){var i=n.next(),r;return i==">"||i=="/"&&n.eat(">")?(t.tokenize=e,f=i==">"?"endTag":"selfcloseTag","tag bracket"):i=="="?(f="equals",null):i=="<"?(t.tokenize=e,t.state=s,t.tagName=t.tagStart=null,r=t.tokenize(n,t),r?r+" tag error":"tag error"):/[\'\"]/.test(i)?(t.tokenize=tt(i),t.stringStartCol=n.column(),t.tokenize(n,t)):(n.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function tt(n){var t=function(t,i){while(!t.eol())if(t.next()==n){i.tokenize=l;break}return"string"};return t.isInAttribute=!0,t}function a(n,t){return function(i,r){while(!i.eol()){if(i.match(t)){r.tokenize=e;break}i.next()}return n}}function v(n){return function(t,i){for(var r;(r=t.next())!=null;){if(r=="<")return i.tokenize=v(n+1),i.tokenize(t,i);if(r==">")if(n==1){i.tokenize=e;break}else return i.tokenize=v(n-1),i.tokenize(t,i)}return"meta"}}function it(n,t,i){this.prev=n.context;this.tagName=t;this.indent=n.indented;this.startOfLine=i;(u.doNotIndent.hasOwnProperty(t)||n.context&&n.context.noIndent)&&(this.noIndent=!0)}function y(n){n.context&&(n.context=n.context.prev)}function b(n,t){for(var i;;){if(!n.context)return;if(i=n.context.tagName,!u.contextGrabbers.hasOwnProperty(i)||!u.contextGrabbers[i].hasOwnProperty(t))return;y(n)}}function s(n,t,i){return n=="openTag"?(i.tagStart=t.column(),k):n=="closeTag"?rt:s}function k(n,t,i){return n=="word"?(i.tagName=t.current(),r="tag",o):(r="error",k)}function rt(n,t,i){if(n=="word"){var f=t.current();return i.context&&i.context.tagName!=f&&u.implicitlyClosed.hasOwnProperty(i.context.tagName)&&y(i),i.context&&i.context.tagName==f?(r="tag",p):(r="tag error",d)}return r="error",d}function p(n,t,i){return n!="endTag"?(r="error",p):(y(i),s)}function d(n,t,i){return r="error",p(n,t,i)}function o(n,t,i){if(n=="word")return r="attribute",ut;if(n=="endTag"||n=="selfcloseTag"){var f=i.tagName,e=i.tagStart;return i.tagName=i.tagStart=null,n=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(f)?b(i,f):(b(i,f),i.context=new it(i,f,e==i.indented)),s}return r="error",o}function ut(n,t,i){return n=="equals"?ft:(u.allowMissing||(r="error"),o(n,t,i))}function ft(n,t,i){return n=="string"?g:n=="word"&&u.allowUnquoted?(r="string",o):(r="error",o(n,t,i))}function g(n,t,i){return n=="string"?g:o(n,t,i)}var h=t.indentUnit,nt=i.multilineTagIndentFactor||1,c=i.multilineTagIndentPastTag,u,w,f,r;return c==null&&(c=!0),u=i.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},w=i.alignCDATA,{startState:function(){return{tokenize:e,state:s,indented:0,tagName:null,tagStart:null,context:null}},token:function(n,t){if(!t.tagName&&n.sol()&&(t.indented=n.indentation()),n.eatSpace())return null;f=null;var i=t.tokenize(n,t);return(i||f)&&i!="comment"&&(r=null,t.state=t.state(f||i,n,t),r&&(i=r=="error"?i+" error":r)),i},indent:function(t,i,r){var f=t.context,o,s;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+h;if(f&&f.noIndent)return n.Pass;if(t.tokenize!=l&&t.tokenize!=e)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return c?t.tagStart+t.tagName.length+2:t.tagStart+h*nt;if(w&&/<!\[CDATA\[/.test(i))return 0;if(o=i&&/^<(\/)?([\w_:\.-]*)/.exec(i),o&&o[1])while(f)if(f.tagName==o[2]){f=f.prev;break}else if(u.implicitlyClosed.hasOwnProperty(f.tagName))f=f.prev;else break;else if(o)while(f)if(s=u.contextGrabbers[f.tagName],s&&s.hasOwnProperty(o[2]))f=f.prev;else break;while(f&&!f.startOfLine)f=f.prev;return f?f.indent+h:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:i.htmlMode?"html":"xml",helperType:i.htmlMode?"html":"xml"}});n.defineMIME("text/xml","xml");n.defineMIME("application/xml","xml");n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("javascript",function(t,i){function bi(n){for(var r=!1,t,i=!1;(t=n.next())!=null;){if(!r){if(t=="/"&&!i)return;t=="["?i=!0:i&&t=="]"&&(i=!1)}r=!r&&t=="\\"}}function c(n,t,i){return nt=n,et=i,t}function w(n,t){var i=n.next(),r,u;return i=='"'||i=="'"?(t.tokenize=ki(i),t.tokenize(n,t)):i=="."&&n.match(/^\d+(?:[eE][+\-]?\d+)?/)?c("number","number"):i=="."&&n.match("..")?c("spread","meta"):/[\[\]{}\(\),;\:\.]/.test(i)?c(i):i=="="&&n.eat(">")?c("=>","operator"):i=="0"&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),c("number","number")):/\d/.test(i)?(n.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),c("number","number")):i=="/"?n.eat("*")?(t.tokenize=ot,ot(n,t)):n.eat("/")?(n.skipToEnd(),c("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||t.lastType=="sof"||/^[\[{}\(,;:]$/.test(t.lastType)?(bi(n),n.eatWhile(/[gimy]/),c("regexp","string-2")):(n.eatWhile(vt),c("operator","operator",n.current())):i=="`"?(t.tokenize=yt,yt(n,t)):i=="#"?(n.skipToEnd(),c("error","error")):vt.test(i)?(n.eatWhile(vt),c("operator","operator",n.current())):at.test(i)?(n.eatWhile(at),r=n.current(),u=ui.propertyIsEnumerable(r)&&ui[r],u&&t.lastType!="."?c(u.type,u.style,r):c("variable","variable",r)):void 0}function ki(n){return function(t,i){var r=!1,u;if(ft&&t.peek()=="@"&&t.match(wi))return i.tokenize=w,c("jsonld-keyword","meta");while((u=t.next())!=null){if(u==n&&!r)break;r=!r&&u=="\\"}return r||(i.tokenize=w),c("string","string")}}function ot(n,t){for(var r=!1,i;i=n.next();){if(i=="/"&&r){t.tokenize=w;break}r=i=="*"}return c("comment","comment")}function yt(n,t){for(var r=!1,i;(i=n.next())!=null;){if(!r&&(i=="`"||i=="$"&&n.eat("{"))){t.tokenize=w;break}r=!r&&i=="\\"}return c("quasi","string-2",n.current())}function pt(n,t){var e,r,f,i,o,u;if(t.fatArrowAt&&(t.fatArrowAt=null),e=n.string.indexOf("=>",n.start),!(e<0)){for(r=0,f=!1,i=e-1;i>=0;--i)if(o=n.string.charAt(i),u=di.indexOf(o),u>=0&&u<3){if(!r){++i;break}if(--r==0)break}else if(u>=3&&u<6)++r;else if(at.test(o))f=!0;else if(f&&!r){++i;break}f&&!r&&(t.fatArrowAt=i)}}function fi(n,t,i,r,u,f){this.indented=n;this.column=t;this.type=i;this.prev=u;this.info=f;r!=null&&(this.align=r)}function nr(n,t){for(var r,i=n.localVars;i;i=i.next)if(i.name==t)return!0;for(r=n.context;r;r=r.prev)for(i=r.vars;i;i=i.next)if(i.name==t)return!0}function tr(n,t,i,r,f){var e=n.cc,o;for(u.state=n,u.stream=f,u.marked=null,u.cc=e,u.style=t,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;)if(o=e.length?e.pop():p?h:l,o(i,r)){while(e.length&&e[e.length-1].lex)e.pop()();return u.marked?u.marked:i=="variable"&&nr(n,r)?"variable-2":t}}function f(){for(var n=arguments.length-1;n>=0;n--)u.cc.push(arguments[n])}function r(){return f.apply(null,arguments),!0}function b(n){function r(t){for(var i=t;i;i=i.next)if(i.name==n)return!0;return!1}var t=u.state;if(t.context){if(u.marked="def",r(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(r(t.globalVars))return;i.globalVars&&(t.globalVars={name:n,next:t.globalVars})}}function k(){u.state.context={prev:u.state.context,vars:u.state.localVars};u.state.localVars=ir}function d(){u.state.localVars=u.state.context.vars;u.state.context=u.state.context.prev}function o(n,t){var i=function(){var r=u.state,f=r.indented,i;if(r.lexical.type=="stat")f=r.lexical.indented;else for(i=r.lexical;i&&i.type==")"&&i.align;i=i.prev)f=i.indented;r.lexical=new fi(f,u.stream.column(),n,null,r.lexical,t)};return i.lex=!0,i}function e(){var n=u.state;n.lexical.prev&&(n.lexical.type==")"&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function s(n){function t(i){return i==n?r():n==";"?f():r(t)}return t}function l(n,t){return n=="var"?r(o("vardef",t.length),dt,s(";"),e):n=="keyword a"?r(o("form"),h,l,e):n=="keyword b"?r(o("form"),l,e):n=="{"?r(o("}"),kt,e):n==";"?r():n=="if"?(u.state.lexical.info=="else"&&u.state.cc[u.state.cc.length-1]==e&&u.state.cc.pop()(),r(o("form"),h,l,e,li)):n=="function"?r(v):n=="for"?r(o("form"),ai,l,e):n=="variable"?r(o("stat"),ur):n=="switch"?r(o("form"),h,o("}","switch"),s("{"),kt,e,e):n=="case"?r(h,s(":")):n=="default"?r(s(":")):n=="catch"?r(o("form"),k,s("("),ni,s(")"),l,e,d):n=="module"?r(o("form"),k,pr,d,e):n=="class"?r(o("form"),vr,e):n=="export"?r(o("form"),wr,e):n=="import"?r(o("form"),br,e):f(o("stat"),h,s(";"),e)}function h(n){return ei(n,!1)}function a(n){return ei(n,!0)}function ei(n,t){var c,i;if(u.state.fatArrowAt==u.stream.start){if(c=t?hi:si,n=="(")return r(k,o(")"),it(g,")"),e,s("=>"),c,d);if(n=="variable")return f(k,g,s("=>"),c,d)}return(i=t?bt:st,gi.hasOwnProperty(n))?r(i):n=="function"?r(v,i):n=="keyword c"?r(t?oi:wt):n=="("?r(o(")"),wt,lt,s(")"),e,i):n=="operator"||n=="spread"?r(t?a:h):n=="["?r(o("]"),kr,e,i):n=="{"?rt(er,"}",null,i):n=="quasi"?f(ht,i):r()}function wt(n){return n.match(/[;\}\)\],]/)?f():f(h)}function oi(n){return n.match(/[;\}\)\],]/)?f():f(a)}function st(n,t){return n==","?r(h):bt(n,t,!1)}function bt(n,t,i){var u=i==!1?st:bt,c=i==!1?h:a;return n=="=>"?r(k,i?hi:si,d):n=="operator"?/\+\+|--/.test(t)?r(u):t=="?"?r(h,s(":"),c):r(c):n=="quasi"?f(ht,u):n==";"?void 0:n=="("?rt(a,")","call",u):n=="."?r(fr,u):n=="["?r(o("]"),wt,s("]"),e,u):void 0}function ht(n,t){return n!="quasi"?f():t.slice(t.length-2)!="${"?r(ht):r(h,rr)}function rr(n){if(n=="}")return u.marked="string-2",u.state.tokenize=yt,r(ht)}function si(n){return pt(u.stream,u.state),f(n=="{"?l:h)}function hi(n){return pt(u.stream,u.state),f(n=="{"?l:a)}function ur(n){return n==":"?r(e,l):f(st,s(";"),e)}function fr(n){if(n=="variable")return u.marked="property",r()}function er(n,t){return n=="variable"||u.style=="keyword"?(u.marked="property",t=="get"||t=="set")?r(or):r(tt):n=="number"||n=="string"?(u.marked=ft?"property":u.style+" property",r(tt)):n=="jsonld-keyword"?r(tt):n=="["?r(h,s("]"),tt):void 0}function or(n){return n!="variable"?f(tt):(u.marked="property",r(v))}function tt(n){return n==":"?r(a):n=="("?f(v):void 0}function it(n,t){function i(f){if(f==","){var e=u.state.lexical;return e.info=="call"&&(e.pos=(e.pos||0)+1),r(n,i)}return f==t?r():r(s(t))}return function(u){return u==t?r():f(n,i)}}function rt(n,t,i){for(var f=3;f<arguments.length;f++)u.cc.push(arguments[f]);return r(o(t,i),it(n,t),e)}function kt(n){return n=="}"?r():f(l,kt)}function ci(n){if(ri&&n==":")return r(sr)}function sr(n){if(n=="variable")return u.marked="variable-3",r()}function dt(){return f(g,ci,gt,cr)}function g(n,t){return n=="variable"?(b(t),r()):n=="["?rt(g,"]"):n=="{"?rt(hr,"}"):void 0}function hr(n,t){return n=="variable"&&!u.stream.match(/^\s*:/,!1)?(b(t),r(gt)):(n=="variable"&&(u.marked="property"),r(s(":"),g,gt))}function gt(n,t){if(t=="=")return r(a)}function cr(n){if(n==",")return r(dt)}function li(n,t){if(n=="keyword b"&&t=="else")return r(o("form","else"),l,e)}function ai(n){if(n=="(")return r(o(")"),lr,s(")"),e)}function lr(n){return n=="var"?r(dt,s(";"),ct):n==";"?r(ct):n=="variable"?r(ar):f(h,s(";"),ct)}function ar(n,t){return t=="in"||t=="of"?(u.marked="keyword",r(h)):r(st,ct)}function ct(n,t){return n==";"?r(vi):t=="in"||t=="of"?(u.marked="keyword",r(h)):f(h,s(";"),vi)}function vi(n){n!=")"&&r(h)}function v(n,t){return t=="*"?(u.marked="keyword",r(v)):n=="variable"?(b(t),r(v)):n=="("?r(k,o(")"),it(ni,")"),e,l,d):void 0}function ni(n){return n=="spread"?r(ni):f(g,ci)}function vr(n,t){if(n=="variable")return b(t),r(yi)}function yi(n,t){return t=="extends"?r(h,yi):n=="{"?r(o("}"),ut,e):void 0}function ut(n,t){return n=="variable"||u.style=="keyword"?(u.marked="property",t=="get"||t=="set")?r(yr,v,ut):r(v,ut):t=="*"?(u.marked="keyword",r(ut)):n==";"?r(ut):n=="}"?r():void 0}function yr(n){return n!="variable"?f():(u.marked="property",r())}function pr(n,t){return n=="string"?r(l):n=="variable"?(b(t),r(ti)):void 0}function wr(n,t){return t=="*"?(u.marked="keyword",r(ti,s(";"))):t=="default"?(u.marked="keyword",r(h,s(";"))):f(l)}function br(n){return n=="string"?r():f(pi,ti)}function pi(n,t){return n=="{"?rt(pi,"}"):(n=="variable"&&b(t),r())}function ti(n,t){if(t=="from")return u.marked="keyword",r(h)}function kr(n){return n=="]"?r():f(a,dr)}function dr(n){return n=="for"?f(lt,s("]")):n==","?r(it(oi,"]")):f(it(a,"]"))}function lt(n){return n=="for"?r(ai,lt):n=="if"?r(h,lt):void 0}var y=t.indentUnit,ii=i.statementIndent,ft=i.jsonld,p=i.json||ft,ri=i.typescript,at=i.wordCharacters||/[\w$\xa1-\uffff]/,ui=function(){function n(n){return{type:n,style:"keyword"}}var s=n("keyword a"),u=n("keyword b"),t=n("keyword c"),f=n("operator"),i={type:"atom",style:"atom"},h={"if":n("if"),"while":s,"with":s,"else":u,"do":u,"try":u,"finally":u,"return":t,"break":t,"continue":t,"new":t,"delete":t,"throw":t,"debugger":t,"var":n("var"),"const":n("var"),"let":n("var"),"function":n("function"),"catch":n("catch"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,"typeof":f,"instanceof":f,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":n("this"),module:n("module"),"class":n("class"),"super":n("atom"),"yield":t,"export":n("export"),"import":n("import"),"extends":t},r,e,o;if(ri){r={type:"variable",style:"variable-3"};e={"interface":n("interface"),"extends":n("extends"),constructor:n("constructor"),"public":n("public"),"private":n("private"),"protected":n("protected"),"static":n("static"),string:r,number:r,bool:r,any:r};for(o in e)h[o]=e[o]}return h}(),vt=/[+\-*&%=<>!?|~^]/,wi=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,nt,et,di="([{}])",gi={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},u={state:null,column:null,marked:null,cc:null},ir={name:"this",next:{name:"arguments"}};return e.lex=!0,{startState:function(n){var t={tokenize:w,lastType:"sof",cc:[],lexical:new fi((n||0)-y,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:0};return i.globalVars&&typeof i.globalVars=="object"&&(t.globalVars=i.globalVars),t},token:function(n,t){if(n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation(),pt(n,t)),t.tokenize!=ot&&n.eatSpace())return null;var i=t.tokenize(n,t);return nt=="comment"?i:(t.lastType=nt=="operator"&&(et=="++"||et=="--")?"incdec":nt,tr(t,i,nt,et,n))},indent:function(t,r){var o,u,s,c,f,h;if(t.tokenize==ot)return n.Pass;if(t.tokenize!=w)return 0;if(o=r&&r.charAt(0),u=t.lexical,!/^\s*else\b/.test(r))for(s=t.cc.length-1;s>=0;--s)if(c=t.cc[s],c==e)u=u.prev;else if(c!=li)break;return u.type=="stat"&&o=="}"&&(u=u.prev),ii&&u.type==")"&&u.prev.type=="stat"&&(u=u.prev),f=u.type,h=o==f,f=="vardef"?u.indented+(t.lastType=="operator"||t.lastType==","?u.info+1:0):f=="form"&&o=="{"?u.indented:f=="form"?u.indented+y:f=="stat"?u.indented+(t.lastType=="operator"||t.lastType==","?ii||y:0):u.info!="switch"||h||i.doubleIndentSwitch==!1?u.align?u.column+(h?0:1):u.indented+(h?0:y):u.indented+(/^(?:case|default)\b/.test(r)?y:2*y)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",lineComment:p?null:"//",fold:"brace",helperType:p?"json":"javascript",jsonldMode:ft,jsonMode:p}});n.registerHelper("wordChars","javascript",/[\w$]/);n.defineMIME("text/javascript","javascript");n.defineMIME("text/ecmascript","javascript");n.defineMIME("application/javascript","javascript");n.defineMIME("application/x-javascript","javascript");n.defineMIME("application/ecmascript","javascript");n.defineMIME("application/json",{name:"javascript",json:!0});n.defineMIME("application/x-json",{name:"javascript",json:!0});n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});n.defineMIME("text/typescript",{name:"javascript",typescript:!0});n.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function t(n){for(var i={},t=0;t<n.length;++t)i[n[t]]=!0;return i}function i(n,t){for(var r=!1,i;(i=n.next())!=null;){if(r&&i=="/"){t.tokenize=null;break}r=i=="*"}return["comment","comment"]}function w(n,t){return n.skipTo("-->")?(n.match("-->"),t.tokenize=null):n.skipToEnd(),["comment","comment"]}n.defineMode("css",function(t,i){function f(n,t){return l=t,n}function rt(n,t){var i=n.next(),r;if(v[i]&&(r=v[i](n,t),r!==!1))return r;if(i=="@")return n.eatWhile(/[\w\\\-]/),f("def",n.current());if(i=="="||(i=="~"||i=="|")&&n.eat("="))return f(null,"compare");if(i=='"'||i=="'")return t.tokenize=y(i),t.tokenize(n,t);if(i=="#")return n.eatWhile(/[\w\\\-]/),f("atom","hash");if(i=="!")return n.match(/^\s*\w*/),f("keyword","important");if(/\d/.test(i)||i=="."&&n.eat(/\d/))return n.eatWhile(/[\w.%]/),f("number","unit");if(i==="-"){if(/[\d.]/.test(n.peek()))return n.eatWhile(/[\w.%]/),f("number","unit");if(n.match(/^\w+-/))return f("meta","meta")}else return/[,+>*\/]/.test(i)?f(null,"select-op"):i=="."&&n.match(/^-?[_a-z][_a-z0-9-]*/i)?f("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?f(null,i):i=="u"&&n.match("rl(")?(n.backUp(1),t.tokenize=ut,f("property","word")):/[\w\\\-]/.test(i)?(n.eatWhile(/[\w\\\-]/),f("property","word")):f(null,null)}function y(n){return function(t,i){for(var r=!1,u;(u=t.next())!=null;){if(u==n&&!r){n==")"&&t.backUp(1);break}r=!r&&u=="\\"}return u!=n&&(r||n==")")||(i.tokenize=null),f("string","string")}}function ut(n,t){return n.next(),t.tokenize=n.match(/\s*[\"\')]/,!1)?null:y(")"),f(null,"(")}function p(n,t,i){this.type=n;this.indent=t;this.prev=i}function e(n,t,i){return n.context=new p(i,t.indentation()+a,n.context),i}function o(n){return n.context=n.context.prev,n.context.type}function c(n,t,i){return u[i.context.type](n,t,i)}function s(n,t,i,r){for(var u=r||1;u>0;u--)i.context=i.context.prev;return c(n,t,i)}function w(n){var t=n.current().toLowerCase();r=tt.hasOwnProperty(t)?"atom":nt.hasOwnProperty(t)?"keyword":"variable"}var u;i.propertyKeywords||(i=n.resolveMode("text/css"));var a=t.indentUnit,v=i.tokenHooks,b=i.mediaTypes||{},k=i.mediaFeatures||{},d=i.propertyKeywords||{},g=i.nonStandardPropertyKeywords||{},nt=i.colorKeywords||{},tt=i.valueKeywords||{},it=i.fontProperties||{},h=i.allowNested,l,r;return u={},u.top=function(n,t,i){if(n=="{")return e(i,t,"block");if(n=="}"&&i.context.prev)return o(i);if(n=="@media")return e(i,t,"media");if(n=="@font-face")return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(n))return"keyframes";if(n&&n.charAt(0)=="@")return e(i,t,"at");if(n=="hash")r="builtin";else if(n=="word")r="tag";else{if(n=="variable-definition")return"maybeprop";if(n=="interpolation")return e(i,t,"interpolation");if(n==":")return"pseudo";if(h&&n=="(")return e(i,t,"parens")}return i.context.type},u.block=function(n,t,i){if(n=="word"){var f=t.current().toLowerCase();return d.hasOwnProperty(f)?(r="property","maybeprop"):g.hasOwnProperty(f)?(r="string-2","maybeprop"):h?(r=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(r+=" error","maybeprop")}return n=="meta"?"block":h||n!="hash"&&n!="qualifier"?u.top(n,t,i):(r="error","block")},u.maybeprop=function(n,t,i){return n==":"?e(i,t,"prop"):c(n,t,i)},u.prop=function(n,t,i){if(n==";")return o(i);if(n=="{"&&h)return e(i,t,"propBlock");if(n=="}"||n=="{")return s(n,t,i);if(n=="(")return e(i,t,"parens");if(n!="hash"||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if(n=="word")w(t);else if(n=="interpolation")return e(i,t,"interpolation")}else r+=" error";return"prop"},u.propBlock=function(n,t,i){return n=="}"?o(i):n=="word"?(r="property","maybeprop"):i.context.type},u.parens=function(n,t,i){return n=="{"||n=="}"?s(n,t,i):n==")"?o(i):n=="("?e(i,t,"parens"):(n=="word"&&w(t),"parens")},u.pseudo=function(n,t,i){return n=="word"?(r="variable-3",i.context.type):c(n,t,i)},u.media=function(n,t,i){if(n=="(")return e(i,t,"media_parens");if(n=="}")return s(n,t,i);if(n=="{")return o(i)&&e(i,t,h?"block":"top");if(n=="word"){var u=t.current().toLowerCase();r=u=="only"||u=="not"||u=="and"?"keyword":b.hasOwnProperty(u)?"attribute":k.hasOwnProperty(u)?"property":"error"}return i.context.type},u.media_parens=function(n,t,i){return n==")"?o(i):n=="{"||n=="}"?s(n,t,i,2):u.media(n,t,i)},u.font_face_before=function(n,t,i){return n=="{"?e(i,t,"font_face"):c(n,t,i)},u.font_face=function(n,t,i){return n=="}"?o(i):n=="word"?(r=it.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},u.keyframes=function(n,t,i){return n=="word"?(r="variable","keyframes"):n=="{"?e(i,t,"top"):c(n,t,i)},u.at=function(n,t,i){return n==";"?o(i):n=="{"||n=="}"?s(n,t,i):(n=="word"?r="tag":n=="hash"&&(r="builtin"),"at")},u.interpolation=function(n,t,i){return n=="}"?o(i):n=="{"||n==";"?s(n,t,i):(n!="variable"&&(r="error"),"interpolation")},{startState:function(n){return{tokenize:null,state:"top",context:new p("top",n||0,null)}},token:function(n,t){if(!t.tokenize&&n.eatSpace())return null;var i=(t.tokenize||rt)(n,t);return i&&typeof i=="object"&&(l=i[1],i=i[0]),r=i,t.state=u[t.state](l,n,t),r},indent:function(n,t){var i=n.context,r=t&&t.charAt(0),u=i.indent;return i.type=="prop"&&(r=="}"||r==")")&&(i=i.prev),i.prev&&(r=="}"&&(i.type=="block"||i.type=="top"||i.type=="interpolation"||i.type=="font_face")||r==")"&&(i.type=="parens"||i.type=="media_parens")||r=="{"&&(i.type=="at"||i.type=="media"))&&(u=i.indent-a,i=i.prev),u},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var c=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],r=t(c),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],u=t(l),a=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],f=t(a),v=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],e=t(v),y=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],o=t(y),p=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],s=t(p),h=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),b=c.concat(l).concat(a).concat(v).concat(y).concat(p);n.registerHelper("hintWords","css",b);n.defineMIME("text/css",{mediaTypes:r,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:e,colorKeywords:o,valueKeywords:s,fontProperties:h,tokenHooks:{"<":function(n,t){return n.match("!--")?(t.tokenize=w,w(n,t)):!1},"/":function(n,t){return n.eat("*")?(t.tokenize=i,i(n,t)):!1}},name:"css"});n.defineMIME("text/x-scss",{mediaTypes:r,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:e,colorKeywords:o,valueKeywords:s,fontProperties:h,allowNested:!0,tokenHooks:{"/":function(n,t){return n.eat("/")?(n.skipToEnd(),["comment","comment"]):n.eat("*")?(t.tokenize=i,i(n,t)):["operator","operator"]},":":function(n){return n.match(/\s*\{/)?[null,"{"]:!1},$:function(n){return(n.match(/^[\w-]+/),n.match(/^\s*:/,!1))?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(n){return n.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"});n.defineMIME("text/x-less",{mediaTypes:r,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:e,colorKeywords:o,valueKeywords:s,fontProperties:h,allowNested:!0,tokenHooks:{"/":function(n,t){return n.eat("/")?(n.skipToEnd(),["comment","comment"]):n.eat("*")?(t.tokenize=i,i(n,t)):["operator","operator"]},"@":function(n){return n.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(n.eatWhile(/[\w\\\-]/),n.match(/^\s*:/,!1))?["variable-2","variable-definition"]:["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("htmlmixed",function(t,i){function h(n,t){var e=t.htmlState.tagName,s,i,h,f;if(e&&(e=e.toLowerCase()),s=r.token(n,t.htmlState),e=="script"&&/\btag\b/.test(s)&&n.current()==">"){for(i=n.string.slice(Math.max(0,n.pos-100),n.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i),i=i?i[1]:"",i&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1)),h=0;h<u.length;++h)if(f=u[h],typeof f.matches=="string"?i==f.matches:f.matches.test(i)){f.mode&&(t.token=l,t.localMode=f.mode,t.localState=f.mode.startState&&f.mode.startState(r.indent(t.htmlState,"")));break}}else e=="style"&&/\btag\b/.test(s)&&n.current()==">"&&(t.token=a,t.localMode=o,t.localState=o.startState(r.indent(t.htmlState,"")));return s}function c(n,t,i){var r=n.current(),u=r.search(t),f;return u>-1?n.backUp(r.length-u):(f=r.match(/<\/?$/))&&(n.backUp(r.length),n.match(t,!1)||n.match(r)),i}function l(n,t){return n.match(/^<\/\s*script\s*>/i,!1)?(t.token=h,t.localState=t.localMode=null,null):c(n,/<\/\s*script\s*>/,t.localMode.token(n,t.localState))}function a(n,t){return n.match(/^<\/\s*style\s*>/i,!1)?(t.token=h,t.localState=t.localMode=null,null):c(n,/<\/\s*style\s*>/,o.token(n,t.localState))}var r=n.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag}),o=n.getMode(t,"css"),u=[],s=i&&i.scriptTypes,f,e;if(u.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:n.getMode(t,"javascript")}),s)for(f=0;f<s.length;++f)e=s[f],u.push({matches:e.matches,mode:e.mode&&n.getMode(t,e.mode)});return u.push({matches:/./,mode:n.getMode(t,"text/plain")}),{startState:function(){var n=r.startState();return{token:h,localMode:null,localState:null,htmlState:n}},copyState:function(t){if(t.localState)var i=n.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:i,htmlState:n.copyState(r,t.htmlState)}},token:function(n,t){return t.token(n,t)},indent:function(t,i){return!t.localMode||/^\s*<\//.test(i)?r.indent(t.htmlState,i):t.localMode.indent?t.localMode.indent(t.localState,i):n.Pass},innerMode:function(n){return{state:n.localState||n.htmlState,mode:n.localMode||r}}}},"xml","javascript","css");n.defineMIME("text/html","htmlmixed")});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror",require("../xml/xml"),require("../meta"))):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("markdown",function(t,i){function ft(i){var r,u;return n.findModeByName&&(r=n.findModeByName(i),r&&(i=r.mime||r.mimes[0])),u=n.getMode(t,i),u.name=="null"?null:u}function y(n,t,i){return t.f=t.inline=i,i(n,t)}function dt(n,t,i){return t.f=t.block=i,i(n,t)}function tt(n){return n.linkTitle=!1,n.em=!1,n.strong=!1,n.strikethrough=!1,n.quote=0,h||n.f!=p||(n.f=u,n.block=f),n.trailingSpace=0,n.trailingSpaceNewLine=!1,n.thisLineHasContent=!1,null}function f(n,t){var e=n.sol(),o=t.list!==!1,u,f;return(t.list!==!1&&t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.list!==!1&&t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):t.list!==!1&&(t.list=!1,t.listDepth=0),u=null,t.indentationDiff>=4)?(t.indentation-=4,n.skipToEnd(),c):n.eatSpace()?null:(u=n.match(wt))?(t.header=u[0].length<=6?u[0].length:6,i.highlightFormatting&&(t.formatting="header"),t.f=t.inline,r(t)):t.prevLineHasContent&&(u=n.match(bt))?(t.header=u[0].charAt(0)=="="?1:2,i.highlightFormatting&&(t.formatting="header"),t.f=t.inline,r(t)):n.eat(">")?(t.indentation++,t.quote=e?1:t.quote+1,i.highlightFormatting&&(t.formatting="quote"),n.eatSpace(),r(t)):n.peek()==="["?y(n,t,ri):n.match(pt,!0)?ht:(!t.prevLineHasContent||o)&&(n.match(d,!1)||n.match(g,!1))?(f=null,n.match(d,!0)?f="ul":(n.match(g,!0),f="ol"),t.indentation+=4,t.list=!0,t.listDepth++,i.taskLists&&n.match(nt,!1)&&(t.taskList=!0),t.f=t.inline,i.highlightFormatting&&(t.formatting=["list","list-"+f]),r(t)):i.fencedCodeBlocks&&n.match(/^```[ \t]*([\w+#]*)/,!0)?(t.localMode=ft(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=gt,i.highlightFormatting&&(t.formatting="code-block"),t.code=!0,r(t)):y(n,t,t.inline)}function p(n,t){var i=e.token(n,t.htmlState);return(h&&t.htmlState.tagStart===null&&!t.htmlState.context||t.md_inside&&n.current().indexOf(">")>-1)&&(t.f=u,t.block=f,t.htmlState=null),i}function gt(n,t){return n.sol()&&n.match("```",!1)?(t.localMode=t.localState=null,t.f=t.block=ni,null):t.localMode?t.localMode.token(n,t.localState):(n.skipToEnd(),c)}function ni(n,t){n.match("```");t.block=f;t.f=u;i.highlightFormatting&&(t.formatting="code-block");t.code=!0;var e=r(t);return t.code=!1,e}function r(n){var t=[],r,u;if(n.formatting)for(t.push(o),typeof n.formatting=="string"&&(n.formatting=[n.formatting]),r=0;r<n.formatting.length;r++)t.push(o+"-"+n.formatting[r]),n.formatting[r]==="header"&&t.push(o+"-"+n.formatting[r]+"-"+n.header),n.formatting[r]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=n.quote?t.push(o+"-"+n.formatting[r]+"-"+n.quote):t.push("error"));return n.taskOpen?(t.push("meta"),t.length?t.join(" "):null):n.taskClosed?(t.push("property"),t.length?t.join(" "):null):n.linkHref?(t.push(v),t.length?t.join(" "):null):(n.strong&&t.push(vt),n.em&&t.push(at),n.strikethrough&&t.push(yt),n.linkText&&t.push(k),n.code&&t.push(c),n.header&&(t.push(b),t.push(b+"-"+n.header)),n.quote&&(t.push(l),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=n.quote?t.push(l+"-"+n.quote):t.push(l+"-"+i.maxBlockquoteDepth)),n.list!==!1&&(u=(n.listDepth-1)%3,u?u===1?t.push(ot):t.push(st):t.push(et)),n.trailingSpaceNewLine?t.push("trailing-space-new-line"):n.trailingSpace&&t.push("trailing-space-"+(n.trailingSpace%2?"a":"b")),t.length?t.join(" "):null)}function ti(n,t){return n.match(kt,!0)?r(t):undefined}function u(t,u){var k=u.text(t,u),d,g,f,h,tt,ut,ft,c,o,et,l,y,b,s;if(typeof k!="undefined")return k;if(u.list)return u.list=null,r(u);if(u.taskList)return d=t.match(nt,!0)[1]!=="x",d?u.taskOpen=!0:u.taskClosed=!0,i.highlightFormatting&&(u.formatting="task"),u.taskList=!1,r(u);if(u.taskOpen=!1,u.taskClosed=!1,u.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(u.formatting="header"),r(u);if(g=t.sol(),f=t.next(),f==="\\"&&(t.next(),i.highlightFormatting))return o=r(u),o?o+" formatting-escape":"formatting-escape";if(u.linkTitle&&(u.linkTitle=!1,h=f,f==="("&&(h=")"),h=(h+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),tt="^\\s*(?:[^"+h+"\\\\]+|\\\\\\\\|\\\\.)"+h,t.match(new RegExp(tt),!0)))return v;if(f==="`")return ut=u.formatting,i.highlightFormatting&&(u.formatting="code"),s=r(u),ft=t.pos,t.eatWhile("`"),c=1+t.pos-ft,u.code?c===w?(u.code=!1,s):(u.formatting=ut,r(u)):(w=c,u.code=!0,r(u));if(u.code)return r(u);if(f==="!"&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),u.inline=u.f=rt,ct;if(f==="["&&t.match(/.*\](\(| ?\[)/,!1))return u.linkText=!0,i.highlightFormatting&&(u.formatting="link"),r(u);if(f==="]"&&u.linkText)return i.highlightFormatting&&(u.formatting="link"),o=r(u),u.linkText=!1,u.inline=u.f=rt,o;if(f==="<"&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return u.f=u.inline=it,i.highlightFormatting&&(u.formatting="link"),o=r(u),o?o+=" ":o="",o+a;if(f==="<"&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return u.f=u.inline=it,i.highlightFormatting&&(u.formatting="link"),o=r(u),o?o+=" ":o="",o+lt;if(f==="<"&&t.match(/^\w/,!1))return t.string.indexOf(">")!=-1&&(et=t.string.substring(1,t.string.indexOf(">")),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(et)&&(u.md_inside=!0)),t.backUp(1),u.htmlState=n.startState(e),dt(t,u,p);if(f==="<"&&t.match(/^\/\w*?>/))return u.md_inside=!1,"tag";if(l=!1,i.underscoresBreakWords||f==="_"&&t.peek()!=="_"&&t.match(/(\w)/,!1)&&(y=t.pos-2,y>=0&&(b=t.string.charAt(y),b!=="_"&&b.match(/(\w)/,!1)&&(l=!0))),f!=="*"&&(f!=="_"||l)){if(f===" "&&(t.eat("*")||t.eat("_"))){if(t.peek()===" ")return r(u);t.backUp(1)}}else if(!g||t.peek()!==" "){if(u.strong===f&&t.eat(f))return i.highlightFormatting&&(u.formatting="strong"),s=r(u),u.strong=!1,s;if(!u.strong&&t.eat(f))return u.strong=f,i.highlightFormatting&&(u.formatting="strong"),r(u);if(u.em===f)return i.highlightFormatting&&(u.formatting="em"),s=r(u),u.em=!1,s;if(!u.em)return u.em=f,i.highlightFormatting&&(u.formatting="em"),r(u)}if(i.strikethrough)if(f==="~"&&t.eatWhile(f)){if(u.strikethrough)return i.highlightFormatting&&(u.formatting="strikethrough"),s=r(u),u.strikethrough=!1,s;if(t.match(/^[^\s]/,!1))return u.strikethrough=!0,i.highlightFormatting&&(u.formatting="strikethrough"),r(u)}else if(f===" "&&t.match(/^~~/,!0)){if(t.peek()===" ")return r(u);t.backUp(2)}return f===" "&&(t.match(/ +$/,!1)?u.trailingSpace++:u.trailingSpace&&(u.trailingSpaceNewLine=!0)),r(u)}function it(n,t){var e=n.next(),f;return e===">"?(t.f=t.inline=u,i.highlightFormatting&&(t.formatting="link"),f=r(t),f?f+=" ":f="",f+a):(n.match(/^[^>]+/,!0),a)}function rt(n,t){if(n.eatSpace())return null;var u=n.next();return u==="("||u==="["?(t.f=t.inline=ii(u==="("?")":"]"),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,r(t)):"error"}function ii(n){return function(t,f){var o=t.next(),e;return o===n?(f.f=f.inline=u,i.highlightFormatting&&(f.formatting="link-string"),e=r(f),f.linkHref=!1,e):(t.match(ei(n),!0)&&t.backUp(1),f.linkHref=!0,r(f))}}function ri(n,t){return n.match(/^[^\]]*\]:/,!1)?(t.f=ui,n.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,r(t)):y(n,t,u)}function ui(n,t){if(n.match(/^\]:/,!0)){t.f=t.inline=fi;i.highlightFormatting&&(t.formatting="link");var u=r(t);return t.linkText=!1,u}return n.match(/^[^\]]+/,!0),k}function fi(n,t){return n.eatSpace()?null:(n.match(/^[^\s]+/,!0),n.peek()===undefined?t.linkTitle=!0:n.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=u,v)}function ei(n){return s[n]||(n=(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),s[n]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+n+")")),s[n]}var h=n.modes.hasOwnProperty("xml"),e=n.getMode(t,h?{name:"xml",htmlMode:!0}:"text/plain"),s,ut;i.highlightFormatting===undefined&&(i.highlightFormatting=!1);i.maxBlockquoteDepth===undefined&&(i.maxBlockquoteDepth=0);i.underscoresBreakWords===undefined&&(i.underscoresBreakWords=!0);i.fencedCodeBlocks===undefined&&(i.fencedCodeBlocks=!1);i.taskLists===undefined&&(i.taskLists=!1);i.strikethrough===undefined&&(i.strikethrough=!1);var w=0,b="header",c="comment",l="quote",et="variable-2",ot="variable-3",st="keyword",ht="hr",ct="tag",o="formatting",a="link",lt="link",k="link",v="string",at="em",vt="strong",yt="strikethrough",pt=/^([*\-=_])(?:\s*\1){2,}\s*$/,d=/^[*\-+]\s+/,g=/^[0-9]+\.\s+/,nt=/^\[(x| )\](?=\s)/,wt=/^#+/,bt=/^(?:\={1,}|-{1,})$/,kt=/^[^#!\[\]*_\\<>` "'(~]+/;return s=[],ut={startState:function(){return{f:f,prevLineHasContent:!1,thisLineHasContent:!1,block:f,htmlState:null,indentation:0,inline:u,text:ti,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&n.copyState(e,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?n.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(n,t){var r,u,i,f;if(t.formatting=!1,n.sol()){if(r=!!t.header,t.header=0,n.match(/^\s*$/,!0)||r)return t.prevLineHasContent=!1,tt(t),r?this.token(n,t):null;if(t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block,u=n.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=Math.floor((u-t.indentation)/4)*4,i>4&&(i=4),f=t.indentation+i,t.indentationDiff=f-t.indentation,t.indentation=f,u>0)return null}return t.f(n,t)},innerMode:function(n){return n.block==p?{state:n.htmlState,mode:e}:n.localState?{state:n.localState,mode:n.localMode}:{state:n,mode:ut}},blankLine:tt,getType:r,fold:"markdown"}},"xml");n.defineMIME("text/x-markdown","markdown")});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.overlayMode=function(t,i,r){return{startState:function(){return{base:n.startState(t),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:n.copyState(t,r.base),overlay:n.copyState(i,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(n,u){return(n!=u.streamSeen||Math.min(u.basePos,u.overlayPos)<n.start)&&(u.streamSeen=n,u.basePos=u.overlayPos=n.start),n.start==u.basePos&&(u.baseCur=t.token(n,u.base),u.basePos=n.pos),n.start==u.overlayPos&&(n.pos=n.start,u.overlayCur=i.token(n,u.overlay),u.overlayPos=n.pos),n.pos=Math.min(u.basePos,u.overlayPos),u.overlayCur==null?u.baseCur:u.baseCur!=null&&u.overlay.combineTokens||r&&u.overlay.combineTokens==null?u.baseCur+" "+u.overlayCur:u.overlayCur},indent:t.indent&&function(n,i){return t.indent(n.base,i)},electricChars:t.electricChars,innerMode:function(n){return{state:n.base,mode:t}},blankLine:function(n){t.blankLine&&t.blankLine(n.base);i.blankLine&&i.blankLine(n.overlay)}}}});
(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("gfm",function(t,i){function e(n){return n.code=!1,null}var u=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(n){return{code:n.code,codeBlock:n.codeBlock,ateSpace:n.ateSpace}},token:function(n,t){var r,i;return(t.combineTokens=null,t.codeBlock)?n.match(/^```/)?(t.codeBlock=!1,null):(n.skipToEnd(),null):(n.sol()&&(t.code=!1),n.sol()&&n.match(/^```/))?(n.skipToEnd(),t.codeBlock=!0,null):n.peek()==="`"?(n.next(),r=n.pos,n.eatWhile("`"),i=1+n.pos-r,t.code?i===u&&(t.code=!1):(u=i,t.code=!0),null):t.code?(n.next(),null):n.eatSpace()?(t.ateSpace=!0,null):(n.sol()||t.ateSpace)&&((t.ateSpace=!1,n.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))||n.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))?(t.combineTokens=!0,"link"):n.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i)&&n.string.slice(n.start-2,n.start)!="]("?(t.combineTokens=!0,"link"):(n.next(),null)},blankLine:e},r={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0,strikethrough:!0};for(var f in i)r[f]=i[f];return r.name="markdown",n.defineMIME("gfmBase",r),n.overlayMode(n.getMode(t,"gfmBase"),o)},"markdown")});
"use strict";function uiCodemirrorDirective(n,t){function i(n,i,o,s){var c=angular.extend({value:i.text()},t.codemirror||{},n.$eval(o.uiCodemirror),n.$eval(o.uiCodemirrorOpts)),h=r(i,c);if(u(h,o.uiCodemirror||o.uiCodemirrorOpts,n),f(h,s,n),e(h,o.uiRefresh,n),n.$on("CodeMirror",function(n,t){if(angular.isFunction(t))t(h);else throw new Error("the CodeMirror event requires a callback function");}),angular.isFunction(c.onLoad))c.onLoad(h)}function r(n,t){var i;return n[0].tagName==="TEXTAREA"?i=window.CodeMirror.fromTextArea(n[0],t):(n.html(""),i=new window.CodeMirror(function(t){n.append(t)},t)),i}function u(n,t,i){function u(t,i){angular.isObject(t)&&r.forEach(function(r){if(t.hasOwnProperty(r)){if(i&&t[r]===i[r])return;n.setOption(r,t[r])}})}if(t){var r=Object.keys(window.CodeMirror.defaults);i.$watch(t,u,!0)}}function f(n,t,i){if(t){t.$formatters.push(function(n){if(angular.isUndefined(n)||n===null)return"";if(angular.isObject(n)||angular.isArray(n))throw new Error("ui-codemirror cannot use an object or an array as a model");return n});t.$render=function(){var i=t.$viewValue||"";n.setValue(i)};n.on("change",function(n){var r=n.getValue();r!==t.$viewValue&&i.$evalAsync(function(){t.$setViewValue(r)})})}}function e(t,i,r){i&&r.$watch(i,function(i,r){i!==r&&n(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");return i}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective);uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"];
(function(n){"use strict";function l(n){this.tokens=[];this.tokens.links=Object.create(null);this.options=n||r.defaults;this.rules=t.normal;this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.rules=this.options.tables?t.tables:t.gfm)}function o(n,t){if(this.options=t||r.defaults,this.links=n,this.rules=i.normal,this.renderer=this.options.renderer||new f,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.rules=this.options.breaks?i.breaks:i.gfm)}function f(n){this.options=n||r.defaults}function c(){}function h(n){this.tokens=[];this.token=null;this.options=n||r.defaults;this.options.renderer=this.options.renderer||new f;this.renderer=this.options.renderer;this.renderer.options=this.options;this.slugger=new p}function p(){this.seen={}}function u(n,t){if(t){if(u.escapeTest.test(n))return n.replace(u.escapeReplace,function(n){return u.replacements[n]})}else if(u.escapeTestNoEncode.test(n))return n.replace(u.escapeReplaceNoEncode,function(n){return u.replacements[n]});return n}function w(n){return n.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(n,t){return(t=t.toLowerCase(),t==="colon")?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function e(n,t){return n=n.source||n,t=t||"",{replace:function(t,i){return i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),n=n.replace(t,i),this},getRegex:function(){return new RegExp(n,t)}}}function b(n,t,i){if(n){try{var r=decodeURIComponent(w(i)).replace(/[^\w:]/g,"").toLowerCase()}catch(u){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!k.test(i)&&(i=g(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(u){return null}return i}function g(n,t){return v[" "+n]||(v[" "+n]=/^[^:]+:\/*[^/]*$/.test(n)?n+"/":d(n,"/",!0)),n=v[" "+n],t.slice(0,2)==="//"?n.replace(/:[\s\S]*/,":")+t:t.charAt(0)==="/"?n.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:n+t}function a(){}function s(n){for(var r=1,t,i;r<arguments.length;r++){t=arguments[r];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function y(n,t){var u=n.replace(/\|/g,function(n,t,i){for(var r=!1,u=t;--u>=0&&i[u]==="\\";)r=!r;return r?"|":" |"}),i=u.split(/ \|/),r=0;if(i.length>t)i.splice(t);else while(i.length<t)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function d(n,t,i){var r,u;if(n.length===0)return"";for(r=0;r<n.length;)if(u=n.charAt(n.length-r-1),u!==t||i)if(u!==t&&i)r++;else break;else r++;return n.substr(0,n.length-r)}function nt(n,t){var r,i;if(n.indexOf(t[1])===-1)return-1;for(r=0,i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===t[0])r++;else if(n[i]===t[1]&&(r--,r<0))return i;return-1}function r(n,t,i){var f,o,c,a,e;if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(i||typeof t=="function"){i||(i=t,t=null);t=s({},r.defaults,t||{});f=t.highlight;a=0;try{o=l.lex(n,t)}catch(v){return i(v)}if((c=o.length,e=function(n){if(n)return t.highlight=f,i(n);var r;try{r=h.parse(o,t)}catch(u){n=u}return t.highlight=f,n?i(n):i(null,r)},!f||f.length<3)||(delete t.highlight,!c))return e();for(;a<o.length;a++)(function(n){return n.type!=="code"?--c||e():f(n.text,n.lang,function(t,i){if(t)return e(t);if(i==null||i===n.text)return--c||e();n.text=i;n.escaped=!0;--c||e()})})(o[a]);return}try{return t&&(t=s({},r.defaults,t)),h.parse(l.lex(n,t),t)}catch(v){if(v.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||r.defaults).silent)return"<p>An error occurred:<\/p><pre>"+u(v.message+"",!0)+"<\/pre>";throw v;}}var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:a,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:<\/\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|<\/?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|<\/(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/},i,v,k;t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;t.def=e(t.def).replace("label",t._label).replace("title",t._title).getRegex();t.bullet=/(?:[*+-]|\d{1,9}\.)/;t.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;t.item=e(t.item,"gm").replace(/bull/g,t.bullet).getRegex();t.list=e(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex();t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";t._comment=/<!--(?!-?>)[\s\S]*?-->/;t.html=e(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();t.paragraph=e(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex();t.blockquote=e(t.blockquote).replace("paragraph",t.paragraph).getRegex();t.normal=s({},t);t.gfm=s({},t.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});t.gfm.paragraph=e(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex();t.tables=s({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/});t.pedantic=s({},t.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?<\/\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});l.rules=t;l.lex=function(n,t){var i=new l(t);return i.lex(n)};l.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)};l.prototype.token=function(n,i){n=n.replace(/^ +$/gm,"");for(var h,o,r,s,c,u,l,a,v,p,f,w,e,b,k,g;n;){if((r=this.rules.newline.exec(n))&&(n=n.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(n)){n=n.substring(r[0].length);r=r[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:this.options.pedantic?r:d(r,"\n")});continue}if(r=this.rules.fences.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"code",lang:r[2]?r[2].trim():r[2],text:r[3]||""});continue}if(r=this.rules.heading.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});continue}if(i&&(r=this.rules.nptable.exec(n))&&(u={type:"table",header:y(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(n=n.substring(r[0].length),f=0;f<u.align.length;f++)u.align[f]=/^ *-+: *$/.test(u.align[f])?"right":/^ *:-+: *$/.test(u.align[f])?"center":/^ *:-+ *$/.test(u.align[f])?"left":null;for(f=0;f<u.cells.length;f++)u.cells[f]=y(u.cells[f],u.header.length);this.tokens.push(u);continue}if(r=this.rules.hr.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"hr"});continue}if(r=this.rules.blockquote.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"blockquote_start"});r=r[0].replace(/^ *> ?/gm,"");this.token(r,i);this.tokens.push({type:"blockquote_end"});continue}if(r=this.rules.list.exec(n)){for(n=n.substring(r[0].length),s=r[2],b=s.length>1,l={type:"list_start",ordered:b,start:b?+s:"",loose:!1},this.tokens.push(l),r=r[0].match(this.rules.item),a=[],h=!1,e=r.length,f=0;f<e;f++)u=r[f],p=u.length,u=u.replace(/^ *([*+-]|\d+\.) */,""),~u.indexOf("\n ")&&(p-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+p+"}","gm"),"")),f!==e-1&&(c=t.bullet.exec(r[f+1])[0],(s.length>1?c.length===1:c.length>1||this.options.smartLists&&c!==s)&&(n=r.slice(f+1).join("\n")+n,f=e-1)),o=h||/\n\n(?!\s*$)/.test(u),f!==e-1&&(h=u.charAt(u.length-1)==="\n",o||(o=h)),o&&(l.loose=!0),k=/^\[[ xX]\] /.test(u),g=undefined,k&&(g=u[1]!==" ",u=u.replace(/^\[[ xX]\] +/,"")),v={type:"list_item_start",task:k,checked:g,loose:o},a.push(v),this.tokens.push(v),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(e=a.length,f=0;f<e;f++)a[f].loose=!0;this.tokens.push({type:"list_end"});continue}if(r=this.rules.html.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]});continue}if(i&&(r=this.rules.def.exec(n))){n=n.substring(r[0].length);r[3]&&(r[3]=r[3].substring(1,r[3].length-1));w=r[1].toLowerCase().replace(/\s+/g," ");this.tokens.links[w]||(this.tokens.links[w]={href:r[2],title:r[3]});continue}if(i&&(r=this.rules.table.exec(n))&&(u={type:"table",header:y(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(n=n.substring(r[0].length),f=0;f<u.align.length;f++)u.align[f]=/^ *-+: *$/.test(u.align[f])?"right":/^ *:-+: *$/.test(u.align[f])?"center":/^ *:-+ *$/.test(u.align[f])?"left":null;for(f=0;f<u.cells.length;f++)u.cells[f]=y(u.cells[f].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u);continue}if(r=this.rules.lheading.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"heading",depth:r[2]==="="?1:2,text:r[1]});continue}if(i&&(r=this.rules.paragraph.exec(n))){n=n.substring(r[0].length);this.tokens.push({type:"paragraph",text:r[1].charAt(r[1].length-1)==="\n"?r[1].slice(0,-1):r[1]});continue}if(r=this.rules.text.exec(n)){n=n.substring(r[0].length);this.tokens.push({type:"text",text:r[0]});continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));}return this.tokens};i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:a,tag:"^comment|^<\/[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:a,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~";i.em=e(i.em).replace(/punctuation/g,i._punctuation).getRegex();i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;i.autolink=e(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex();i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;i.tag=e(i.tag).replace("comment",t._comment).replace("attribute",i._attribute).getRegex();i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/;i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/;i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;i.link=e(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex();i.reflink=e(i.reflink).replace("label",i._label).getRegex();i.normal=s({},i);i.pedantic=s({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()});i.gfm=s({},i.normal,{escape:e(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:e(i.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()});i.gfm.url=e(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex();i.breaks=s({},i.gfm,{br:e(i.br).replace("{2,}","*").getRegex(),text:e(i.gfm.text).replace("{2,}","*").getRegex()});o.rules=i;o.output=function(n,t,i){var r=new o(t,i);return r.output(n)};o.prototype.output=function(n){for(var i="",e,f,r,s,t,c,h,l;n;){if(t=this.rules.escape.exec(n)){n=n.substring(t[0].length);i+=u(t[1]);continue}if(t=this.rules.tag.exec(n)){!this.inLink&&/^<a /i.test(t[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(t[0])&&(this.inLink=!1);!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.inRawBlock=!1);n=n.substring(t[0].length);i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]):t[0];continue}if(t=this.rules.link.exec(n)){h=nt(t[2],"()");h>-1&&(l=t[2].length-h,t[2]=t[2].substring(0,h),t[0]=t[0].substring(0,t[0].length-l));n=n.substring(t[0].length);this.inLink=!0;r=t[2];this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r),e?(r=e[1],s=e[3]):s=""):s=t[3]?t[3].slice(1,-1):"";r=r.trim().replace(/^<([\s\S]*)>$/,"$1");i+=this.outputLink(t,{href:o.escapes(r),title:o.escapes(s)});this.inLink=!1;continue}if((t=this.rules.reflink.exec(n))||(t=this.rules.nolink.exec(n))){if(n=n.substring(t[0].length),e=(t[2]||t[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){i+=t[0].charAt(0);n=t[0].substring(1)+n;continue}this.inLink=!0;i+=this.outputLink(t,e);this.inLink=!1;continue}if(t=this.rules.strong.exec(n)){n=n.substring(t[0].length);i+=this.renderer.strong(this.output(t[4]||t[3]||t[2]||t[1]));continue}if(t=this.rules.em.exec(n)){n=n.substring(t[0].length);i+=this.renderer.em(this.output(t[6]||t[5]||t[4]||t[3]||t[2]||t[1]));continue}if(t=this.rules.code.exec(n)){n=n.substring(t[0].length);i+=this.renderer.codespan(u(t[2].trim(),!0));continue}if(t=this.rules.br.exec(n)){n=n.substring(t[0].length);i+=this.renderer.br();continue}if(t=this.rules.del.exec(n)){n=n.substring(t[0].length);i+=this.renderer.del(this.output(t[1]));continue}if(t=this.rules.autolink.exec(n)){n=n.substring(t[0].length);t[2]==="@"?(f=u(this.mangle(t[1])),r="mailto:"+f):(f=u(t[1]),r=f);i+=this.renderer.link(r,null,f);continue}if(!this.inLink&&(t=this.rules.url.exec(n))){if(t[2]==="@")f=u(t[0]),r="mailto:"+f;else{do c=t[0],t[0]=this.rules._backpedal.exec(t[0])[0];while(c!==t[0]);f=u(t[0]);r=t[1]==="www."?"http://"+f:f}n=n.substring(t[0].length);i+=this.renderer.link(r,null,f);continue}if(t=this.rules.text.exec(n)){n=n.substring(t[0].length);i+=this.inRawBlock?this.renderer.text(t[0]):this.renderer.text(u(this.smartypants(t[0])));continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));}return i};o.escapes=function(n){return n?n.replace(o.rules._escapes,"$1"):n};o.prototype.outputLink=function(n,t){var i=t.href,r=t.title?u(t.title):null;return n[0].charAt(0)!=="!"?this.renderer.link(i,r,this.output(n[1])):this.renderer.image(i,r,u(n[1]))};o.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n};o.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var r="",u=n.length,i=0,t;i<u;i++)t=n.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r};f.prototype.code=function(n,t,i){var f=(t||"").match(/\S*/)[0],r;return(this.options.highlight&&(r=this.options.highlight(n,f),r!=null&&r!==n&&(i=!0,n=r)),!f)?"<pre><code>"+(i?n:u(n,!0))+"<\/code><\/pre>":'<pre><code class="'+this.options.langPrefix+u(f,!0)+'">'+(i?n:u(n,!0))+"<\/code><\/pre>\n"};f.prototype.blockquote=function(n){return"<blockquote>\n"+n+"<\/blockquote>\n"};f.prototype.html=function(n){return n};f.prototype.heading=function(n,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+n+"<\/h"+t+">\n":"<h"+t+">"+n+"<\/h"+t+">\n"};f.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};f.prototype.list=function(n,t,i){var r=t?"ol":"ul",u=t&&i!==1?' start="'+i+'"':"";return"<"+r+u+">\n"+n+"<\/"+r+">\n"};f.prototype.listitem=function(n){return"<li>"+n+"<\/li>\n"};f.prototype.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "};f.prototype.paragraph=function(n){return"<p>"+n+"<\/p>\n"};f.prototype.table=function(n,t){return t&&(t="<tbody>"+t+"<\/tbody>"),"<table>\n<thead>\n"+n+"<\/thead>\n"+t+"<\/table>\n"};f.prototype.tablerow=function(n){return"<tr>\n"+n+"<\/tr>\n"};f.prototype.tablecell=function(n,t){var i=t.header?"th":"td",r=t.align?"<"+i+' align="'+t.align+'">':"<"+i+">";return r+n+"<\/"+i+">\n"};f.prototype.strong=function(n){return"<strong>"+n+"<\/strong>"};f.prototype.em=function(n){return"<em>"+n+"<\/em>"};f.prototype.codespan=function(n){return"<code>"+n+"<\/code>"};f.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};f.prototype.del=function(n){return"<del>"+n+"<\/del>"};f.prototype.link=function(n,t,i){if(n=b(this.options.sanitize,this.options.baseUrl,n),n===null)return i;var r='<a href="'+u(n)+'"';return t&&(r+=' title="'+t+'"'),r+(">"+i+"<\/a>")};f.prototype.image=function(n,t,i){if(n=b(this.options.sanitize,this.options.baseUrl,n),n===null)return i;var r='<img src="'+n+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")};f.prototype.text=function(n){return n};c.prototype.strong=c.prototype.em=c.prototype.codespan=c.prototype.del=c.prototype.text=function(n){return n};c.prototype.link=c.prototype.image=function(n,t,i){return""+i};c.prototype.br=function(){return""};h.parse=function(n,t){var i=new h(t);return i.parse(n)};h.prototype.parse=function(n){this.inline=new o(n.links,this.options);this.inlineText=new o(n.links,s({},this.options,{renderer:new c}));this.tokens=n.reverse();for(var t="";this.next();)t+=this.tok();return t};h.prototype.next=function(){return this.token=this.tokens.pop()};h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};h.prototype.parseText=function(){for(var n=this.token.text;this.peek().type==="text";)n+="\n"+this.next().text;return this.inline.output(n)};h.prototype.tok=function(){var u,n,t,f,i,r,o,s,h,e;switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,w(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(u="",n="",i="",t=0;t<this.token.header.length;t++)i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(u+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(f=this.token.cells[t],i="",r=0;r<f.length;r++)i+=this.renderer.tablecell(this.inline.output(f[r]),{header:!1,align:this.token.align[r]});n+=this.renderer.tablerow(i)}return this.renderer.table(u,n);case"blockquote_start":for(n="";this.next().type!=="blockquote_end";)n+=this.tok();return this.renderer.blockquote(n);case"list_start":for(n="",o=this.token.ordered,s=this.token.start;this.next().type!=="list_end";)n+=this.tok();return this.renderer.list(n,o,s);case"list_item_start":for(n="",h=this.token.loose,this.token.task&&(n+=this.renderer.checkbox(this.token.checked));this.next().type!=="list_item_end";)n+=!h&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(n);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:if(e='Token with "'+this.token.type+'" type was not found.',this.options.silent)console.log(e);else throw new Error(e);}};p.prototype.slug=function(n){var t=n.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-"),i;if(this.seen.hasOwnProperty(t)){i=t;do this.seen[i]++,t=i+"-"+this.seen[i];while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t};u.escapeTest=/[&<>"']/;u.escapeReplace=/[&<>"']/g;u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/;u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;v={};k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;a.exec=a;r.options=r.setOptions=function(n){return s(r.defaults,n),r};r.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new f,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}};r.defaults=r.getDefaults();r.Parser=h;r.parser=h.parse;r.Renderer=f;r.TextRenderer=c;r.Lexer=l;r.lexer=l.lex;r.InlineLexer=o;r.inlineLexer=o.output;r.Slugger=p;r.parse=r;typeof module!="undefined"&&typeof exports=="object"?module.exports=r:typeof define=="function"&&define.amd?define(function(){return r}):n.marked=r})(this||(typeof window!="undefined"?window:global));
/*!
 * ====================================================
 * kity - v2.0.5 - 2015-11-12
 * https://github.com/fex-team/kity
 * GitHub: https://github.com/fex-team/kity.git 
 * Copyright (c) 2015 Baidu FEX; Licensed BSD
 * ====================================================
 */

!function(){function use(a){_p.r([moduleMapping[a]])}var _p={r:function(a){if(_p[a].inited)return _p[a].value;if("function"!=typeof _p[a].value)return _p[a].inited=!0,_p[a].value;var b={exports:{}},c=_p[a].value(null,b.exports,b);if(_p[a].inited=!0,_p[a].value=c,void 0!==c)return c;for(var d in b.exports)if(b.exports.hasOwnProperty(d))return _p[a].inited=!0,_p[a].value=b.exports,b.exports}};_p[0]={value:function(a){function b(a){var b=parseFloat(a,10);return/ms/.test(a)?b:/s/.test(a)?1e3*b:/min/.test(a)?60*b*1e3:b}var c=_p.r(8),d=_p.r(1),e=_p.r(11).createClass("Animator",{constructor:function(a,b,c){if(1==arguments.length){var d=arguments[0];this.beginValue=d.beginValue,this.finishValue=d.finishValue,this.setter=d.setter}else this.beginValue=a,this.finishValue=b,this.setter=c},start:function(a,c,d,e,f){2===arguments.length&&"object"==typeof c&&(d=c.easing,e=c.delay,f=c.callback,c=c.duration),4===arguments.length&&"function"==typeof e&&(f=e,e=0);var g=this.create(a,c,d,f);return e=b(e),e>0?setTimeout(function(){g.play()},e):g.play(),g},create:function(a,f,g,h){var i;return f=f&&b(f)||e.DEFAULT_DURATION,g=g||e.DEFAULT_EASING,"string"==typeof g&&(g=d[g]),i=new c(this,a,f,g),"function"==typeof h&&i.on("finish",h),i},reverse:function(){return new e(this.finishValue,this.beginValue,this.setter)}});e.DEFAULT_DURATION=300,e.DEFAULT_EASING="linear";var f=_p.r(60);return _p.r(11).extendClass(f,{animate:function(a,b,c,d,e){function f(){g.shift(),g.length&&setTimeout(g[0].t.play.bind(g[0].t),g[0].d)}var g=this._KityAnimateQueue=this._KityAnimateQueue||[],h=a.create(this,b,c,e);return h.on("finish",f),g.push({t:h,d:d}),1==g.length&&setTimeout(h.play.bind(h),d),this},timeline:function(){return this._KityAnimateQueue[0].t},stop:function(){var a=this._KityAnimateQueue;if(a)for(;a.length;)a.shift().t.stop();return this}}),e}},_p[1]={value:function(a,b,c){var d={linear:function(a,b,c,d){return c*(a/d)+b},swing:function(a,b,c,e){return d.easeOutQuad(a,b,c,e)},ease:function(a,b,c,e){return d.easeInOutCubic(a,b,c,e)},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOutSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(a,b,c,d){return 0===a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f))+b)},easeOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),g*Math.pow(2,-10*a)*Math.sin((a*d-e)*(2*Math.PI)/f)+c+b)},easeInOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;if(0===a)return b;if(2==(a/=d/2))return b+c;if(f||(f=d*(.3*1.5)),g<Math.abs(c)){g=c;var e=f/4}else var e=f/(2*Math.PI)*Math.asin(c/g);return 1>a?-.5*(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f))+b:g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f)*.5+c+b},easeInBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*(a*a*(((e*=1.525)+1)*a-e))+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},easeInBounce:function(a,b,c,e){return c-d.easeOutBounce(e-a,0,c,e)+b},easeOutBounce:function(a,b,c,d){return(a/=d)<1/2.75?c*(7.5625*a*a)+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(a,b,c,e){return e/2>a?.5*d.easeInBounce(2*a,0,c,e)+b:.5*d.easeOutBounce(2*a-e,0,c,e)+.5*c+b}};return d}},_p[2]={value:function(a,b){function c(a){1===l.push(a)&&(i=j(d))}function d(){var a=l;for(l=[];a.length;)h(a.pop());i=0}function e(a){var b=g(a);return c(b),b}function f(a){var b=l.indexOf(a);~b&&l.splice(b,1),0===l.length&&k(i)}function g(a){var b={index:0,time:+new Date,elapsed:0,action:a,next:function(){c(b)}};return b}function h(a){var b=+new Date,c=b-a.time;c>200&&(c=1e3/60),a.dur=c,a.elapsed+=c,a.time=b,a.action.call(null,a),a.index++}var i,j=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},k=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,l=[];b.requestFrame=e,b.releaseFrame=f}},_p[3]={value:function(a){var b=_p.r(0),c=_p.r(34),d=_p.r(46),e=_p.r(60),f=_p.r(11).createClass("MotionAnimator",{base:b,constructor:function(a,b){var e=this;this.callBase({beginValue:0,finishValue:1,setter:function(a,b){var f=e.motionPath instanceof d?e.motionPath.getPathData():e.motionPath,g=c.pointAtPath(f,b);a.setTranslate(g.x,g.y),this.doRotate&&a.setRotate(g.tan.getAngle())}}),this.doRotate=b,this.motionPath=a}});return _p.r(11).extendClass(e,{motion:function(a,b,c,d,e){return this.animate(new f(a),b,c,d,e)}}),f}},_p[4]={value:function(a){var b=_p.r(0),c=_p.r(11).createClass("OpacityAnimator",{base:b,constructor:function(a){this.callBase({beginValue:function(a){return a.getOpacity()},finishValue:a,setter:function(a,b){a.setOpacity(b)}})}}),d=_p.r(60);return _p.r(11).extendClass(d,{fxOpacity:function(a,b,d,e,f){return this.animate(new c(a),b,d,e,f)},fadeTo:function(){return this.fxOpacity.apply(this,arguments)},fadeIn:function(){return this.fxOpacity.apply(this,[1].concat([].slice.call(arguments)))},fadeOut:function(){return this.fxOpacity.apply(this,[0].concat([].slice.call(arguments)))}}),c}},_p[5]={value:function(a){var b=_p.r(0),c=_p.r(34),d=_p.r(11).createClass("OpacityAnimator",{base:b,constructor:function(a){this.callBase({beginValue:function(a){return this.beginPath=a.getPathData(),0},finishValue:1,setter:function(b,d){b.setPathData(c.pathTween(this.beginPath,a,d))}})}}),e=_p.r(46);return _p.r(11).extendClass(e,{fxPath:function(a,b,c,e,f){return this.animate(new d(a),b,c,e,f)}}),d}},_p[6]={value:function(a){var b=_p.r(0),c=_p.r(11).createClass("RotateAnimator",{base:b,constructor:function(a){this.callBase({beginValue:0,finishValue:a,setter:function(a,b,c){var d=c.getDelta();a.rotate(d,ax,ay)}})}}),d=_p.r(60);return _p.r(11).extendClass(d,{fxRotate:function(a,b,d,e,f){return this.animate(new c(a),b,d,e,f)}}),c}},_p[7]={value:function(a){var b=_p.r(0),c=_p.r(11).createClass("ScaleAnimator",{base:b,constructor:function(a,b){this.callBase({beginValue:0,finishValue:1,setter:function(c,d,e){var f=e.getDelta(),g=Math.pow(a,f),h=Math.pow(b,f);c.scale(h,g)}})}}),d=_p.r(60);return _p.r(11).extendClass(d,{fxScale:function(a,b,d,e,f,g){return this.animate(new c(a,b),d,e,f,g)}}),c}},_p[8]={value:function(a){function b(a,b,c){return f.paralle(a,b,function(a,b){return a+(b-a)*c})}function c(a,b){return f.paralle(a,b,function(a,b){return b-a})}function d(a,b,c){this.timeline=a,this.target=a.target,this.type=b;for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])}var e=_p.r(33),f=_p.r(12),g=_p.r(2),h=_p.r(11).createClass("Timeline",{mixins:[e],constructor:function(a,b,c,d){this.callMixin(),this.target=b,this.time=0,this.duration=c,this.easing=d,this.animator=a,this.beginValue=a.beginValue,this.finishValue=a.finishValue,this.setter=a.setter,this.status="ready"},nextFrame:function(a){"playing"==this.status&&(this.time+=a.dur,this.setValue(this.getValue()),this.time>=this.duration&&this.timeUp(),a.next())},getPlayTime:function(){return this.rollbacking?this.duration-this.time:this.time},getTimeProportion:function(){return this.getPlayTime()/this.duration},getValueProportion:function(){return this.easing(this.getPlayTime(),0,1,this.duration)},getValue:function(){var a=this.beginValue,c=this.finishValue,d=this.getValueProportion();return b(a,c,d)},setValue:function(a){this.lastValue=this.currentValue,this.currentValue=a,this.setter.call(this.target,this.target,a,this)},getDelta:function(){return this.lastValue=void 0===this.lastValue?this.beginValue:this.lastValue,c(this.lastValue,this.currentValue)},play:function(){var a=this.status;switch(this.status="playing",a){case"ready":f.isFunction(this.beginValue)&&(this.beginValue=this.beginValue.call(this.target,this.target)),f.isFunction(this.finishValue)&&(this.finishValue=this.finishValue.call(this.target,this.target)),this.time=0,this.setValue(this.beginValue),this.frame=g.requestFrame(this.nextFrame.bind(this));break;case"finished":case"stoped":this.time=0,this.frame=g.requestFrame(this.nextFrame.bind(this));break;case"paused":this.frame.next()}return this.fire("play",new d(this,"play",{lastStatus:a})),this},pause:function(){return this.status="paused",this.fire("pause",new d(this,"pause")),g.releaseFrame(this.frame),this},stop:function(){return this.status="stoped",this.setValue(this.finishValue),this.rollbacking=!1,this.fire("stop",new d(this,"stop")),g.releaseFrame(this.frame),this},timeUp:function(){this.repeatOption?(this.time=0,this.rollback?this.rollbacking?(this.decreaseRepeat(),this.rollbacking=!1):(this.rollbacking=!0,this.fire("rollback",new d(this,"rollback"))):this.decreaseRepeat(),this.repeatOption?this.fire("repeat",new d(this,"repeat")):this.finish()):this.finish()},finish:function(){this.setValue(this.finishValue),this.status="finished",this.fire("finish",new d(this,"finish")),g.releaseFrame(this.frame)},decreaseRepeat:function(){this.repeatOption!==!0&&this.repeatOption--},repeat:function(a,b){return this.repeatOption=a,this.rollback=b,this}});return h.requestFrame=g.requestFrame,h.releaseFrame=g.releaseFrame,h}},_p[9]={value:function(a){var b=_p.r(0),c=_p.r(11).createClass("TranslateAnimator",{base:b,constructor:function(a,b){this.callBase({x:0,y:0},{x:a,y:b},function(a,b,c){var d=c.getDelta();a.translate(d.x,d.y)})}}),d=_p.r(60);return _p.r(11).extendClass(d,{fxTranslate:function(a,b,d,e,f,g){return this.animate(new c(a,b),d,e,f,g)}}),c}},_p[10]={value:function(){var a=function(){var a,b=navigator.userAgent.toLowerCase(),c=window.opera;a={platform:function(a){var b={win32:"Win",macintel:"Mac"};return b[a.platform.toLowerCase()]||"Lux"}(navigator),lb:function(a){return~a.indexOf("lbbrowser")?~a.indexOf("msie")?"ie":"chrome":!1}(b),sg:/se[\s\S]+metasr/.test(b),bd:!!~b.indexOf("bidubrowser"),edge:!!~b.indexOf("edge"),chrome:!1,opera:!!c&&c.version,webkit:b.indexOf(" applewebkit/")>-1,mac:b.indexOf("macintosh")>-1},a.ie=!a.lb&&/(msie\s|trident.*rv:)([\w.]+)/.test(b),a.gecko="Gecko"==navigator.product&&!a.webkit&&!a.opera&&!a.ie;var d=0;if(a.ie&&(d=1*(b.match(/(msie\s|trident.*rv:)([\w.]+)/)[2]||0),a.ie11Compat=11==document.documentMode,a.ie9Compat=9==document.documentMode),a.gecko){var e=b.match(/rv:([\d\.]+)/);e&&(e=e[1].split("."),d=1e4*e[0]+100*(e[1]||0)+1*(e[2]||0))}return!/chrome\/(\d+\.\d)/i.test(b)||a.bd||a.opera||a.lb||a.sg||a.edge||(a.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(b)&&!/chrome/i.test(b)&&(a.safari=+(RegExp.$1||RegExp.$2)),a.opera&&(d=parseFloat(c.version())),a.webkit&&(d=parseFloat(b.match(/ applewebkit\/(\d+)/)[1])),a.bd&&(d=parseFloat(b.match(/bidubrowser\/(\d+)/)[1])),a.opera&&(d=parseFloat(b.match(/opr\/(\d+)/)[1])),a.edge&&(d=parseFloat(b.match(/edge\/(\d+)/)[1])),a.version=d,a.isCompatible=!a.mobile&&(a.ie&&d>=6||a.gecko&&d>=10801||a.opera&&d>=9.5||a.air&&d>=1||a.webkit&&d>=522||!1),a}();return a}},_p[11]={value:function(require,exports){function Class(){}function checkBaseConstructorCall(a,b){var c=a.toString();if(!/this\.callBase/.test(c))throw new Error(b+" : 类构造函数没有调用父类的构造函数！为了安全，请调用父类的构造函数")}function inherit(constructor,BaseClass,classname){var KityClass=eval("(function "+classname+"( __inherit__flag ) {if( __inherit__flag != KITY_INHERIT_FLAG ) {KityClass.__KityConstructor.apply(this, arguments);}this.__KityClassName = KityClass.__KityClassName;})");KityClass.__KityConstructor=constructor,KityClass.prototype=new BaseClass(KITY_INHERIT_FLAG);for(var methodName in BaseClass.prototype)BaseClass.prototype.hasOwnProperty(methodName)&&0!==methodName.indexOf("__Kity")&&(KityClass.prototype[methodName]=BaseClass.prototype[methodName]);return KityClass.prototype.constructor=KityClass,KityClass}function mixin(a,b){if(!1==b instanceof Array)return a;var c,d,e,f=b.length;for(a.__KityMixins={constructor:[]},c=0;f>c;c++){d=b[c].prototype;for(e in d)!1!==d.hasOwnProperty(e)&&0!==e.indexOf("__Kity")&&("constructor"===e?a.__KityMixins.constructor.push(d[e]):a.prototype[e]=a.__KityMixins[e]=d[e])}return a}function extend(a,b){b.__KityClassName&&(b=b.prototype);for(var c in b)if(b.hasOwnProperty(c)&&c.indexOf("__Kity")&&"constructor"!=c){var d=a.prototype[c]=b[c];d.__KityMethodClass=a,d.__KityMethodName=c}return a}exports.Class=Class,Class.__KityClassName="Class",Class.prototype.base=function(a){var b=arguments.callee.caller,c=b.__KityMethodClass.__KityBaseClass.prototype[a];return c.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callBase=function(){var a=arguments.callee.caller,b=a.__KityMethodClass.__KityBaseClass.prototype[a.__KityMethodName];return b.apply(this,arguments)},Class.prototype.mixin=function(a){var b=arguments.callee.caller,c=b.__KityMethodClass.__KityMixins;if(!c)return this;var d=c[a];return d.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callMixin=function(){var a=arguments.callee.caller,b=a.__KityMethodName,c=a.__KityMethodClass.__KityMixins;if(!c)return this;var d=c[b];if("constructor"==b){for(var e=0,f=d.length;f>e;e++)d[e].call(this);return this}return d.apply(this,arguments)},Class.prototype.pipe=function(a){return"function"==typeof a&&a.call(this,this),this},Class.prototype.getType=function(){return this.__KityClassName},Class.prototype.getClass=function(){return this.constructor};var KITY_INHERIT_FLAG="__KITY_INHERIT_FLAG_"+ +new Date;exports.createClass=function(a,b){var c,d,e;return 1===arguments.length&&(b=arguments[0],a="AnonymousClass"),e=b.base||Class,b.hasOwnProperty("constructor")?(c=b.constructor,e!=Class&&checkBaseConstructorCall(c,a)):c=function(){this.callBase.apply(this,arguments),this.callMixin.apply(this,arguments)},d=inherit(c,e,a),d=mixin(d,b.mixins),d.__KityClassName=c.__KityClassName=a,d.__KityBaseClass=c.__KityBaseClass=e,d.__KityMethodName=c.__KityMethodName="constructor",d.__KityMethodClass=c.__KityMethodClass=d,delete b.mixins,delete b.constructor,delete b.base,d=extend(d,b)},exports.extendClass=extend}},_p[12]={value:function(){var a={each:function(a,b,c){if(null!==a)if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return!1}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===!1)return!1},extend:function(a){for(var b=arguments,c=this.isBoolean(b[b.length-1])?b[b.length-1]:!1,d=this.isBoolean(b[b.length-1])?b.length-1:b.length,e=1;d>e;e++){var f=b[e];for(var g in f)c&&a.hasOwnProperty(g)||(a[g]=f[g])}return a},deepExtend:function(a,b){for(var c=arguments,d=this.isBoolean(c[c.length-1])?c[c.length-1]:!1,e=this.isBoolean(c[c.length-1])?c.length-1:c.length,f=1;e>f;f++){var g=c[f];for(var h in g)d&&a.hasOwnProperty(h)||(this.isObject(a[h])&&this.isObject(g[h])?this.deepExtend(a[h],g[h],d):a[h]=g[h])}return a},clone:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},copy:function(a){return"object"!=typeof a?a:"function"==typeof a?null:JSON.parse(JSON.stringify(a))},queryPath:function(a,b){for(var c=a.split("."),d=0,e=b,f=c.length;f>d;){if(!(c[d]in e))return void 0;if(e=e[c[d]],d++,d>=f||void 0===e)return e}},getValue:function(a,b){return void 0!==a?a:b},flatten:function(b){var c,d=[],e=b.length;for(c=0;e>c;c++)b[c]instanceof Array?d=d.concat(a.flatten(b[c])):d.push(b[c]);return d},paralle:function(b,c,d){var e,f,g,h;if(b instanceof Array){for(h=[],f=0;f<b.length;f++)h.push(a.paralle(b[f],c[f],d));return h}if(b instanceof Object){if(e=b.getClass&&b.getClass(),e&&e.parse)b=b.valueOf(),c=c.valueOf(),h=a.paralle(b,c,d),h=e.parse(h);else{h={};for(g in b)b.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(h[g]=a.paralle(b[g],c[g],d))}return h}return!1===isNaN(parseFloat(b))?d(b,c):h},parallelize:function(b){return function(c,d){return a.paralle(c,d,b)}}};return a.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(b){a["is"+b]=function(a){return Object.prototype.toString.apply(a)=="[object "+b+"]"}}),a}},_p[13]={value:function(a,b,c){var d=_p.r(16),e=_p.r(12),f=_p.r(11).createClass("ColorMatrixEffect",{base:d,constructor:function(a,b){this.callBase(d.NAME_COLOR_MATRIX),this.set("type",e.getValue(a,f.TYPE_MATRIX)),this.set("in",e.getValue(b,d.INPUT_SOURCE_GRAPHIC))}});return e.extend(f,{TYPE_MATRIX:"matrix",TYPE_SATURATE:"saturate",TYPE_HUE_ROTATE:"hueRotate",TYPE_LUMINANCE_TO_ALPHA:"luminanceToAlpha",MATRIX_ORIGINAL:"10000010000010000010".split("").join(" "),MATRIX_EMPTY:"00000000000000000000".split("").join(" ")}),f}},_p[14]={value:function(a,b,c){var d=_p.r(16),e=_p.r(12),f=_p.r(11).createClass("CompositeEffect",{base:d,constructor:function(a,b,c){this.callBase(d.NAME_COMPOSITE),this.set("operator",e.getValue(a,f.OPERATOR_OVER)),b&&this.set("in",b),c&&this.set("in2",c)}});return e.extend(f,{OPERATOR_OVER:"over",OPERATOR_IN:"in",OPERATOR_OUT:"out",OPERATOR_ATOP:"atop",OPERATOR_XOR:"xor",OPERATOR_ARITHMETIC:"arithmetic"}),f}},_p[15]={value:function(a,b,c){var d=_p.r(16),e=_p.r(12),f=_p.r(11).createClass("ConvolveMatrixEffect",{base:d,constructor:function(a,b){this.callBase(d.NAME_CONVOLVE_MATRIX),this.set("edgeMode",e.getValue(a,f.MODE_DUPLICATE)),this.set("in",e.getValue(b,d.INPUT_SOURCE_GRAPHIC))}});return e.extend(f,{MODE_DUPLICATE:"duplicate",MODE_WRAP:"wrap",MODE_NONE:"none"}),f}},_p[16]={value:function(a,b,c){var d=_p.r(67),e=_p.r(11).createClass("Effect",{constructor:function(a){this.node=d.createNode(a)},getId:function(){return this.node.id},setId:function(a){return this.node.id=a,this},set:function(a,b){return this.node.setAttribute(a,b),this},get:function(a){return this.node.getAttribute(a)},getNode:function(){return this.node},toString:function(){return this.node.getAttribute("result")||""}});return _p.r(12).extend(e,{NAME_GAUSSIAN_BLUR:"feGaussianBlur",NAME_OFFSET:"feOffset",NAME_COMPOSITE:"feComposite",NAME_COLOR_MATRIX:"feColorMatrix",NAME_CONVOLVE_MATRIX:"feConvolveMatrix",INPUT_SOURCE_GRAPHIC:"SourceGraphic",INPUT_SOURCE_ALPHA:"SourceAlpha",INPUT_BACKGROUND_IMAGE:"BackgroundImage",INPUT_BACKGROUND_ALPHA:"BackgroundAlpha",INPUT_FILL_PAINT:"FillPaint",INPUT_STROKE_PAINT:"StrokePaint"}),e}},_p[17]={value:function(a,b,c){var d=_p.r(16),e=_p.r(12);return _p.r(11).createClass("GaussianblurEffect",{base:d,constructor:function(a,b){this.callBase(d.NAME_GAUSSIAN_BLUR),this.set("stdDeviation",e.getValue(a,1)),this.set("in",e.getValue(b,d.INPUT_SOURCE_GRAPHIC))}})}},_p[18]={value:function(a,b,c){var d=_p.r(16),e=_p.r(12);return _p.r(11).createClass("OffsetEffect",{base:d,constructor:function(a,b,c){this.callBase(d.NAME_OFFSET),this.set("dx",e.getValue(a,0)),this.set("dy",e.getValue(b,0)),this.set("in",e.getValue(c,d.INPUT_SOURCE_GRAPHIC))}})}},_p[19]={value:function(a){return _p.r(11).createClass("EffectContainer",{base:_p.r(29),addEffect:function(a,b){return this.addItem.apply(this,arguments)},prependEffect:function(){return this.prependItem.apply(this,arguments)},appendEffect:function(){return this.appendItem.apply(this,arguments)},removeEffect:function(a){return this.removeItem.apply(this,arguments)},addEffects:function(){return this.addItems.apply(this,arguments)},setEffects:function(){return this.setItems.apply(this,arguments)},getEffect:function(){return this.getItem.apply(this,arguments)},getEffects:function(){return this.getItems.apply(this,arguments)},getFirstEffect:function(){return this.getFirstItem.apply(this,arguments)},getLastEffect:function(){return this.getLastItem.apply(this,arguments)},handleAdd:function(a,b){var c=this.getEffects().length,d=this.getItem(b+1);return c===b+1?void this.node.appendChild(a.getNode()):void this.node.insertBefore(a.getNode(),d.getNode())}})}},_p[20]={value:function(a,b,c){var d=_p.r(67),e=_p.r(11),f=e.createClass("Filter",{mixins:[_p.r(19)],constructor:function(a,b,c,e){this.node=d.createNode("filter"),void 0!==a&&this.set("x",a),void 0!==b&&this.set("y",b),void 0!==c&&this.set("width",c),void 0!==e&&this.set("height",e)},getId:function(){return this.id},setId:function(a){return this.node.id=a,this},set:function(a,b){return this.node.setAttribute(a,b),this},get:function(a){return this.node.getAttribute(a)},getNode:function(){return this.node}}),g=_p.r(60);return e.extendClass(g,{applyFilter:function(a){var b=a.get("id");return b&&this.node.setAttribute("filter","url(#"+b+")"),this}}),f}},_p[21]={value:function(a,b,c){var d=_p.r(17);return _p.r(11).createClass("GaussianblurFilter",{base:_p.r(20),constructor:function(a){this.callBase(),this.addEffect(new d(a))}})}},_p[22]={value:function(a,b,c){var d=_p.r(17),e=_p.r(16),f=_p.r(13),g=_p.r(28),h=_p.r(12),i=_p.r(14),j=_p.r(18);return _p.r(11).createClass("ProjectionFilter",{base:_p.r(20),constructor:function(a,b,c){this.callBase(),this.gaussianblurEffect=new d(a,e.INPUT_SOURCE_ALPHA),this.gaussianblurEffect.set("result","gaussianblur"),this.addEffect(this.gaussianblurEffect),this.offsetEffect=new j(b,c,this.gaussianblurEffect),this.offsetEffect.set("result","offsetBlur"),this.addEffect(this.offsetEffect),this.colorMatrixEffect=new f(f.TYPE_MATRIX,this.offsetEffect),this.colorMatrixEffect.set("values",f.MATRIX_ORIGINAL),this.colorMatrixEffect.set("result","colorOffsetBlur"),this.addEffect(this.colorMatrixEffect),this.compositeEffect=new i(i.OPERATOR_OVER,e.INPUT_SOURCE_GRAPHIC,this.colorMatrixEffect),this.addEffect(this.compositeEffect)},setColor:function(a){var b=null,c=[];if(h.isString(a)&&(a=g.parse(a)),!a)return this;b=f.MATRIX_EMPTY.split(" "),c.push(a.get("r")),c.push(a.get("g")),c.push(a.get("b"));for(var d=0,e=c.length;e>d;d++)b[5*d+3]=c[d]/255;return b[18]=a.get("a"),this.colorMatrixEffect.set("values",b.join(" ")),this},setOpacity:function(a){var b=this.colorMatrixEffect.get("values").split(" ");return b[18]=a,this.colorMatrixEffect.set("values",b.join(" ")),this},setOffset:function(a,b){this.setOffsetX(a),this.setOffsetY(b)},setOffsetX:function(a){this.offsetEffect.set("dx",a)},setOffsetY:function(a){this.offsetEffect.set("dy",a)},setDeviation:function(a){this.gaussianblurEffect.set("stdDeviation",a)}})}},_p[23]={value:function(a,b,c){return _p.r(11).createClass("Bezier",{mixins:[_p.r(51)],base:_p.r(46),constructor:function(a){this.callBase(),a=a||[],this.changeable=!0,this.setBezierPoints(a)},getBezierPoints:function(){return this.getPoints()},setBezierPoints:function(a){return this.setPoints(a)},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=null,b=this.getBezierPoints();if(!(b.length<2)){a=this.getDrawer(),a.clear();var c=b[0].getVertex(),d=null,e=null;a.moveTo(c.x,c.y);for(var f=1,g=b.length;g>f;f++)c=b[f].getVertex(),e=b[f].getBackward(),d=b[f-1].getForward(),a.bezierTo(d.x,d.y,e.x,e.y,c.x,c.y);return this}}})}},_p[24]={value:function(a,b,c){var d=_p.r(63),e=_p.r(73),f=_p.r(11).createClass("BezierPoint",{constructor:function(a,b,c){this.vertex=new d(a,b),this.forward=new d(a,b),this.backward=new d(a,b),this.setSmooth(void 0===c||c),this.setSymReflaction(!0)},clone:function(){var a=new f,b=null;return b=this.getVertex(),a.setVertex(b.x,b.y),b=this.getForward(),a.setForward(b.x,b.y),b=this.getBackward(),a.setBackward(b.x,b.y),a.setSymReflaction(this.isSymReflaction),a.setSmooth(this.isSmooth()),a},setVertex:function(a,b){return this.vertex.setPoint(a,b),this.update(),this},moveTo:function(a,b){var c=this.forward.getPoint(),d=this.backward.getPoint(),e=this.vertex.getPoint(),f={left:a-e.x,top:b-e.y};this.forward.setPoint(c.x+f.left,c.y+f.top),this.backward.setPoint(d.x+f.left,d.y+f.top),this.vertex.setPoint(a,b),this.update()},setForward:function(a,b){return this.forward.setPoint(a,b),this.smooth&&this.updateAnother(this.forward,this.backward),this.update(),this.lastControlPointSet=this.forward,this},setBackward:function(a,b){return this.backward.setPoint(a,b),this.smooth&&this.updateAnother(this.backward,this.forward),this.update(),this.lastControlPointSet=this.backward,this},setSymReflaction:function(a){return this.symReflaction=a,this.smooth&&this.setSmooth(!0),this},isSymReflaction:function(){return this.symReflaction},updateAnother:function(a,b){var c=this.getVertex(),d=e.fromPoints(a.getPoint(),c),f=e.fromPoints(c,b.getPoint());return f=d.normalize(this.isSymReflaction()?d.length():f.length()),b.setPoint(c.x+f.x,c.y+f.y),this},setSmooth:function(a){var b;return this.smooth=!!a,this.smooth&&(b=this.lastControlPointSet)&&this.updateAnother(b,b==this.forward?this.backward:this.forward),this},isSmooth:function(){return this.smooth},getVertex:function(){return this.vertex.getPoint()},getForward:function(){return this.forward.getPoint()},getBackward:function(){return this.backward.getPoint()},update:function(){return this.container?void(this.container.update&&this.container.update(this)):this}});return f}},_p[25]={value:function(a,b,c){var d=_p.r(11).createClass("Box",{constructor:function(a,b,c,d){var e=arguments[0];e&&"object"==typeof e&&(a=e.x,b=e.y,c=e.width,d=e.height),0>c&&(a-=c=-c),0>d&&(b-=d=-d),this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.left=this.x,this.right=this.x+this.width,this.top=this.y,this.bottom=this.y+this.height,this.cx=this.x+this.width/2,this.cy=this.y+this.height/2},getRangeX:function(){return[this.left,this.right]},getRangeY:function(){return[this.top,this.bottom]},merge:function(a){if(this.isEmpty())return new d(a.x,a.y,a.width,a.height);var b=Math.min(this.left,a.left),c=Math.max(this.right,a.right),e=Math.min(this.top,a.top),f=Math.max(this.bottom,a.bottom);return new d(b,e,c-b,f-e)},intersect:function(a){!a instanceof d&&(a=new d(a));var b=Math.max(this.left,a.left),c=Math.min(this.right,a.right),e=Math.max(this.top,a.top),f=Math.min(this.bottom,a.bottom);return b>c||e>f?new d:new d(b,e,c-b,f-e)},expand:function(a,b,c,e){if(arguments.length<1)return new d(this);arguments.length<2&&(b=a),arguments.length<3&&(c=a),arguments.length<4&&(e=b);var f=this.left-e,g=this.top-a,h=this.width+b,i=this.height+a;return new d(f,g,h,i)},valueOf:function(){return[this.x,this.y,this.width,this.height]},toString:function(){return this.valueOf().join(" ")},isEmpty:function(){return!this.width||!this.height}});return d.parse=function(a){return"string"==typeof a?d.parse(a.split(/[\s,]+/).map(parseFloat)):a instanceof Array?new d(a[0],a[1],a[2],a[3]):"x"in a?new d(a):null},d}},_p[26]={value:function(a,b,c){return _p.r(11).createClass("Circle",{base:_p.r(32),constructor:function(a,b,c){this.callBase(a,a,b,c)},getRadius:function(){return this.getRadiusX()},setRadius:function(a){return this.callBase(a,a)}})}},_p[27]={value:function(a,b,c){var d=_p.r(11),e=_p.r(60),f=d.createClass("Clip",{base:e,mixins:[_p.r(61)],constructor:function(a){this.callBase("clipPath",a)},clip:function(a){return a.getNode().setAttribute("clip-path",this),this}});return d.extendClass(e,{clipWith:function(a){return a instanceof e&&(a=new f(a.getPaper()).addShape(a)),a.clip(this),this}}),f}},_p[28]={value:function(a,b,c){var d=_p.r(12),e=_p.r(64),f={},g=_p.r(11).createClass("Color",{constructor:function(){var a=null;"string"==typeof arguments[0]?(a=f.parseToValue(arguments[0]),null===a&&(a={r:0,g:0,b:0,h:0,s:0,l:0,a:1})):(a={r:0|arguments[0],g:0|arguments[1],b:0|arguments[2],a:void 0===arguments[3]?1:parseFloat(arguments[3])},a=f.overflowFormat(a),a=d.extend(a,f.rgbValueToHslValue(a))),this._color=a},set:function(a,b){if(!g._MAX_VALUE[a])throw new Error("Color set(): Illegal parameter");return"a"!==a&&(b=Math.floor(b)),"h"==a&&(b=(b+360)%360),this._color[a]=Math.max(g._MIN_VALUE[a],Math.min(g._MAX_VALUE[a],b)),-1!=="rgb".indexOf(a)?this._color=d.extend(this._color,f.rgbValueToHslValue(this._color)):-1!=="hsl".indexOf(a)&&(this._color=d.extend(this._color,f.hslValueToRGBValue(this._color))),this},inc:function(a,b){return b=this.get(a)+b,"h"==a?b=(b+360)%360:(b=Math.min(g._MAX_VALUE[a],b),b=Math.max(g._MIN_VALUE[a],b)),this.clone().set(a,b)},dec:function(a,b){return this.inc(a,-b)},clone:function(){return new g(this.toRGBA())},get:function(a){return g._MAX_VALUE[a]?this._color[a]:null},getValues:function(){return d.clone(this._color)},valueOf:function(){return this.getValues()},toRGB:function(){return f.toString(this._color,"rgb")},toRGBA:function(){return f.toString(this._color,"rgba")},toHEX:function(){return f.toString(this._color,"hex")},toHSL:function(){return f.toString(this._color,"hsl")},toHSLA:function(){return f.toString(this._color,"hsla")},toString:function(){return 1===this._color.a?this.toRGB():this.toRGBA()}});return d.extend(g,{_MAX_VALUE:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},_MIN_VALUE:{r:0,g:0,b:0,h:0,s:0,l:0,a:0},R:"r",G:"g",B:"b",H:"h",S:"s",L:"l",A:"a",parse:function(a){var b;return d.isString(a)&&(b=f.parseToValue(a)),d.isObject(a)&&"r"in a&&(b=a),null===b?new g:new g(b.r,b.g,b.b,b.a)},createHSL:function(a,b,c){return g.createHSLA(a,b,c,1)},createHSLA:function(a,b,c,d){var e=null;return b+="%",c+="%",e=["hsla("+a,b,c,d+")"],g.parse(e.join(", "))},createRGB:function(a,b,c){return g.createRGBA(a,b,c,1)},createRGBA:function(a,b,c,d){return new g(a,b,c,d)}}),d.extend(f,{parseToValue:function(a){var b={};if(a=e.EXTEND_STANDARD[a]||e.COLOR_STANDARD[a]||a,/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a))b=f.hexToValue(a);else if(/^(rgba?)/i.test(a))b=f.rgbaToValue(a);else{if(!/^(hsla?)/i.test(a))return null;b=f.hslaToValue(a)}return f.overflowFormat(b)},hexToValue:function(a){var b={},c=["r","g","b"];return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a)?(a=RegExp.$1.split(""),d.each(c,function(c,d){3===a.length?b[c]=f.toNumber(a[d]+a[d]):b[c]=f.toNumber(a[2*d]+a[2*d+1])}),b=d.extend(b,f.rgbValueToHslValue(b)),b.a=1,b):null},rgbaToValue:function(a){var b={},c=!1,e=["r","g","b"];return/^(rgba?)/i.test(a)?(c=4===RegExp.$1.length,a=a.replace(/^rgba?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),d.each(e,function(c,d){b[c]=0|a[d]}),b=d.extend(b,f.rgbValueToHslValue(b)),b.a=c?parseFloat(a[3]):1,b):null},hslaToValue:function(a){var b={},c=!1;return/^(hsla?)/i.test(a)?(c=4===RegExp.$1.length,a=a.replace(/^hsla?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),b.h=0|a[0],b.s=0|a[1],b.l=0|a[2],b=d.extend(b,f.hslValueToRGBValue(b)),b=f.hslValueToRGBValue(b),b.a=c?parseFloat(a[3]):1,b):null},hslValueToRGBValue:function(a){function b(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(6*(2/3-c)):a}var c=null,e=null,f={};return a=d.extend({},a),a.h=a.h/360,a.s=a.s/100,a.l=a.l/100,0===a.s?f.r=f.g=f.b=a.l:(c=a.l<.5?a.l*(1+a.s):a.l+a.s-a.l*a.s,
e=2*a.l-c,f.r=b(e,c,a.h+1/3),f.g=b(e,c,a.h),f.b=b(e,c,a.h-1/3)),f.r=Math.min(Math.round(255*f.r),255),f.g=Math.min(Math.round(255*f.g),255),f.b=Math.min(Math.round(255*f.b),255),f},rgbValueToHslValue:function(a){var b=null,c=null,e={};return a=d.extend({},a),a.r=a.r/255,a.g=a.g/255,a.b=a.b/255,b=Math.max(a.r,a.g,a.b),c=Math.min(a.r,a.g,a.b),b===c?e.h=0:b===a.r?a.g>=a.b?e.h=60*(a.g-a.b)/(b-c):e.h=60*(a.g-a.b)/(b-c)+360:b===a.g?e.h=60*(a.b-a.r)/(b-c)+120:b===a.b&&(e.h=60*(a.r-a.g)/(b-c)+240),e.l=(b+c)/2,0===e.l||b===c?e.s=0:e.l>0&&e.l<=.5?e.s=(b-c)/(b+c):e.s=(b-c)/(2-b-c),e.h=Math.round(e.h),e.s=Math.round(100*e.s),e.l=Math.round(100*e.l),e},toString:function(a,b){var c=[];return a=d.extend({},a),-1!==b.indexOf("hsl")&&(a.s+="%",a.l+="%"),"hex"!==b?(d.each(b.split(""),function(b){c.push(a[b])}),(b+"("+c.join(", ")+")").toLowerCase()):(c.push(f.toHexValue(+a.r)),c.push(f.toHexValue(+a.g)),c.push(f.toHexValue(+a.b)),("#"+c.join("")).toLowerCase())},toNumber:function(a){return 0|Number("0x"+a)},toHexValue:function(a){var b=a.toString(16);return 1===b.length?"0"+b:b},overflowFormat:function(a){var b=d.extend({},a),c="rgba";return d.each(c.split(""),function(a){b.hasOwnProperty(a)&&(b[a]=Math.min(g._MAX_VALUE[a],b[a]),b[a]=Math.max(g._MIN_VALUE[a],b[a]))}),b}}),g}},_p[29]={value:function(a,b,c){function d(){return this.container.removeItem(this),this}return _p.r(11).createClass("Container",{getItems:function(){return this.items||(this.items=[])},getItem:function(a){return this.getItems()[a]},getFirstItem:function(){return this.getItem(0)},getLastItem:function(){return this.getItem(this.getItems().length-1)},indexOf:function(a){return this.getItems().indexOf(a)},eachItem:function(a){var b,c=this.getItems(),d=c.length;for(b=0;d>b;b++)a.call(this,b,c[b]);return this},addItem:function(a,b,c){var e=this.getItems(),f=e.length;return~e.indexOf(a)?this:(b>=0&&f>b||(b=f),e.splice(b,0,a),"object"==typeof a&&(a.container=this,a.remove=d),this.handleAdd(a,b),c||this.onContainerChanged("add",[a]),this)},addItems:function(a){for(var b=0,c=a.length;c>b;b++)this.addItem(a[b],-1,!0);return this.onContainerChanged("add",a),this},setItems:function(a){return this.clear().addItems(a)},appendItem:function(a){return this.addItem(a)},prependItem:function(a){return this.addItem(a,0)},removeItem:function(a,b){if("number"!=typeof a)return this.removeItem(this.indexOf(a));var c=this.getItems(),d=(c.length,c[a]);return void 0===d?this:(c.splice(a,1),d.container&&delete d.container,d.remove&&delete d.remove,this.handleRemove(d,a),b||this.onContainerChanged("remove",[d]),this)},clear:function(){for(var a,b=[];a=this.getFirstItem();)b.push(a),this.removeItem(0,!0);return this.onContainerChanged("remove",b),this},onContainerChanged:function(a,b){},handleAdd:function(a,b){},handleRemove:function(a,b){}})}},_p[30]={value:function(a,b,c){var d=_p.r(12),e={getCurvePanLines:function(a,b){var c=e.getCenterPoints(a),d=e.getPanLine(a.length,c);return e.getMovedPanLines(a,d,b)},getCenterPoints:function(a){for(var b={},c=null,d=0,e=0,f=a.length;f>d;d++)e=d===f-1?0:d+1,c=d+","+e,b[c]={x:(a[d].x+a[e].y)/2,y:(a[d].x+a[e].y)/2};return b},getPanLine:function(a,b){for(var c,d={},e=null,f=0;a>f;f++){var g=null,h=null;c=(f+1)%a,e=c,g=b[f+","+c],f=c,c=(f+1)%a,h=b[f+","+c],d[e]={points:[{x:g.x,y:g.y},{x:h.x,y:h.y}],center:{x:(g.x+h.x)/2,y:(g.y+h.y)/2}},f=(e+a-1)%a}return d},getMovedPanLines:function(a,b,c){var e={};return d.each(a,function(a,f){var g=b[f],h=g.center,i={x:h.x-a.x,y:h.y-a.y},j=e[f]={points:[],center:{x:a.x,y:a.y}};d.each(g.points,function(a,b){var d={x:a.x-i.x,y:a.y-i.y},e=j.center,f=d.x-e.x,g=d.y-e.y;d.x=e.x+c*f,d.y=e.y+c*g,j.points.push(d)})}),e}};return _p.r(11).createClass("Curve",{base:_p.r(46),mixins:[_p.r(51)],constructor:function(a,b){this.callBase(),this.setPoints(a||[]),this.closeState=!!b,this.changeable=!0,this.smoothFactor=1,this.update()},onContainerChanged:function(){this.changeable&&this.update()},setSmoothFactor:function(a){return this.smoothFactor=0>a?0:a,this.update(),this},getSmoothFactor:function(){return this.smoothFactor},update:function(){var a=this.getPoints(),b=null,c=this.getDrawer(),d=null,f=null,g=null;if(c.clear(),0===a.length)return this;if(c.moveTo(a[0]),1===a.length)return this;if(2===a.length)return c.lineTo(a[1]),this;b=e.getCurvePanLines(a,this.getSmoothFactor());for(var h=1,i=a.length;i>h;h++)d=b[h].center,f=this.closeState||h!=i-1?b[h].points[0]:b[h].center,g=this.closeState||1!=h?b[h-1].points[1]:b[h-1].center,c.bezierTo(g.x,g.y,f.x,f.y,d.x,d.y);return this.closeState&&(d=b[0].center,f=b[0].points[0],g=b[a.length-1].points[1],c.bezierTo(g.x,g.y,f.x,f.y,d.x,d.y)),this},close:function(){return this.closeState=!0,this.update()},open:function(){return this.closeState=!1,this.update()},isClose:function(){return!!this.closeState}})}},_p[31]={value:function(a,b,c){return _p.r(11).createClass("Data",{constructor:function(){this._data={}},setData:function(a,b){return this._data[a]=b,this},getData:function(a){return this._data[a]},removeData:function(a){return delete this._data[a],this}})}},_p[32]={value:function(a,b,c){var d=(_p.r(12),_p.r(50));return _p.r(11).createClass("Ellipse",{base:_p.r(46),constructor:function(a,b,c,d){this.callBase(),this.rx=a||0,this.ry=b||0,this.cx=c||0,this.cy=d||0,this.update()},update:function(){var a=this.rx,b=this.ry,c=this.cx+a,d=this.cx-a,e=this.cy,f=this.getDrawer();return f.clear(),f.moveTo(c,e),f.arcTo(a,b,0,1,1,d,e),f.arcTo(a,b,0,1,1,c,e),this},getRadius:function(){return{x:this.rx,y:this.ry}},getRadiusX:function(){return this.rx},getRadiusY:function(){return this.ry},getCenter:function(){return new d(this.cx,this.cy)},getCenterX:function(){return this.cx},getCenterY:function(){return this.cy},setRadius:function(a,b){return this.rx=a,this.ry=b,this.update()},setRadiusX:function(a){return this.rx=a,this.update()},setRadiusY:function(a){return this.ry=a,this.update()},setCenter:function(a,b){if(1==arguments.length){var c=d.parse(arguments[0]);a=c.x,b=c.y}return this.cx=a,this.cy=b,this.update()},setCenterX:function(a){return this.cx=a,this.update()},setCenterY:function(a){return this.cy=a,this.update()}})}},_p[33]={value:function(a,b,c){function d(a,b,c){return c=!!c,j.isString(a)&&(a=a.match(/\S+/g)),j.each(a,function(a){f.call(this,this.node,a,b,c)},this),this}function e(a,b){var c=null,d=this._EVNET_UID,e=void 0===b;return c=m[d][a],e||(e=!0,j.each(c,function(a,d){a===b?delete c[d]:e=!1})),e&&(h(this.node,a,l[d][a]),delete m[d][a],delete l[d][a]),this}function f(a,b,c,d){var e=this._EVNET_UID,f=this;l[e]||(l[e]={}),l[e][b]||(l[e][b]=function(a){a=new k(a||window.event),j.each(m[e][b],function(c){var e;return c&&(e=c.call(f,a),d&&f.off(b,c)),e},f)}),m[e]||(m[e]={}),m[e][b]?m[e][b].push(c):(m[e][b]=[c],a&&"on"+b in a&&g(a,b,l[e][b]))}function g(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function h(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent(b,c)}function i(a,b,c){var d=null,e=null,f=l[a._EVNET_UID];f&&(e=f[b],e&&(d=j.extend({type:b,target:a},c||{}),e.call(a,d)))}!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}();var j=_p.r(12),k=_p.r(62),l={},m={},n=0;return _p.r(11).createClass("EventHandler",{constructor:function(){this._EVNET_UID=++n},addEventListener:function(a,b){return d.call(this,a,b,!1)},addOnceEventListener:function(a,b){return d.call(this,a,b,!0)},removeEventListener:function(a,b){return e.call(this,a,b)},on:function(a,b){return this.addEventListener.apply(this,arguments)},once:function(a,b){return this.addOnceEventListener.apply(this,arguments)},off:function(){return this.removeEventListener.apply(this,arguments)},fire:function(a,b){return this.trigger.apply(this,arguments)},trigger:function(a,b){return i(this,a,b),this}})}},_p[34]={value:function(a){function b(a){var b,c,d,e,f;for(b=[],c=0;c<a.length;c++)for(e=a[c],b.push(f=[]),d=0;d<e.length;d++)f.push(e[d]);return a.isUniform&&(b.isUniform=!0),a.isAbsolute&&(b.isAbsolute=!0),a.isCurve&&(b.isCurve=!0),b}function c(a,b,c){function d(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function e(){var f=Array.prototype.slice.call(arguments,0),g=f.join("␀"),h=e.cache=e.cache||{},i=e.count=e.count||[];return h.hasOwnProperty(g)?(d(i,g),c?c(h[g]):h[g]):(i.length>=1e3&&delete h[i.shift()],i.push(g),h[g]=a.apply(b,f),c?c(h[g]):h[g])}return e}function d(a,b,c,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q=Math,R=Q.PI,S=Math.abs,T=120*R/180,U=R/180*(+f||0),V=[],W=function(a,b,c){var d=a*Q.cos(c)-b*Q.sin(c),e=a*Q.sin(c)+b*Q.cos(c);return{x:d,y:e}};if(k?(w=k[0],x=k[1],u=k[2],v=k[3]):(l=W(a,b,-U),a=l.x,b=l.y,l=W(i,j,-U),i=l.x,j=l.y,m=Q.cos(R/180*f),n=Q.sin(R/180*f),p=(a-i)/2,q=(b-j)/2,o=p*p/(c*c)+q*q/(e*e),o>1&&(o=Q.sqrt(o),c=o*c,e=o*e),r=c*c,s=e*e,t=(g==h?-1:1)*Q.sqrt(S((r*s-r*q*q-s*p*p)/(r*q*q+s*p*p))),u=t*c*q/e+(a+i)/2,v=t*-e*p/c+(b+j)/2,w=Q.asin(((b-v)/e).toFixed(9)),x=Q.asin(((j-v)/e).toFixed(9)),w=u>a?R-w:w,x=u>i?R-x:x,0>w&&(w=2*R+w),0>x&&(x=2*R+x),h&&w>x&&(w-=2*R),!h&&x>w&&(x-=2*R)),y=x-w,S(y)>T&&(z=x,A=i,B=j,x=w+T*(h&&x>w?1:-1),i=u+c*Q.cos(x),j=v+e*Q.sin(x),V=d(i,j,c,e,f,0,h,A,B,[x,z,u,v])),y=x-w,C=Q.cos(w),D=Q.sin(w),E=Q.cos(x),F=Q.sin(x),G=Q.tan(y/4),H=4/3*c*G,I=4/3*e*G,J=[a,b],K=[a+H*D,b-I*C],L=[i+H*F,j-I*E],M=[i,j],K[0]=2*J[0]-K[0],K[1]=2*J[1]-K[1],k)return[K,L,M].concat(V);for(V=[K,L,M].concat(V).join().split(","),N=[],O=0,P=V.length;P>O;O++)N[O]=O%2?W(V[O-1],V[O],U).y:W(V[O],V[O+1],U).x;return N}function e(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function f(a,b){function c(a){return function(b,c){return b+a*(c-b)}}var d=c(b||.5),e=a,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=d(f,h),o=d(g,i),p=d(h,j),q=d(i,k),r=d(j,l),s=d(k,m),t=d(n,p),u=d(o,q),v=d(p,r),w=d(q,s),x=d(t,v),y=d(u,w);return[[f,g,n,o,t,u,x,y],[x,y,v,w,r,s,l,m]]}var g=_p.r(12),h=_p.r(50),i=_p.r(73),j=_p.r(43),k={},l=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?\s*)+)/gi,m=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};k.pathToString=function(a){return a=a||this,"string"==typeof a?a:a instanceof Array?(a=g.flatten(a),a.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")):void 0},k.parsePathString=c(function(a){var b=[];return a.replace(l,function(a,c,d){var e=[],f=c.toLowerCase();if(d.replace(m,function(a,b){b&&e.push(+b)}),"m"==f&&e.length>2&&(b.push([c].concat(e.splice(0,2))),f="l",c="m"==c?"l":"L"),"r"==f)b.push([c].concat(e));else for(;e.length>=n[f]&&(b.push([c].concat(e.splice(0,n[f]))),n[f]););}),b.isUniform=!0,b.toString=k.pathToString,b}),k.pathToAbsolute=c(function(a){var b,c,d,e,f,g,h,i,j=a.isUniform?a:k.parsePathString(k.pathToString(a)),l=[],m=0,n=0,o=0,p=0,q=0;for("M"==j[0][0]&&(m=+j[0][1],n=+j[0][2],o=m,p=n,q++,l[0]=["M",m,n]),d=q,g=j.length;g>d;d++){if(l.push(b=[]),c=j[d],c[0]!=c[0].toUpperCase())switch(b[0]=c[0].toUpperCase(),b[0]){case"A":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]+m),b[7]=+(c[7]+n);break;case"V":b[1]=+c[1]+n;break;case"H":b[1]=+c[1]+m;break;case"M":o=+c[1]+m,p=+c[2]+n;break;default:for(e=1,h=c.length;h>e;e++)b[e]=+c[e]+(e%2?m:n)}else for(f=0,i=c.length;i>f;f++)b[f]=c[f];switch(b[0]){case"Z":m=o,n=p;break;case"H":m=b[1];break;case"V":n=b[1];break;case"M":o=b[b.length-2],p=b[b.length-1];break;default:m=b[b.length-2],n=b[b.length-1]}}return l.isUniform=!0,l.isAbsolute=!0,l.toString=k.pathToString,l}),k.pathToCurve=c(function(a){var b,c,f,g,h,i,j,l,m,n,o,p,q=[];for(a.isAbsolute||(a=k.pathToAbsolute(a)),b=0;b<a.length;b++)if(f=a[b][0],g=a[b].slice(1),"M"!=f){switch("Z"==f&&(l=!0,f="L",g=h),j=g.slice(g.length-2),"H"==f&&(j=[g[0],i[1]],f="L"),"V"==f&&(j=[i[0],g[0]],f="L"),("S"==f||"T"==f)&&(n=[i[0]+(i[0]-m[0]),i[1]+(i[1]-m[1])]),f){case"L":o=i,p=j;break;case"C":o=g.slice(0,2),p=g.slice(2,4);break;case"S":o=n.slice(),p=g.slice(0,2);break;case"Q":m=g.slice(0,2),g=e.apply(null,i.concat(g)),o=g.slice(0,2),p=g.slice(2,4);break;case"T":g=e.apply(null,i.concat(n).concat(g)),o=g.slice(0,2),p=g.slice(2,4);break;case"A":for(g=d.apply(null,i.concat(g)),c=0;c in g;)o=g.slice(c,c+2),p=g.slice(c+2,c+4),j=g.slice(c+4,c+6),q.push(["C"].concat(o).concat(p).concat(j)),c+=6}"A"!=f&&q.push(["C"].concat(o).concat(p).concat(j)),i=j,"Q"!=f&&(m=p),l&&(q.push(["Z"]),l=!1)}else h=m=i=g,q.push(a[b]);return q.isUniform=!0,q.isAbsolute=!0,q.isCurve=!0,q.toString=k.pathToString,q}),k.cutBezier=c(f),k.subBezier=function(a,b,c){var d=f(a,b)[0];return c?f(d,c/b)[1]:d},k.pointAtBezier=function(a,b){var c=f(a,b)[0],d=h.parse(c.slice(6)),e=h.parse(c.slice(4,2)),g=i.fromPoints(e,d);return 0===b?d.tan=k.pointAtBezier(a,.01).tan:d.tan=g.normalize(),d},k.bezierLength=c(function(a){function b(a){var b=i*Math.pow(a,4)+j*Math.pow(a,3)+k*Math.pow(a,2)+l*a+m;return 0>b&&(b=0),Math.pow(b,.5)}var c,d,e,f,g,h,i,j,k,l,m,n=a;return c=-3*n[0]+9*n[2]-9*n[4]+3*n[6],d=6*n[0]-12*n[2]+6*n[4],e=-3*n[0]+3*n[2],f=-3*n[1]+9*n[3]-9*n[5]+3*n[7],g=6*n[1]-12*n[3]+6*n[5],h=-3*n[1]+3*n[3],i=Math.pow(c,2)+Math.pow(f,2),j=2*(c*d+f*g),k=2*(c*e+f*h)+Math.pow(d,2)+Math.pow(g,2),l=2*(d*e+g*h),m=Math.pow(e,2)+Math.pow(h,2),(b(0)+b(1)+4*(b(.125)+b(.375)+b(.625)+b(.875))+2*(b(.25)+b(.5)+b(.75)))/24});var o=c(function(a){var b,c,d,e,f,g,h;for(g=[],h=0,b=0,c=a.length;c>b;b++)d=a[b],"M"!=d[0]?"Z"!=d[0]?(f=k.bezierLength(e.concat(d.slice(1))),g.push([h,h+f]),h+=f,e=d.slice(4)):g.push(null):(e=d.slice(1),g.push(null));return g.totalLength=h,g});k.subPath=function(a,b,c){var d;if(c=c||0,d=b-c,d-=0|d,c-=0|c,b=c+d,b>1)return k.subPath(a,1,c).concat(k.subPath(a,b-1));a.isCurve||(a=k.pathToCurve(a));var e,f,g,h,i,j,l,m,n,p=o(a),q=p.totalLength,r=q*b,s=q*(c||0),t=[];for(e=0,f=a.length;f>e;e++)if("M"!=a[e][0]){if("Z"!=a[e][0])if(g=p[e][0],h=p[e][1],i=h-g,l=j.concat(a[e].slice(1)),s>h)j=l.slice(l.length-2);else{if(s>=g)m=k.subBezier(l,Math.min((r-g)/i,1),(s-g)/i),n=!0,j=m.slice(0,2),t.push(["M"].concat(m.slice(0,2))),t.push(["C"].concat(m.slice(2)));else if(r>=h)t.push(a[e].slice());else{if(!(r>=g))break;m=k.subBezier(l,(r-g)/i),t.push(["C"].concat(m.slice(2))),n=!1}j=l.slice(l.length-2)}}else j=a[e].slice(1),n&&t.push(a[e].slice());return t.isAbsolute=!0,t.isCurve=!0,t.isUniform=!0,t.toString=k.pathToString,t},k.pointAtPath=function(a,b){a.isCurve||(a=k.pathToCurve(a));var c=k.subPath(a,b),d="Z"==c[c.length-1][0]?c[c.length-2]:c[c.length-1];d=d.slice(1);var e=h.parse(d.slice(4)),f=h.parse(d.slice(2,4));return e.tan=i.fromPoints(f,e).normalize(),e},k.pathLength=c(function(a){a.isCurve||(a=k.pathToCurve(a));var b=o(a);return b.totalLength}),k.pathKeyPoints=c(function(a){var b,c,d;for(a.isCurve||(a=k.pathToCurve(a)),d=[],b=0,c=a.length;c>b;b++)"z"!=a[b][0]&&d.push(a[b].slice(a[b].length-2));return d});var p=c(function(a,c){function d(a,b){return a[b||a.i]&&a[b||a.i][0]}function e(a,b){return a[b||a.i]&&a[b||a.i].slice(1)}function f(a,b){var c=e(a,b);return c&&c.slice(-2)}function g(a){return"Z"==d(a)?(a.splice(a.i,1),!0):!1}function h(a){return"M"==d(a)?(a.o.splice(a.o.i,0,["M"].concat(f(a.o,a.o.i-1))),a.i++,a.o.i++,!0):!1}function i(a){for(var b,c=1;!b;)b=f(a,a.length-c++);for(a.o.i=a.i;a.length<a.o.length;)g(a.o)||h(a.o)||(a.push(["C"].concat(b).concat(b).concat(b)),a.i++,a.o.i++)}a.isCurve||(a=k.pathToCurve(a)),c.isCurve||(c=k.pathToCurve(c));var j=b(a),l=b(c);for(j.i=0,l.i=0,j.o=l,l.o=j;j.i<j.length&&l.i<l.length;)g(j)||g(l)||(d(j)!=d(l)?h(j)||h(l)||(j.i++,l.i++):(j.i++,l.i++));return j.i==j.length&&i(j),l.i==l.length&&i(l),delete j.i,delete j.o,delete l.i,delete l.o,[j,l]});return k.alignCurve=p,k.pathTween=function(a,b,c){if(0===c)return a;if(1===c)return b;var d,e,f,g=p(a,b),h=[];for(a=g[0],b=g[1],e=0;e<a.length;e++)for(h.push(d=[]),d.push(a[e][0]),f=1;f<a[e].length;f++)d.push(a[e][f]+c*(b[e][f]-a[e][f]));return h.isUniform=h.isCurve=h.isAbsolute=!0,h},k.transformPath=c(function(a,b){var c,d,e,f,g,i;for(a.isCurve||(a=k.pathToCurve(a)),f=[],c=0,d=a.length;d>c;c++)for(f.push(g=[a[c][0]]),e=1;e<a[c].length;e+=2)i=a[c].slice(e,e+2),i=b.transformPoint(h.parse(i)),f.push(i);return f}),_p.r(11).extendClass(j,{transformPath:function(a){return k.transformPath(a,this)}}),k}},_p[35]={value:function(a,b,c){var d=_p.r(67),e=_p.r(58),f=_p.r(28);return _p.r(11).createClass("GradientBrush",{base:e,constructor:function(a,b){this.callBase(a,b),this.stops=[]},addStop:function(a,b,c){var e=d.createNode("stop");return b instanceof f||(b=f.parse(b)),void 0===c&&(c=b.get("a")),e.setAttribute("offset",a),e.setAttribute("stop-color",b.toRGB()),1>c&&e.setAttribute("stop-opacity",c),this.node.appendChild(e),this}})}},_p[36]={value:function(a,b,c){var d=_p.r(61);return _p.r(11).createClass("Group",{mixins:[d],base:_p.r(60),constructor:function(){this.callBase("g")}})}},_p[37]={value:function(a,b,c){var d=_p.r(61);return _p.r(11).createClass("HyperLink",{mixins:[d],base:_p.r(60),constructor:function(a){this.callBase("a"),this.setHref(a)},setHref:function(a){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),this},getHref:function(){return this.node.getAttributeNS("xlink:href")},setTarget:function(a){return this.node.setAttribute("target",a),this},getTarget:function(){return this.node.getAttribute("target")}})}},_p[38]={value:function(a,b,c){return _p.r(11).createClass("Image",{base:_p.r(60),constructor:function(a,b,c,d,e){this.callBase("image"),this.url=a,this.width=b||0,this.height=c||0,this.x=d||0,this.y=e||0,this.update()},update:function(){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.url),this.node.setAttribute("x",this.x),this.node.setAttribute("y",this.y),this.node.setAttribute("width",this.width),this.node.setAttribute("height",this.height),this},setUrl:function(a){return this.url=""===a?null:a,this.update()},getUrl:function(){return this.url},setWidth:function(a){return this.width=a,this.update()},getWidth:function(){return this.width},setHeight:function(a){return this.height=a,this.update()},getHeight:function(){return this.height},setX:function(a){return this.x=a,this.update()},getX:function(){return this.x},setY:function(a){return this.y=a,this.update()},getY:function(){return this.y}})}},_p[39]={value:function(a,b,c){return _p.r(11).createClass("Line",{base:_p.r(46),constructor:function(a,b,c,d){this.callBase(),this.point1={x:a||0,y:b||0},this.point2={x:c||0,y:d||0},this.update()},setPoint1:function(a,b){return this.point1.x=a,this.point1.y=b,this.update()},setPoint2:function(a,b){return this.point2.x=a,this.point2.y=b,this.update()},getPoint1:function(){return{x:this.point1.x,y:this.point1.y}},getPoint2:function(){return{x:this.point2.x,y:this.point2.y}},update:function(){var a=this.getDrawer();return a.clear(),a.moveTo(this.point1.x,this.point1.y),a.lineTo(this.point2.x,this.point2.y),this}})}},_p[40]={value:function(a,b,c){var d=(_p.r(67),_p.r(35));return _p.r(11).createClass("LinearGradientBrush",{base:d,constructor:function(a){this.callBase("linearGradient",a),this.setStartPosition(0,0),this.setEndPosition(1,0)},setStartPosition:function(a,b){return this.node.setAttribute("x1",a),this.node.setAttribute("y1",b),this},setEndPosition:function(a,b){return this.node.setAttribute("x2",a),this.node.setAttribute("y2",b),this},getStartPosition:function(){return{x:+this.node.getAttribute("x1"),y:+this.node.getAttribute("y1")}},getEndPosition:function(){return{x:+this.node.getAttribute("x2"),y:+this.node.getAttribute("y2")}}})}},_p[41]={value:function(a,b,c){var d=_p.r(50),e=_p.r(11).createClass("Marker",{base:_p.r(58),mixins:[_p.r(61),_p.r(75)],constructor:function(){this.callBase("marker"),this.setOrient("auto")},setRef:function(a,b){return 1===arguments.length&&(b=a.y,a=a.x),this.node.setAttribute("refX",a),this.node.setAttribute("refY",b),this},getRef:function(){return new d(+this.node.getAttribute("refX"),+this.node.getAttribute("refY"))},setWidth:function(a){return this.node.setAttribute("markerWidth",this.width=a),this},setOrient:function(a){return this.node.setAttribute("orient",this.orient=a),this},getOrient:function(){return this.orient},getWidth:function(){return+this.width},setHeight:function(a){return this.node.setAttribute("markerHeight",this.height=a),this},getHeight:function(){return+this.height}}),f=_p.r(46);return _p.r(11).extendClass(f,{setMarker:function(a,b){return b=b||"end",a?this.node.setAttribute("marker-"+b,a.toString()):this.node.removeAttribute("marker-"+b),this}}),e}},_p[42]={value:function(a,b,c){var d=_p.r(11),e=_p.r(60),f=d.createClass("Mask",{base:e,mixins:[_p.r(61)],constructor:function(){this.callBase("mask")},mask:function(a){return a.getNode().setAttribute("mask","url(#"+this.getId()+")"),this}});return d.extendClass(e,{maskWith:function(a){return a.mask(this),this}}),f}},_p[43]={value:function(a,b,c){function d(a,b){return{a:b.a*a.a+b.c*a.b,b:b.b*a.a+b.d*a.b,c:b.a*a.c+b.c*a.d,d:b.b*a.c+b.d*a.d,e:b.a*a.e+b.c*a.f+b.e,f:b.b*a.e+b.d*a.f+b.f}}function e(a){return a*Math.PI/180}var f=_p.r(12),g=_p.r(25),h=/matrix\s*\((.+)\)/i,i=_p.r(50),j=_p.r(11).createClass("Matrix",{constructor:function(){arguments.length?this.setMatrix.apply(this,arguments):this.setMatrix(1,0,0,1,0,0)},translate:function(a,b){return this.m=d(this.m,{a:1,c:0,e:a,b:0,d:1,f:b}),this},rotate:function(a){var b=e(a),c=Math.sin(b),f=Math.cos(b);return this.m=d(this.m,{a:f,c:-c,e:0,b:c,d:f,f:0}),this},scale:function(a,b){return void 0===b&&(b=a),this.m=d(this.m,{a:a,c:0,e:0,b:0,d:b,f:0}),this},skew:function(a,b){void 0===b&&(b=a);var c=Math.tan(e(a)),f=Math.tan(e(b));return this.m=d(this.m,{a:1,c:c,e:0,b:f,d:1,f:0}),this},inverse:function(){var a,b,c,d,e,f,g,h=this.m,i=h.a,k=h.b,l=h.c,m=h.d,n=h.e,o=h.f;return a=i*m-k*l,b=m/a,c=-k/a,d=-l/a,e=i/a,f=(l*o-n*m)/a,g=(k*n-i*o)/a,new j(b,c,d,e,f,g)},setMatrix:function(a,b,c,d,e,g){return 1===arguments.length?this.m=f.clone(arguments[0]):this.m={a:a,b:b,c:c,d:d,e:e,f:g},this},getMatrix:function(){return f.clone(this.m)},getTranslate:function(){var a=this.m;return{x:a.e/a.a,y:a.f/a.d}},mergeMatrix:function(a){return new j(d(this.m,a.m))},merge:function(a){return this.mergeMatrix(a)},toString:function(){return this.valueOf().join(" ")},valueOf:function(){var a=this.m;return[a.a,a.b,a.c,a.d,a.e,a.f]},equals:function(a){var b=this.m,c=a.m;return b.a==c.a&&b.b==c.b&&b.c==c.c&&b.d==c.d&&b.e==c.e&&b.f==c.f},transformPoint:function(){return j.transformPoint.apply(null,[].slice.call(arguments).concat([this.m]))},transformBox:function(a){return j.transformBox(a,this.m)},clone:function(){return new j(this.m)}});return j.parse=function(a){var b,c=parseFloat;if(a instanceof Array)return new j({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]});if(b=h.exec(a)){var d=b[1].split(",");return 6!=d.length&&(d=b[1].split(" ")),new j({a:c(d[0]),b:c(d[1]),c:c(d[2]),d:c(d[3]),e:c(d[4]),f:c(d[5])})}return new j},j.transformPoint=function(a,b,c){return 2===arguments.length&&(c=b,b=a.y,a=a.x),new i(c.a*a+c.c*b+c.e,c.b*a+c.d*b+c.f)},j.transformBox=function(a,b){for(var c,d,e=Number.MAX_VALUE,h=-Number.MAX_VALUE,i=Number.MAX_VALUE,k=-Number.MAX_VALUE,l=[[a.x,a.y],[a.x+a.width,a.y],[a.x,a.y+a.height],[a.x+a.width,a.y+a.height]],m=[];c=l.pop();)d=j.transformPoint(c[0],c[1],b),m.push(d),e=Math.min(e,d.x),h=Math.max(h,d.x),i=Math.min(i,d.y),k=Math.max(k,d.y);return a=new g({x:e,y:i,width:h-e,height:k-i}),f.extend(a,{closurePoints:m}),a},j.getCTM=function(a,b){function c(a,b){var c;try{c=b.getScreenCTM().inverse()}catch(d){throw new Error("Can not inverse source element' ctm.")}return c.multiply(a.getScreenCTM())}var d={a:1,b:0,c:0,d:1,e:0,f:0},e=a.shapeNode||a.node;switch(b=b||"parent"){case"screen":d=e.getScreenCTM();break;case"doc":case"paper":d=e.getCTM();break;case"view":case"top":a.getPaper()&&(d=void 0!==e.getTransformToElement?e.getTransformToElement(a.getPaper().shapeNode):c(e,a.getPaper().shapeNode));break;case"parent":a.node.parentNode&&(d=void 0!==e.getTransformToElement?e.getTransformToElement(a.node.parentNode):c(e,a.node.parentNode));break;default:b.node&&(d=void 0!==e.getTransformToElement?e.getTransformToElement(b.shapeNode||b.node):c(e,b.shapeNode||b.node))}return d?new j(d.a,d.b,d.c,d.d,d.e,d.f):new j},j}},_p[44]={value:function(a,b,c){var d=_p.r(64),e=_p.r(28),f=_p.r(12),g=_p.r(11).createClass("Palette",{constructor:function(){this.color={}},get:function(a){var b=this.color[a]||d.EXTEND_STANDARD[a]||d.COLOR_STANDARD[a]||"";return b?new e(b):null},getColorValue:function(a){return this.color[a]||d.EXTEND_STANDARD[a]||d.COLOR_STANDARD[a]||""},add:function(a,b){return"string"==typeof b?this.color[a]=new e(b).toRGBA():this.color[a]=b.toRGBA(),b},remove:function(a){return this.color.hasOwnProperty(a)?(delete this.color[a],!0):!1}});return f.extend(g,{getColor:function(a){var b=d.EXTEND_STANDARD[a]||d.COLOR_STANDARD[a];return b?new e(b):null},getColorValue:function(a){return d.EXTEND_STANDARD[a]||d.COLOR_STANDARD[a]||""},addColor:function(a,b){return"string"==typeof b?d.EXTEND_STANDARD[a]=new e(b).toRGBA():d.EXTEND_STANDARD[a]=b.toRGBA(),b},removeColor:function(a){return d.EXTEND_STANDARD.hasOwnProperty(a)?(delete d.EXTEND_STANDARD[a],!0):!1}}),g}},_p[45]={value:function(a,b,c){var d=_p.r(11),e=_p.r(12),f=_p.r(67),g=_p.r(29),h=_p.r(61),i=_p.r(75),j=_p.r(33),k=_p.r(66),l=_p.r(43),m=d.createClass("Paper",{mixins:[h,j,k,i],constructor:function(a){this.callBase(),this.node=this.createSVGNode(),this.node.paper=this,this.node.appendChild(this.resourceNode=f.createNode("defs")),this.node.appendChild(this.shapeNode=f.createNode("g")),this.resources=new g,this.setWidth("100%").setHeight("100%"),a&&this.renderTo(a),this.callMixin()},renderTo:function(a){e.isString(a)&&(a=document.getElementById(a)),this.container=a,a.appendChild(this.node)},createSVGNode:function(){var a=f.createNode("svg");return a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("version","1.1"),a},getNode:function(){return this.node},getContainer:function(){return this.container},getWidth:function(){return this.node.clientWidth},setWidth:function(a){return this.node.setAttribute("width",a),this},getHeight:function(){return this.node.clientHeight},setHeight:function(a){return this.node.setAttribute("height",a),this},setViewPort:function(a,b,c){var d,e;1==arguments.length&&(d=arguments[0],a=d.center.x,b=d.center.y,c=d.zoom),c=c||1,e=this.getViewBox();var f=new l,g=e.x+e.width/2-a,h=e.y+e.height/2-b;return f.translate(-a,-b),f.scale(c),f.translate(a,b),f.translate(g,h),this.shapeNode.setAttribute("transform","matrix("+f+")"),this.viewport={center:{x:a,y:b},offset:{x:g,y:h},zoom:c},this},getViewPort:function(){if(!this.viewport){var a=this.getViewBox();return{zoom:1,center:{x:a.x+a.width/2,y:a.y+a.height/2},offset:{x:0,y:0}}}return this.viewport},getViewPortMatrix:function(){return l.parse(this.shapeNode.getAttribute("transform"))},getViewPortTransform:function(){var a=this.shapeNode.getCTM();return new l(a.a,a.b,a.c,a.d,a.e,a.f)},getTransform:function(){return this.getViewPortTransform().reverse()},addResource:function(a){return this.resources.appendItem(a),a.node&&this.resourceNode.appendChild(a.node),this},removeResource:function(a){return a.remove&&a.remove(),a.node&&this.resourceNode.removeChild(a.node),this},getPaper:function(){return this}}),n=_p.r(60);return d.extendClass(n,{getPaper:function(){for(var a=this.container;a&&a instanceof m==!1;)a=a.container;return a},isAttached:function(){return!!this.getPaper()},whenPaperReady:function(a){function b(){var b=c.getPaper();return b&&a&&a.call(c,b),b}var c=this;return b()||this.on("add treeadd",function d(){b()&&(c.off("add",d),c.off("treeadd",d))}),this}}),m}},_p[46]={value:function(a,b,c){var d=_p.r(12),e=_p.r(11).createClass,f=_p.r(60),g=_p.r(67),h=_p.r(34),i=Array.prototype.slice,j=(d.flatten,e("PathDrawer",{constructor:function(a){this.segment=[],this.path=a,this.__clear=!1},getPath:function(){return this.path},redraw:function(){return this._transation=this._transation||[],this.clear()},done:function(){var a=this._transation;return this._transation=null,this.push(a),this},clear:function(){return this._transation?this._transation=[]:this.path.setPathData("M 0 0"),this._clear=!0,this},push:function(){var a,b=i.call(arguments);return this._transation?(this._transation.push(b),this):(this._clear?(a="",this._clear=!1):a=this.path.getPathData(),a=a||"",this.path.setPathData(a+h.pathToString(b)),this)},moveTo:function(a,b){return this.push("M",i.call(arguments))},moveBy:function(a,b){return this.push("m",i.call(arguments))},lineTo:function(a,b){return this.push("L",i.call(arguments))},lineBy:function(a,b){return this.push("l",i.call(arguments))},arcTo:function(a,b,c,d,e,f,g){return this.push("A",i.call(arguments))},arcBy:function(a,b,c,d,e,f,g){return this.push("a",arguments)},carcTo:function(a,b,c,d,e){return this.push("A",[a,a,0].concat(i.call(arguments,1)))},carcBy:function(a,b,c,d,e){return this.push("a",[a,a,0].concat(i.call(arguments,1)))},bezierTo:function(a,b,c,d,e,f){return this.push("C",i.call(arguments))},bezierBy:function(a,b,c,d,e,f){return this.push("c",i.call(arguments))},close:function(){return this.push("z")}}));return e("Path",{base:f,constructor:function(a){this.callBase("path"),a&&this.setPathData(a),this.node.setAttribute("fill",g.defaults.fill),this.node.setAttribute("stroke",g.defaults.stroke)},setPathData:function(a){return a=a||"M0,0",this.pathdata=h.pathToString(a),this.node.setAttribute("d",this.pathdata),this.trigger("shapeupdate",{type:"pathdata"}),this},getPathData:function(){return this.pathdata||""},getDrawer:function(){return new j(this)},isClosed:function(){var a=this.getPathData();return!!~a.indexOf("z")||!!~a.indexOf("Z")}})}},_p[47]={value:function(a,b,c){var d=_p.r(58),e=_p.r(61);_p.r(67);return _p.r(11).createClass("PatternBrush",{base:d,mixins:[e],constructor:function(a){this.callBase("pattern",a),this.node.setAttribute("patternUnits","userSpaceOnUse")},setX:function(a){return this.x=a,this.node.setAttribute("x",a),this},setY:function(a){return this.y=a,this.node.setAttribute("y",a),this},setWidth:function(a){return this.width=a,this.node.setAttribute("width",a),this},setHeight:function(a){return this.height=a,this.node.setAttribute("height",a),this},getWidth:function(){return this.width},getHeight:function(){return this.height}})}},_p[48]={value:function(a,b,c){var d=_p.r(28);return _p.r(11).createClass("Pen",{constructor:function(a,b){this.brush=a,this.width=b||1,this.linecap=null,this.linejoin=null,this.dashArray=null,this.opacity=1},getBrush:function(){return this.brush},setBrush:function(a){return this.brush=a,this},setColor:function(a){return this.setBrush(a)},getColor:function(){return this.brush instanceof d?this.brush:null},getWidth:function(){return this.width},setWidth:function(a){return this.width=a,this},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},getLineCap:function(){return this.linecap},setLineCap:function(a){return this.linecap=a,this},getLineJoin:function(){return this.linejoin},setLineJoin:function(a){return this.linejoin=a,this},getDashArray:function(){return this.dashArray},setDashArray:function(a){return this.dashArray=a,this},stroke:function(a){var b=a.node;b.setAttribute("stroke",this.brush.toString()),b.setAttribute("stroke-width",this.getWidth()),this.getOpacity()<1&&b.setAttribute("stroke-opacity",this.getOpacity()),this.getLineCap()&&b.setAttribute("stroke-linecap",this.getLineCap()),this.getLineJoin()&&b.setAttribute("stroke-linejoin",this.getLineJoin()),this.getDashArray()&&b.setAttribute("stroke-dasharray",this.getDashArray())}})}},_p[49]={value:function(a,b,c){return _p.r(11).createClass({base:_p.r(68),constructor:function(a,b,c){this.callBase([0,a],b,c)},getRadius:function(){return this.getSectionArray()[1]},setRadius:function(a){this.setSectionArray([0,a])}})}},_p[50]={value:function(a,b,c){var d=_p.r(11).createClass("Point",{constructor:function(a,b){
this.x=a||0,this.y=b||0},offset:function(a,b){return 1==arguments.length&&(b=a.y,a=a.x),new d(this.x+a,this.y+b)},valueOf:function(){return[this.x,this.y]},toString:function(){return this.valueOf().join(" ")},spof:function(){return new d((0|this.x)+.5,(0|this.y)+.5)},round:function(){return new d(0|this.x,0|this.y)},isOrigin:function(){return 0===this.x&&0===this.y}});return d.fromPolar=function(a,b,c){return"rad"!=c&&(b=b/180*Math.PI),new d(a*Math.cos(b),a*Math.sin(b))},d.parse=function(a){return a?a instanceof d?a:"string"==typeof a?d.parse(a.split(/\s*[\s,]\s*/)):"0"in a&&"1"in a?new d(a[0],a[1]):void 0:new d},d}},_p[51]={value:function(a,b,c){return _p.r(11).createClass("PointContainer",{base:_p.r(29),constructor:function(){this.callBase()},addPoint:function(a,b){return this.addItem.apply(this,arguments)},prependPoint:function(){return this.prependItem.apply(this,arguments)},appendPoint:function(){return this.appendItem.apply(this,arguments)},removePoint:function(a){return this.removeItem.apply(this,arguments)},addPoints:function(){return this.addItems.apply(this,arguments)},setPoints:function(){return this.setItems.apply(this,arguments)},getPoint:function(){return this.getItem.apply(this,arguments)},getPoints:function(){return this.getItems.apply(this,arguments)},getFirstPoint:function(){return this.getFirstItem.apply(this,arguments)},getLastPoint:function(){return this.getLastItem.apply(this,arguments)}})}},_p[52]={value:function(a,b,c){_p.r(12);return _p.r(11).createClass("Poly",{base:_p.r(46),mixins:[_p.r(51)],constructor:function(a,b){this.callBase(),this.closeable=!!b,this.setPoints(a||[]),this.changeable=!0,this.update()},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=this.getDrawer(),b=this.getPoints();if(a.clear(),!b.length)return this;a.moveTo(b[0]);for(var c,d=1,e=b.length;e>d;d++)c=b[d],a.lineTo(c);return this.closeable&&b.length>2&&a.close(),this}})}},_p[53]={value:function(a,b,c){return _p.r(11).createClass("Polygon",{base:_p.r(52),constructor:function(a){this.callBase(a,!0)}})}},_p[54]={value:function(a,b,c){return _p.r(11).createClass("Polyline",{base:_p.r(52),constructor:function(a){this.callBase(a)}})}},_p[55]={value:function(a,b,c){var d=_p.r(35);return _p.r(11).createClass("RadialGradientBrush",{base:d,constructor:function(a){this.callBase("radialGradient",a),this.setCenter(.5,.5),this.setFocal(.5,.5),this.setRadius(.5)},setCenter:function(a,b){return this.node.setAttribute("cx",a),this.node.setAttribute("cy",b),this},getCenter:function(){return{x:+this.node.getAttribute("cx"),y:+this.node.getAttribute("cy")}},setFocal:function(a,b){return this.node.setAttribute("fx",a),this.node.setAttribute("fy",b),this},getFocal:function(){return{x:+this.node.getAttribute("fx"),y:+this.node.getAttribute("fy")}},setRadius:function(a){return this.node.setAttribute("r",a),this},getRadius:function(){return+this.node.getAttribute("r")}})}},_p[56]={value:function(a,b,c){var d={},e=_p.r(12),f=_p.r(50),g=_p.r(25);e.extend(d,{formatRadius:function(a,b,c){var d=Math.floor(Math.min(a/2,b/2));return Math.min(d,c)}});var h=_p.r(11).createClass("Rect",{base:_p.r(46),constructor:function(a,b,c,e,f){this.callBase(),this.x=c||0,this.y=e||0,this.width=a||0,this.height=b||0,this.radius=d.formatRadius(this.width,this.height,f||0),this.update()},update:function(){var a=this.x,b=this.y,c=this.width,d=this.height,e=this.radius,f=this.getDrawer().redraw();return e?(c-=2*e,d-=2*e,f.push("M",a+e,b),f.push("h",c),f.push("a",e,e,0,0,1,e,e),f.push("v",d),f.push("a",e,e,0,0,1,-e,e),f.push("h",-c),f.push("a",e,e,0,0,1,-e,-e),f.push("v",-d),f.push("a",e,e,0,0,1,e,-e),f.push("z")):(f.push("M",a,b),f.push("h",c),f.push("v",d),f.push("h",-c),f.push("z")),f.done(),this},setWidth:function(a){return this.width=a,this.update()},setHeight:function(a){return this.height=a,this.update()},setSize:function(a,b){return this.width=a,this.height=b,this.update()},setBox:function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.update()},getBox:function(){return new g(this.x,this.y,this.width,this.height)},getRadius:function(){return this.radius},setRadius:function(a){return this.radius=d.formatRadius(this.width,this.height,a||0),this.update()},getPosition:function(){return new f(this.x,this.y)},setPosition:function(a,b){if(1==arguments.length){var c=f.parse(arguments[0]);b=c.y,a=c.x}return this.x=a,this.y=b,this.update()},getWidth:function(){return this.width},getHeight:function(){return this.height},getPositionX:function(){return this.x},getPositionY:function(){return this.y},setPositionX:function(a){return this.x=a,this.update()},setPositionY:function(a){return this.y=a,this.update()}});return h}},_p[57]={value:function(a,b,c){var d=_p.r(50);return _p.r(11).createClass("RegularPolygon",{base:_p.r(46),constructor:function(a,b,c,e){this.callBase(),this.radius=b||0,this.side=Math.max(a||3,3),arguments.length>2&&3==arguments.length&&(e=c.y,c=c.x),this.center=new d(c,e),this.draw()},getSide:function(){return this.side},setSide:function(a){return this.side=a,this.draw()},getRadius:function(){return this.radius},setRadius:function(a){return this.radius=a,this.draw()},draw:function(){var a,b=this.radius,c=this.side,e=2*Math.PI/c,f=this.getDrawer();for(f.clear(),f.moveTo(d.fromPolar(b,Math.PI/2,"rad").offset(this.center)),a=0;c>=a;a++)f.lineTo(d.fromPolar(b,e*a+Math.PI/2,"rad").offset(this.center));return f.close(),this}})}},_p[58]={value:function(a,b,c){var d=_p.r(67);return _p.r(11).createClass("Resource",{constructor:function(a,b){this.callBase(),this.node=d.createNode(a),b&&b.addResource(this)},toString:function(){return"url(#"+this.node.id+")"}})}},_p[59]={value:function(a,b,c){return _p.r(11).createClass({base:_p.r(68),constructor:function(a,b){this.callBase([a,b],360,0)},getInnerRadius:function(){return this.getSectionArray()[0]},getOuterRadius:function(){return this.getSectionArray()[1]},setInnerRadius:function(a){this.setSectionArray([a,this.getOuterRadius()])},setOuterRadius:function(a){this.setSectionArray([this.getInnerRadius(),a])}})}},_p[60]={value:function(a,b,c){var d=_p.r(67),e=_p.r(12),f=_p.r(33),g=_p.r(66),h=_p.r(31),i=_p.r(43),j=(_p.r(48),Array.prototype.slice),k=_p.r(25),l=_p.r(11).createClass("Shape",{mixins:[f,g,h],constructor:function(a){this.node=d.createNode(a),this.node.shape=this,this.transform={translate:null,rotate:null,scale:null,matrix:null},this.callMixin()},getId:function(){return this.node.id},setId:function(a){return this.node.id=a,this},getNode:function(){return this.node},getBoundaryBox:function(){var a;try{a=this.node.getBBox()}catch(b){a={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}return new k(a)},getRenderBox:function(a){var b=this.getBoundaryBox(),c=this.getTransform(a);return c.transformBox(b)},getWidth:function(){return this.getRenderBox().width},getHeight:function(){return this.getRenderBox().height},getSize:function(){var a=this.getRenderBox();return delete a.x,delete a.y,a},setOpacity:function(a){return this.node.setAttribute("opacity",a),this},getOpacity:function(){var a=this.node.getAttribute("opacity");return a?+a:1},setVisible:function(a){return a?this.node.removeAttribute("display"):this.node.setAttribute("display","none"),this},getVisible:function(){this.node.getAttribute("display")},hasAncestor:function(a){for(var b=this.container;b;){if(b===a)return!0;b=b.container}return!1},getTransform:function(a){return i.getCTM(this,a)},clearTransform:function(){return this.node.removeAttribute("transform"),this.transform={translate:null,rotate:null,scale:null,matrix:null},this.trigger("shapeupdate",{type:"transform"}),this},_applyTransform:function(){var a=this.transform,b=[];return a.translate&&b.push(["translate(",a.translate,")"]),a.rotate&&b.push(["rotate(",a.rotate,")"]),a.scale&&b.push(["scale(",a.scale,")"]),a.matrix&&b.push(["matrix(",a.matrix,")"]),this.node.setAttribute("transform",e.flatten(b).join(" ")),this},setMatrix:function(a){return this.transform.matrix=a,this._applyTransform()},setTranslate:function(a){return this.transform.translate=null!==a&&j.call(arguments)||null,this._applyTransform()},setRotate:function(a){return this.transform.rotate=null!==a&&j.call(arguments)||null,this._applyTransform()},setScale:function(a){return this.transform.scale=null!==a&&j.call(arguments)||null,this._applyTransform()},translate:function(a,b){var c=this.transform.matrix||new i;return void 0===b&&(b=0),this.transform.matrix=c.translate(a,b),this._applyTransform()},rotate:function(a){var b=this.transform.matrix||new i;return this.transform.matrix=b.rotate(a),this._applyTransform()},scale:function(a,b){var c=this.transform.matrix||new i;return void 0===b&&(b=a),this.transform.matrix=c.scale(a,b),this._applyTransform()},skew:function(a,b){var c=this.transform.matrix||new i;return void 0===b&&(b=a),this.transform.matrix=c.skew(a,b),this._applyTransform()},stroke:function(a,b){return a&&a.stroke?a.stroke(this):a?(this.node.setAttribute("stroke",a.toString()),b&&this.node.setAttribute("stroke-width",b)):null===a&&this.node.removeAttribute("stroe"),this},fill:function(a){return a&&this.node.setAttribute("fill",a.toString()),null===a&&this.node.removeAttribute("fill"),this},setAttr:function(a,b){var c=this;return e.isObject(a)&&e.each(a,function(a,b){c.setAttr(b,a)}),void 0===b||null===b||""===b?this.node.removeAttribute(a):this.node.setAttribute(a,b),this},getAttr:function(a){return this.node.getAttribute(a)}});return l}},_p[61]={value:function(a,b,c){var d=_p.r(29),e=_p.r(12),f=_p.r(11).createClass("ShapeContainer",{base:d,isShapeContainer:!0,handleAdd:function(a,b){var c=this.getShapeNode();c.insertBefore(a.node,c.childNodes[b]||null),a.trigger("add",{container:this}),a.notifyTreeModification&&a.notifyTreeModification("treeadd",this)},handleRemove:function(a,b){var c=this.getShapeNode();c.removeChild(a.node),a.trigger("remove",{container:this}),a.notifyTreeModification&&a.notifyTreeModification("treeremove",this)},notifyTreeModification:function(a,b){this.eachItem(function(c,d){d.notifyTreeModification&&d.notifyTreeModification(a,b),d.trigger(a,{container:b})})},getShape:function(a){return this.getItem(a)},addShape:function(a,b){return this.addItem(a,b)},put:function(a){return this.addShape(a),a},appendShape:function(a){return this.addShape(a)},prependShape:function(a){return this.addShape(a,0)},replaceShape:function(a,b){var c=this.indexOf(b);if(-1!==c)return this.removeShape(c),this.addShape(a,c),this},addShapeBefore:function(a,b){var c=this.indexOf(b);return this.addShape(a,c)},addShapeAfter:function(a,b){var c=this.indexOf(b);return this.addShape(a,-1===c?void 0:c+1)},addShapes:function(a){return this.addItems(a)},removeShape:function(a){return this.removeItem(a)},getShapes:function(){return this.getItems()},getShapesByType:function(a){function b(d){a.toLowerCase()==d.getType().toLowerCase()&&c.push(d),d.isShapeContainer&&e.each(d.getShapes(),function(a){b(a)})}var c=[];return b(this),c},getShapeById:function(a){return this.getShapeNode().getElementById(a).shape},arrangeShape:function(a,b){return this.removeShape(a).addShape(a,b)},getShapeNode:function(){return this.shapeNode||this.node}}),g=_p.r(60);return _p.r(11).extendClass(g,{bringTo:function(a){return this.container.arrangeShape(this,a),this},bringFront:function(){return this.bringTo(this.container.indexOf(this)+1)},bringBack:function(){return this.bringTo(this.container.indexOf(this)-1)},bringTop:function(){return this.container.removeShape(this).addShape(this),this},bringRear:function(){return this.bringTo(0)},bringRefer:function(a,b){return a.container&&(this.remove&&this.remove(),a.container.addShape(this,a.container.indexOf(a)+(b||0))),this},bringAbove:function(a){return this.bringRefer(a)},bringBelow:function(a){return this.bringRefer(a,1)},replaceBy:function(a){return this.container&&(a.bringAbove(this),this.remove()),this}}),f}},_p[62]={value:function(a,b,c){var d=_p.r(43),e=_p.r(12),f=_p.r(50);return _p.r(11).createClass("ShapeEvent",{constructor:function(a){var b=null;e.isObject(a.target)?e.extend(this,a):(this.type=a.type,b=a.target,b.correspondingUseElement&&(b=b.correspondingUseElement),this.originEvent=a,this.targetShape=b.shape||b.paper||a.currentTarget&&(a.currentTarget.shape||a.currentTarget.paper),a._kityParam&&e.extend(this,a._kityParam))},preventDefault:function(){var a=this.originEvent;return a?a.preventDefault?(a.preventDefault(),a.cancelable):(a.returnValue=!1,!0):!0},getPosition:function(a,b){if(!this.originEvent)return null;var c=this.originEvent.touches?this.originEvent.touches[b||0]:this.originEvent,e=this.targetShape,g=e.shapeNode||e.node,h=new f(c&&c.clientX||0,c&&c.clientY||0),i=d.transformPoint(h,g.getScreenCTM().inverse()),j=d.getCTM(e,a||"view").transformPoint(i);return j},stopPropagation:function(){var a=this.originEvent;return a?void(a.stopPropagation?a.stopPropagation():a.cancelBubble=!1):!0}})}},_p[63]={value:function(a,b,c){return _p.r(11).createClass("ShapePoint",{base:_p.r(50),constructor:function(a,b){this.callBase(a,b)},setX:function(a){return this.setPoint(a,this.y)},setY:function(a){return this.setPoint(this.x,a)},setPoint:function(a,b){return this.x=a,this.y=b,this.update(),this},getPoint:function(){return this},update:function(){return this.container&&this.container.update&&this.container.update(),this}})}},_p[64]={value:{COLOR_STANDARD:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00"},EXTEND_STANDARD:{}}},_p[65]={value:function(a,b,c){var d={3:.2,5:.38196601125,6:.57735026919,8:.541196100146,10:.726542528005,12:.707106781187},e=_p.r(50);return _p.r(11).createClass("Star",{base:_p.r(46),constructor:function(a,b,c,d,f){this.callBase(),this.vertex=a||3,this.radius=b||0,this.shrink=c,this.offset=d||new e(0,0),this.angleOffset=f||0,this.draw()},getVertex:function(){return this.vertex},setVertex:function(a){return this.vertex=a,this.draw()},getRadius:function(){return this.radius},setRadius:function(a){return this.radius=a,this.draw()},getShrink:function(){return this.shrink},setShrink:function(a){return this.shrink=a,this.draw()},getOffset:function(){return this.offset},setOffset:function(a){return this.offset=a,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(a){return this.angleOffset=a,this.draw()},draw:function(){var a,b,c=this.radius,f=this.radius*(this.shrink||d[this.vertex]||.5),g=this.vertex,h=this.offset,i=90,j=180/g,k=this.angleOffset,l=this.getDrawer();for(l.clear(),l.moveTo(e.fromPolar(f,i)),a=1;2*g>=a;a++)b=i+j*a,a%2?l.lineTo(e.fromPolar(c,b+k).offset(h)):l.lineTo(e.fromPolar(f,b));l.close()}})}},_p[66]={value:function(a,b,c){function d(a){return a.classList||(a.classList=new e(a)),a.classList}var e=_p.r(11).createClass("ClassList",{constructor:function(a){this._node=a,this._list=a.className.toString().split(" ")},_update:function(){this._node.className=this._list.join(" ")},add:function(a){this._list.push(a),this._update()},remove:function(a){var b=this._list.indexOf(a);~b&&this._list.splice(b,1),this._update()},contains:function(a){return!!~this._list.indexOf(a)}});return _p.r(11).createClass("Styled",{addClass:function(a){return d(this.node).add(a),this},removeClass:function(a){return d(this.node).remove(a),this},hasClass:function(a){return d(this.node).contains(a)},setStyle:function(a){if(2==arguments.length)return this.node.style[arguments[0]]=arguments[1],this;for(var b in a)a.hasOwnProperty(b)&&(this.node.style[b]=a[b]);return this}})}},_p[67]={value:function(a,b,c){var d=document,e=0,f={createNode:function(a){var b=d.createElementNS(f.ns,a);return b.id="kity_"+a+"_"+e++,b},defaults:{stroke:"none",fill:"none"},xlink:"http://www.w3.org/1999/xlink",ns:"http://www.w3.org/2000/svg"};return f}},_p[68]={value:function(a,b,c){var d=_p.r(50);return _p.r(11).createClass("Sweep",{base:_p.r(46),constructor:function(a,b,c){this.callBase(),this.sectionArray=a||[],this.angle=b||0,this.angleOffset=c||0,this.draw()},getSectionArray:function(){return this.sectionArray},setSectionArray:function(a){return this.sectionArray=a,this.draw()},getAngle:function(){return this.angle},setAngle:function(a){return this.angle=a,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(a){return this.angleOffset=a,this.draw()},draw:function(){var a,b=this.sectionArray;for(a=0;a<b.length;a+=2)this.drawSection(b[a],b[a+1]);return this},drawSection:function(a,b){var c=this.angle&&(this.angle%360?this.angle%360:360),e=this.angleOffset,f=e+c/2,g=e+c,h=0>c?0:1,i=this.getDrawer();return i.redraw(),0===c?void i.done():(i.moveTo(d.fromPolar(a,e)),i.lineTo(d.fromPolar(b,e)),b&&(i.carcTo(b,0,h,d.fromPolar(b,f)),i.carcTo(b,0,h,d.fromPolar(b,g))),i.lineTo(d.fromPolar(a,g)),a&&(i.carcTo(a,0,h,d.fromPolar(a,f)),i.carcTo(a,0,h,d.fromPolar(a,e))),i.close(),void i.done())}})}},_p[69]={value:function(a,b,c){function d(a){var b=a._cachedFontHash;if(i[b])return i[b];var c=a.getContent();a.setContent("百度Fex");var d=a.getBoundaryBox(),e=a.getY();if(!d.height)return{top:0,bottom:0,middle:0};var f=e-d.y+ +a.node.getAttribute("dy"),g=f-d.height;return a.setContent(c),i[b]={top:f,bottom:g,middle:(f+g)/2}}var e=_p.r(70),f=_p.r(61),g=_p.r(67),h=_p.r(12),i={};return _p.r(11).createClass("Text",{base:e,mixins:[f],constructor:function(a){this.callBase("text"),void 0!==a&&this.setContent(a),this._buildFontHash()},fixPosition:function(){this.__fixedPosition||this.setVerticalAlign(this.getVerticalAlign())},_buildFontHash:function(){var a=window.getComputedStyle(this.node);this._cachedFontHash=[a.fontFamily,a.fontSize,a.fontStretch,a.fontStyle,a.fontVariant,a.fontWeight].join("-")},_fontChanged:function(a){var b=this._lastFont,c=h.extend({},b,a);if(!b)return this._lastFont=a,!0;var d=b.family!=c.family||b.size!=c.size||b.style!=c.style||b.weight!=c.weight;return this._lastFont=c,d},setX:function(a){return this.node.setAttribute("x",a),this},setPosition:function(a,b){return this.setX(a).setY(b)},setY:function(a){return this.node.setAttribute("y",a),this},getX:function(){return+this.node.getAttribute("x")||0},getY:function(){return+this.node.getAttribute("y")||0},setFont:function(a){return this.callBase(a),this._fontChanged(a)&&(this._buildFontHash(),this.setVerticalAlign(this.getVerticalAlign())),this},setTextAnchor:function(a){return this.node.setAttribute("text-anchor",a),this},getTextAnchor:function(){return this.node.getAttribute("text-anchor")||"start"},setVerticalAlign:function(a){return this.whenPaperReady(function(){var b;switch(a){case"top":b=d(this).top;break;case"bottom":b=d(this).bottom;break;case"middle":b=d(this).middle;break;default:b=0}b&&(this.__fixedPosition=!0),this.node.setAttribute("dy",b)}),this.verticalAlign=a,this},getVerticalAlign:function(){return this.verticalAlign||"baseline"},setStartOffset:function(a){this.shapeNode!=this.node&&this.shapeNode.setAttribute("startOffset",100*a+"%")},addSpan:function(a){return this.addShape(a),this},setPath:function(a){var b=this.shapeNode;if(this.shapeNode==this.node){for(b=this.shapeNode=g.createNode("textPath");this.node.firstChild;)this.shapeNode.appendChild(this.node.firstChild);this.node.appendChild(b)}return b.setAttributeNS(g.xlink,"xlink:href","#"+a.node.id),this.setTextAnchor(this.getTextAnchor()),this}})}},_p[70]={value:function(a,b,c){var d=_p.r(60);return _p.r(11).createClass("TextContent",{base:d,constructor:function(a){this.callBase(a),this.shapeNode=this.shapeNode||this.node,this.shapeNode.setAttribute("text-rendering","geometricPrecision")},clearContent:function(){for(;this.shapeNode.firstChild;)this.shapeNode.removeChild(this.shapeNode.firstChild);return this},setContent:function(a){return this.shapeNode.textContent=a,this},getContent:function(){return this.shapeNode.textContent},appendContent:function(a){return this.shapeNode.textContent+=a,this},setSize:function(a){return this.setFontSize(a)},setFontSize:function(a){return this.setFont({size:a})},setFontFamily:function(a){return this.setFont({family:a})},setFontBold:function(a){return this.setFont({weight:a?"bold":"normal"})},setFontItalic:function(a){return this.setFont({style:a?"italic":"normal"})},setFont:function(a){var b=this.node;return["family","size","weight","style"].forEach(function(c){null===a[c]?b.removeAttribute("font-"+c):a[c]&&b.setAttribute("font-"+c,a[c])}),this},getExtentOfChar:function(a){return this.node.getExtentOfChar(a)},getRotationOfChar:function(a){return this.node.getRotationOfChar(a)},getCharNumAtPosition:function(a,b){return this.node.getCharNumAtPosition(this.node.viewportElement.createSVGPoint(a,b))}})}},_p[71]={value:function(a,b,c){var d=_p.r(70),e=_p.r(66);return _p.r(11).createClass("TextSpan",{base:d,mixins:[e],constructor:function(a){this.callBase("tspan"),this.setContent(a)}})}},_p[72]={value:function(a,b,c){var d=_p.r(67),e=_p.r(11),f=e.createClass("Use",{base:_p.r(60),constructor:function(a){this.callBase("use"),this.ref(a)},ref:function(a){if(!a)return this.node.removeAttributeNS(d.xlink,"xlink:href"),this;var b=a.getId();return b&&this.node.setAttributeNS(d.xlink,"xlink:href","#"+b),"none"===a.node.getAttribute("fill")&&a.node.removeAttribute("fill"),"none"===a.node.getAttribute("stroke")&&a.node.removeAttribute("stroke"),this}}),g=_p.r(60);return e.extendClass(g,{use:function(){return new f(this)}}),f}},_p[73]={value:function(a,b,c){var d=_p.r(50),e=_p.r(43),f=_p.r(11).createClass("Vector",{base:d,constructor:function(a,b){this.callBase(a,b)},square:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.square())},add:function(a){return new f(this.x+a.x,this.y+a.y)},minus:function(a){return new f(this.x-a.x,this.y-a.y)},dot:function(a){return this.x*a.x+this.y*a.y},project:function(a){return a.multipy(this.dot(a)/a.square())},normalize:function(a){return void 0===a&&(a=1),this.multipy(a/this.length())},multipy:function(a){return new f(this.x*a,this.y*a)},rotate:function(a,b){"rad"==b&&(a=a/Math.PI*180);var c=(new e).rotate(a).transformPoint(this);return new f(c.x,c.y)},vertical:function(){return new f(this.y,-this.x)},reverse:function(){return this.multipy(-1)},getAngle:function(){var a=this.length();if(0===a)return 0;var b=Math.acos(this.x/a),c=this.y>0?1:-1;return 180*c*b/Math.PI}});return f.fromPoints=function(a,b){return new f(b.x-a.x,b.y-a.y)},f.fromPolar=function(){var a=d.fromPolar.apply(d,arguments);return new f(a.x,a.y)},_p.r(11).extendClass(d,{asVector:function(){return new f(this.x,this.y)}}),f}},_p[74]={value:function(a,b,c){var d=_p.r(61),e=_p.r(75);return _p.r(11).createClass("View",{mixins:[d,e],base:_p.r(74),constructor:function(){this.callBase("view")}})}},_p[75]={value:function(a,b,c){return _p.r(11).createClass("ViewBox",{getViewBox:function(){var a=this.node.getAttribute("viewBox");return null===a?{x:0,y:0,width:this.node.clientWidth||this.node.parentNode.clientWidth,height:this.node.clientHeight||this.node.parentNode.clientHeight}:(a=a.split(" "),{x:+a[0],y:+a[1],width:+a[2],height:+a[3]})},setViewBox:function(a,b,c,d){return this.node.setAttribute("viewBox",[a,b,c,d].join(" ")),this}})}},_p[76]={value:function(a,b,c){var d={},e=_p.r(12);return d.version="2.0.0",e.extend(d,{createClass:_p.r(11).createClass,extendClass:_p.r(11).extendClass,Utils:e,Browser:_p.r(10),Box:_p.r(25),Bezier:_p.r(23),BezierPoint:_p.r(24),Circle:_p.r(26),Clip:_p.r(27),Color:_p.r(28),Container:_p.r(29),Curve:_p.r(30),Ellipse:_p.r(32),Group:_p.r(36),Gradient:_p.r(35),HyperLink:_p.r(37),Image:_p.r(38),Line:_p.r(39),LinearGradient:_p.r(40),Mask:_p.r(42),Matrix:_p.r(43),Marker:_p.r(41),Palette:_p.r(44),Paper:_p.r(45),Path:_p.r(46),Pattern:_p.r(47),Pen:_p.r(48),Point:_p.r(50),PointContainer:_p.r(51),Polygon:_p.r(53),Polyline:_p.r(54),Pie:_p.r(49),RadialGradient:_p.r(55),Resource:_p.r(58),Rect:_p.r(56),RegularPolygon:_p.r(57),Ring:_p.r(59),Shape:_p.r(60),ShapePoint:_p.r(63),ShapeContainer:_p.r(61),Sweep:_p.r(68),Star:_p.r(65),Text:_p.r(69),TextSpan:_p.r(71),Use:_p.r(72),Vector:_p.r(73),g:_p.r(34),Animator:_p.r(0),Easing:_p.r(1),OpacityAnimator:_p.r(4),RotateAnimator:_p.r(6),ScaleAnimator:_p.r(7),Timeline:_p.r(8),TranslateAnimator:_p.r(9),PathAnimator:_p.r(5),MotionAnimator:_p.r(3),requestFrame:_p.r(2).requestFrame,releaseFrame:_p.r(2).releaseFrame,Filter:_p.r(20),GaussianblurFilter:_p.r(21),ProjectionFilter:_p.r(22),ColorMatrixEffect:_p.r(13),CompositeEffect:_p.r(14),ConvolveMatrixEffect:_p.r(15),Effect:_p.r(16),GaussianblurEffect:_p.r(17),OffsetEffect:_p.r(18)}),window.kity=d}};var moduleMapping={kity:76};use("kity")}();
/*!
 * ====================================================
 * Hot Box UI - v1.0.15 - 2017-05-05
 * https://github.com/fex-team/hotbox
 * GitHub: https://github.com/fex-team/hotbox.git 
 * Copyright (c) 2017 Baidu FEX; Licensed BSD
 * ====================================================
 */
(function(){function i(i){n.r([t[i]])}var n={r:function(t){var i,r,u;if(n[t].inited)return n[t].value;if(typeof n[t].value=="function"){if(i={exports:{}},r=n[t].value(null,i.exports,i),n[t].inited=!0,n[t].value=r,r!==undefined)return r;for(u in i.exports)if(i.exports.hasOwnProperty(u))return n[t].inited=!0,n[t].value=i.exports,i.exports}else return n[t].inited=!0,n[t].value}},t;n[0]={value:function(t,i,r){r.exports=window.HotBox=n.r(1)}};n[1]={value:function(t,i,r){function o(n){return document.createElement(n)}function u(n,t){n.classList.add(t)}function h(n,t){n.classList.remove(t)}function f(n,t){n.appendChild(t)}function v(n,t){return typeof t!="object"&&(t=[].slice.apply(arguments,1)),String(n).replace(/\{(\w+)\}/g,function(n,i){return t[i]||n})}function l(n){function b(n){if(v){v.active();return}return n=n||a,v=new n(i),v.active(),r.onmousedown=function(n){n.stopPropagation();n.preventDefault()},i}function k(r){var o=r.type.toLowerCase(),f,u;if(r.keyHash=c.hash(r),r.isKey=function(n){if(!n)return!1;for(var t=n.split(/\s*\|\s*/);t.length;)if(r.keyHash==c.hash(t.shift()))return!0;return!1},r[o]=!0,r.keyup&&i.activeKey&&r.isKey(i.activeKey)&&t==e&&p){w("main",{x:n.clientWidth/2,y:n.clientHeight/2});return}if(f=t==e?p:t,f){if(u=f.handleKeyEvent(r),typeof i.onkeyevent=="function"){r.handleResult=u;i.onkeyevent(r,u)}return u}return null}function d(n){if(!n)return t;if(n==e)throw new Error("Can not define or use the `idle` state.");return h[n]=h[n]||new y(this,n),n=="main"&&(p=h[n]),h[n]}function w(n,r){if(i.position=r,n==e)t!=e&&(l.shift().deactive(),l=[]),t=e;else if(n=="back")t!=e&&(t.deactive(),l.shift(),t=l[0],t?t.active():t="idle");else{t!=e&&t.deactive();var u=h[n];l.unshift(u);typeof i.position=="function"&&(r=i.position(r));u.active(r);t=u}}function g(n){i._parentFSM=n}function nt(){return i._parentFSM}var r;if(typeof n=="string"&&(n=document.querySelector(n)),!n||!(n instanceof HTMLElement))throw new Error("No container or not invalid container for hot box");r=o(s);u(r,"hotbox");f(n,r);this.$element=r;this.$container=n;this.isIME=!1;this.browser={sg:/se[\s\S]+metasr/.test(navigator.userAgent.toLowerCase())};this._parentFSM={};this.position={};var h={},p=null,t=e,l=[],i=this,v;this.control=b;this.state=d;this.active=w;this.dispatch=k;this.setParentFSM=g;this.getParentFSM=nt;this.activeKey="space";this.actionKey="space"}function y(n,t){function et(){function t(n){var r=i.ring,s=2*Math.PI/r.length,u,f,e,o,t;for(i.center&&(i.center.indexedPosition=[0,0]),p.style.marginLeft=p.style.marginTop=-n+"px",p.style.width=p.style.height=n+n+"px",t=0;t<r.length;t++)u=r[t].$button,f=s*t-Math.PI/2,e=n*Math.cos(f),o=n*Math.sin(f),r[t].indexedPosition=[e,o],u.style.left=e+"px",u.style.top=o+"px"}function r(n){var t=-a.clientWidth/2,r=-n*2-a.clientHeight/2;a.style.marginLeft=t+"px";a.style.marginTop=r+"px";i.top.forEach(function(n){var i=n.$button;n.indexedPosition=[t+i.offsetLeft+i.clientWidth/2,r]})}function u(n){var t=-y.clientWidth/2,r=n*2-y.clientHeight/2;y.style.marginLeft=t+"px";y.style.marginTop=r+"px";i.bottom.forEach(function(n){var i=n.$button;n.indexedPosition=[t+i.offsetLeft+i.clientWidth/2,r]})}function f(){function t(t){var o={},s=0,l={},a=t.indexedPosition,h,r,u,c,i,f,e=Math.abs;n.forEach(function(n){if(t!=n)for(h=n.indexedPosition,i=[],r=h[0]-a[0],u=h[1]-a[1],c=Math.sqrt(r*r+u*u),e(r)>2&&(i.push(r>0?"right":"left"),i.push(c+e(u))),e(u)>2&&(i.push(u>0?"down":"up"),i.push(c+e(r)));i.length;)f=i.shift(),s=i.shift(),(!o[f]||s<l[f])&&(o[f]=n,l[f]=s)});t.neighbor=o}var n=d.filter(function(n){return n.indexedPosition});n.forEach(t)}var n=i.ring.length*15;t(n);r(n);u(n);f();it=!1}function ot(){return!0}function st(n){var t=o(s),i;u(t,"button");i=n.render||ht;t.innerHTML=i(v,n);switch(n.position){case"center":f(nt,t);break;case"ring":f(tt,t);break;case"top":f(a,t);break;case"bottom":f(y,t)}return{action:n.action,enable:n.enable||ot,beforeShow:n.beforeShow,key:n.key,next:n.next,label:n.label,data:n.data||null,$button:t}}function ht(n,t){return n('<span class="label">{label}<\/span><span class="key">{key}<\/span>',{label:t.label,key:t.key&&t.key.split("|")[0]})}function ct(t){t=t||{x:n.$container.clientWidth/2,y:n.$container.clientHeight/2};t&&(l.style.left=t.x+"px",l.style.top=t.y+"px");d.forEach(function(n){var t=n.$button;t&&t.classList[n.enable()?"add":"remove"]("enabled");n.beforeShow&&n.beforeShow()});u(l,ft);it&&et();c||k(i.center||i.ring[0]||i.top[0]||i.bottom[0]);w=!0}function lt(){h(l,ft);k(null);w=!1}function b(n){r&&r.$button&&h(r.$button,ut);r=n;r&&r.$button&&u(r.$button,ut)}function k(n){c&&c.$button&&c.$button&&h(c.$button,rt);c=n;c&&c.$button&&u(c.$button,rt)}function g(t){t&&((!t.enable||t.enable())&&(t.action&&t.action(t),n.active(t.next||e,n.position)),b(null),k(null))}var rt="selected",ut="pressed",ft="active",l=o(s),nt=o(s),tt=o(s),p=o("div"),a=o(s),y=o(s);u(l,"state");u(l,t);u(nt,"center");u(tt,"ring");u(p,"ring-shape");u(a,"top");u(y,"bottom");f(n.$element,l);f(l,p);f(l,nt);f(l,tt);f(l,a);f(l,y);this.name=t;var i={center:null,ring:[],top:[],bottom:[],behind:[]},d=[],c=null,r=null,w=!1,it=!0;this.button=function(n){var t=st(n);n.position=="center"?i.center=t:i[n.position]&&i[n.position].push(t);d.push(t);it=!0};this.active=ct;this.deactive=lt;l.onmouseup=function(n){if(!n.button)for(var t=n.target;t&&t!=l;)t.classList.contains("button")&&d.forEach(function(n){n.$button==t&&g(n)}),t=t.parentNode};this.handleKeyEvent=function(u){var f=null;if(n.browser.sg&&u.isKey("esc"))return r?u.isKey(r.key)||b(null):n.active("back",n.position),"back";if(u.keydown||n.isIME&&u.keyup){if(d.forEach(function(i){if(i.enable()&&u.isKey(i.key)){if(w||n.hintDeactiveMainState){if(k(i),b(i),f="buttonpress",u.keyup)return g(i),f="execute"}else g(i),f="execute";u.preventDefault();u.stopPropagation();!w&&n.hintDeactiveMainState&&n.active(t,n.position)}}),w){if(u.isKey("esc"))return r?u.isKey(r.key)||b(null):n.active("back",n.position),"back";["up","down","left","right"].forEach(function(n){if(u.isKey(n)){if(!c){k(i.center||i.ring[0]||i.top[0]||i.bottom[0]);return}for(var t=c.neighbor[n];t&&!t.enable();)t=t.neighbor[n];t&&k(t);f="navigate"}});u.isKey("space")&&u.keyup?(g(c),u.preventDefault(),u.stopPropagation(),f="execute"):u.isKey("space")&&c?(b(c),f="buttonpress"):r&&r!=c&&(b(null),f="selectcancel")}}else u.keyup&&(w||!n.hintDeactiveMainState)&&r&&(u.isKey("space")&&c==r||u.isKey(r.key))&&(g(r),u.preventDefault(),u.stopPropagation(),f="execute");return n.isIME=u.keyCode==229&&u.keydown,f}}var c=n.r(2),a=n.r(3),e=l.STATE_IDLE="idle",s="div";r.exports=l}};n[2]={value:function(t,i){function r(n){return typeof n=="string"?c(n):h(n)}function s(n,t){return n&&t&&r(n)==r(t)}function h(n){var t=0;return(n.ctrlKey||n.metaKey)&&(t|=u),n.altKey&&(t|=f),n.shiftKey&&(t|=e),[16,17,18,91].indexOf(n.keyCode)==-1&&(t|=n.keyCode),t}function c(n){var t=0;return n.toLowerCase().split(/\s*\+\s*/).forEach(function(n){switch(n){case"ctrl":case"cmd":t|=u;break;case"alt":t|=f;break;case"shift":t|=e;break;default:t|=o[n]}}),t}var o=n.r(4),u=4096,f=8192,e=16384;i.hash=r;i.is=s}};n[3]={value:function(t,i,r){function e(n){function c(){t=document.createElement("input");t.classList.add(f);i.appendChild(t);s=!0}function l(){t.onkeyup=r;t.onkeypress=r;t.onkeydown=r;t.onfocus=e;t.onblur=h;s&&(t.oninput=function(){t.value=null})}function a(){i.onmousedown=function(n){e();n.preventDefault()}}function r(t){o&&n.dispatch(t)}function e(){t.select();t.focus();o=!0;i.classList.add(u)}function h(){t.blur();o=!1;i.classList.remove(u)}var v=this,t,o=!0,s=!1,i=n.$container;c();l();a();e();this.handle=r;this.active=e;this.deactive=h}var o=n.r(2),u="hotbox-focus",f="hotbox-key-receiver";r.exports=e}};n[4]={value:function(n,t,i){var r={Shift:16,Control:17,Alt:18,CapsLock:20,BackSpace:8,Tab:9,Enter:13,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Direction:{37:1,38:1,39:1,40:1},Delete:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190},u,e,o,f;for(u in r)r.hasOwnProperty(u)&&(r[u.toLowerCase()]=r[u]);e=65;o="a".charCodeAt(0);"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(n){r[n]=e+(n.charCodeAt(0)-o)});f=9;do r[f.toString()]=f+48;while(f--);i.exports=r}};t={expose:0};i("expose")})();
var json_diff=function(){function n(t,i){var u,r;if(t===i)return!0;if(typeof t!="object"||typeof i!="object"||t===null||i===null||t instanceof Array!=i instanceof Array)return!1;if(t instanceof Array){if(t.length!=i.length)return!1;for(u=0;u<t.length;u++)if(!n(t[u],i[u]))return!1}else{for(r in t)if(!(r in i)||!n(t[r],i[r]))return!1;for(r in i)if(!(r in t))return!1}return!0}function t(n){if(typeof n=="object"){if(n instanceof Array)return"array";if(n===null)return"null"}return typeof n}return function(i,r){function s(n){var t,i;if(n===undefined)return"/";for(u.push(n),t="",i=0;i<u.length;i++)t=t+"/"+u[i].toString().replace(/~/g,"~0").replace(/\//g,"~1");return u.pop(),t}function f(n,t,i){var r=s(t);n==="remove"?e.push({op:n,path:r}):e.push({op:n,path:r,value:i===undefined?null:i})}function h(t,i){for(var u,r,l=[],v=[],y,p,w,h,s=[],a,c=t.length,e=i.length;c&&e;c--,e--)if(!n(t[c-1],i[e-1]))break;for(h=0;c&&e;h++,c--,e--)if(!n(t[h],i[h]))break;if(c&&e){for(r=0;r<e;l[r++]=0);for(u=0;u<c;u++)for(v[u]=l=l.slice(),p=0,r=0;r<e;r++,p=w)w=l[r],n(t[u+h],i[r+h])?l[r]=p+1:(y=l[r-1]||0,y>l[r]&&(l[r]=y));for(u--,r--;u>-1&&r>-1;)switch(v[u][r]){default:s.unshift("=");u--;r--;break;case r&&v[u][r-1]:s.unshift("+");r--;break;case u&&v[u-1][r]:s.unshift("-");u--}}else u=c-1,r=e-1;for(;r>-1;r--)s.unshift("+");for(;u>-1;u--)s.unshift("-");for(a=[],e=0;e<s.length;e++)if(s[e]==="-"){for(u=e+1;u<s.length&&s[u]==="-";u++);for(r=u;r<s.length&&s[r]==="+";r++);if(u-e==r-u){while(u++<r)a.push("*");e=r-1}else{for(;e<r;e++)a.push(s[e]);e--}}else a.push(s[e]);for(s=a,u=0,r=0,e=0;e<s.length;e++)switch(s[e]){case"*":o(t[u+h],i[r+h],r+h);case"=":u++;r++;break;case"-":f("remove",r+h);u++;break;case"+":f("add",r+h,i[r+h]);r++}}function c(n,t,i){i!==undefined&&u.push(i);h(n,t);i!==undefined&&u.pop()}function l(n,t,i){var r;i!==undefined&&u.push(i);for(r in n)r in t?o(n[r],t[r],r):f("remove",r);for(r in t)r in n||f("add",r,t[r]);i!==undefined&&u.pop()}function o(n,i,r){if(n!==i){var u=t(n),e=t(i);if(u!==e)f("replace",r,i);else switch(u){case"object":l(n,i,r);break;case"array":c(n,i,r);break;default:f("replace",r,i)}}}var u=[],e=[];return o(i,r,undefined),e}}();typeof exports!="undefined"&&(exports.diff=json_diff);
/*!
 * ====================================================
 * Kity Minder Core - v1.4.49 - 2018-04-02
 * https://github.com/fex-team/kityminder-core
 * GitHub: https://github.com/fex-team/kityminder-core.git 
 * Copyright (c) 2018 Baidu FEX; Licensed BSD-3-Clause
 * ====================================================
 */

!function(){function a(a){b.r([c[a]])}var b={r:function(a){if(b[a].inited)return b[a].value;if("function"!=typeof b[a].value)return b[a].inited=!0,b[a].value;var c={exports:{}},d=b[a].value(null,c.exports,c);if(b[a].inited=!0,b[a].value=d,void 0!==d)return d;for(var e in c.exports)if(c.exports.hasOwnProperty(e))return b[a].inited=!0,b[a].value=c.exports,c.exports}};b[0]={value:function(a,c,d){var e=b.r(17),f=b.r(11),g=(new e.Marker).pipe(function(){var a=7,b=new e.Circle(a-1);this.addShape(b),this.setRef(a-1,0).setViewBox(-a,-a,a+a,a+a).setWidth(a).setHeight(a),this.dot=b,this.node.setAttribute("markerUnits","userSpaceOnUse")});f.register("arc",function(a,b,c,d,f){var h,i,j,k=a.getLayoutBox(),l=b.getLayoutBox(),m=Math.abs,n=[],o=k.x>l.x?"right":"left";a.getMinder().getPaper().addResource(g),h=new e.Point(l.cx,l.cy),i="left"==o?new e.Point(k.right+2,k.cy):new e.Point(k.left-2,k.cy),j=e.Vector.fromPoints(h,i),n.push("M",h),n.push("A",m(j.x),m(j.y),0,0,j.x*j.y>0?0:1,i),c.setMarker(g),g.dot.fill(f),c.setPathData(n)})}},b[1]={value:function(a,c,d){var e=b.r(17),f=b.r(11),g=(new e.Marker).pipe(function(){var a=7,b=new e.Circle(a-1);this.addShape(b),this.setRef(a-1,0).setViewBox(-a,-a,a+a,a+a).setWidth(a).setHeight(a),this.dot=b,this.node.setAttribute("markerUnits","userSpaceOnUse")});f.register("arc_tp",function(a,b,c,d,f){var h=a.getLayoutBox(),i=b.getLayoutBox(),j=a.getIndex(),k=b.getChildren()[j+1];a.getIndex()>0&&(i=b.getChildren()[j-1].getLayoutBox());var l,m,n=(Math.abs,[]);h.x,i.x;a.getMinder().getPaper().addResource(g),l=new e.Point(i.cx,i.cy),m=new e.Point(h.cx,h.cy);var o=Math.sqrt(Math.pow(l.x-m.x,2)+Math.pow(l.y-m.y,2));if(o=0==a.getIndex()?.4*o:o,e.Vector.fromPoints(l,m),n.push("M",l),n.push("A",o,o,0,0,1,m),c.setMarker(g),g.dot.fill(f),c.setPathData(n),k&&k.getConnection()){var p=k.getConnection(),q=k.getLayoutBox(),r=new e.Point(q.cx,q.cy),s=Math.sqrt(Math.pow(m.x-r.x,2)+Math.pow(m.y-r.y,2));n=[],n.push("M",m),n.push("A",s,s,0,0,1,r),p.setMarker(g),g.dot.fill(f),p.setPathData(n)}})}},b[2]={value:function(a,c,d){b.r(17);b.r(11).register("bezier",function(a,b,c){var d=b.getLayoutVertexOut(),e=a.getLayoutVertexIn(),f=b.getLayoutVectorOut().normalize(),g=Math.round,h=Math.abs,i=[];if(i.push("M",g(d.x),g(d.y)),h(f.x)>h(f.y)){var j=(e.x+d.x)/2;i.push("C",j,d.y,j,e.y,e.x,e.y)}else{var k=(e.y+d.y)/2;i.push("C",d.x,k,e.x,k,e.x,e.y)}c.setMarker(null),c.setPathData(i)})}},b[3]={value:function(a,c,d){b.r(17);b.r(11).register("fish-bone-master",function(a,b,c){var d=b.getLayoutVertexOut(),e=a.getLayoutVertexIn(),f=Math.abs,g=f(d.y-e.y),h=f(d.x-e.x),i=[];i.push("M",d.x,d.y),i.push("h",h-g),i.push("L",e.x,e.y),c.setMarker(null),c.setPathData(i)})}},b[4]={value:function(a,c,d){b.r(17);b.r(11).register("l",function(a,b,c){var d=b.getLayoutVertexOut(),e=a.getLayoutVertexIn(),f=b.getLayoutVectorOut(),g=[],h=Math.round,i=Math.abs;g.push("M",d.round()),i(f.x)>i(f.y)?g.push("H",h(e.x)):g.push("V",e.y),g.push("L",e),c.setPathData(g)})}},b[5]={value:function(a,c,d){b.r(17);b.r(11).register("poly",function(a,b,c,d){var e=b.getLayoutVertexOut(),f=a.getLayoutVertexIn(),g=b.getLayoutVectorOut().normalize(),h=Math.round,i=Math.abs,j=[];switch(j.push("M",h(e.x),h(e.y)),!0){case i(g.x)>i(g.y)&&g.x<0:j.push("h",-b.getStyle("margin-left")),j.push("v",f.y-e.y),j.push("H",f.x);break;case i(g.x)>i(g.y)&&g.x>=0:j.push("h",b.getStyle("margin-right")),j.push("v",f.y-e.y),j.push("H",f.x);break;case i(g.x)<=i(g.y)&&g.y<0:j.push("v",-b.getStyle("margin-top")),j.push("h",f.x-e.x),j.push("V",f.y);break;case i(g.x)<=i(g.y)&&g.y>=0:j.push("v",b.getStyle("margin-bottom")),j.push("h",f.x-e.x),j.push("V",f.y)}c.setMarker(null),c.setPathData(j)})}},b[6]={value:function(a,c,d){var e=b.r(17);b.r(11).register("under",function(a,b,c,d,f){var g,h,i,j,k=a.getLayoutBox(),l=b.getLayoutBox(),m=(Math.abs,[]),n=k.x>l.x?"right":"left",o=(a.getStyle("connect-radius"),k.bottom+3),p="sub"==b.getType()?l.bottom+3:l.cy;"right"==n?(g=new e.Point(l.right,p),h=new e.Point(k.left-10,o),i=new e.Point(k.right,o)):(g=new e.Point(l.left,p),h=new e.Point(k.right+10,o),i=new e.Point(k.left,o)),j=(g.x+h.x)/2,m.push("M",g),m.push("C",j,g.y,j,h.y,h),m.push("L",i),c.setMarker(null),c.setPathData(m)})}},b[7]={value:function(a,c,d){var e=b.r(17),f=b.r(19);if(-1!=location.href.indexOf("boxv")){var g;Object.defineProperty(e.Box.prototype,"visualization",{get:function(){return g?g.setBox(this):null}}),f.registerInitHook(function(){this.on("paperrender",function(){g=new e.Rect,g.fill("rgba(200, 200, 200, .5)"),g.stroke("orange"),this.getRenderContainer().addShape(g)})})}}},b[8]={value:function(a,c,d){var e=b.r(19),f={enableAnimation:!0,layoutAnimationDuration:300,viewAnimationDuration:100,zoomAnimationDuration:300},g={};e.registerInitHook(function(){this.setDefaultOptions(f),this.getOption("enableAnimation")||this.disableAnimation()}),e.prototype.enableAnimation=function(){for(var a in f)f.hasOwnProperty(a)&&this.setOption(g[a])},e.prototype.disableAnimation=function(){for(var a in f)f.hasOwnProperty(a)&&(g[a]=this.getOption(a),this.setOption(a,0))}}},b[9]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19)),g=(b.r(21),b.r(13)),h=0,i=e.createClass("Command",{constructor:function(){this._isContentChange=!0,this._isSelectionChange=!1},execute:function(a,b){throw new Error("Not Implement: Command.execute()")},setContentChanged:function(a){this._isContentChange=!!a},isContentChanged:function(){return this._isContentChange},setSelectionChanged:function(a){this._isSelectionChange=!!a},isSelectionChanged:function(){return this._isContentChange},queryState:function(a){return h},queryValue:function(a){return 0},isNeedUndo:function(){return!0}});i.STATE_NORMAL=h,i.STATE_ACTIVE=1,i.STATE_DISABLED=-1,e.extendClass(f,{_getCommand:function(a){return this._commands[a.toLowerCase()]},_queryCommand:function(a,b,c){var d=this._getCommand(a);if(d){var e=d["query"+b];if(e)return e.apply(d,[this].concat(c))}return 0},queryCommandState:function(a){return this._queryCommand(a,"State",[].slice.call(arguments,1))},queryCommandValue:function(a){return this._queryCommand(a,"Value",[].slice.call(arguments,1))},execCommand:function(a){if(!a)return null;a=a.toLowerCase();var b,c,d,e,f=[].slice.call(arguments,1),h=this;return b=this._getCommand(a),e={command:b,commandName:a.toLowerCase(),commandArgs:f},!(!b||!~this.queryCommandState(a))&&(this._hasEnterExecCommand?(d=b.execute.apply(b,[h].concat(f)),this._hasEnterExecCommand||this._interactChange()):(this._hasEnterExecCommand=!0,c=this._fire(new g("beforeExecCommand",e,!0)),c||(this._fire(new g("preExecCommand",e,!1)),d=b.execute.apply(b,[h].concat(f)),this._fire(new g("execCommand",e,!1)),b.isContentChanged()&&this._firePharse(new g("contentchange")),this._interactChange()),this._hasEnterExecCommand=!1),void 0===d?null:d)}}),d.exports=i}},b[10]={value:function(a,c,d){function e(a){switch(a.version||(a.root?"1.4.0":"1.1.3")){case"1.1.3":h(a);case"1.2.0":case"1.2.1":g(a);case"1.3.0":case"1.3.1":case"1.3.2":case"1.3.3":case"1.3.4":case"1.3.5":i(a)}return a}function f(a,b){b(a),a.children&&a.children.forEach(function(a){f(a,b)})}function g(a){f(a,function(a){var b=a.data;delete b.layout_bottom_offset,delete b.layout_default_offset,delete b.layout_filetree_offset})}function h(a){var b=a.data.currentstyle;delete a.data.currentstyle,"bottom"==b?(a.template="structure",a.theme="snow"):"default"==b&&(a.template="default",a.theme="classic"),f(a,function(a){var b=a.data;"PriorityIcon"in b&&(b.priority=b.PriorityIcon,delete b.PriorityIcon),"ProgressIcon"in b&&(b.progress=1+(b.ProgressIcon-1<<1),delete b.ProgressIcon),delete b.point,delete b.layout})}function i(a){a.root={data:a.data,children:a.children},delete a.data,delete a.children}b.r(33);return e}},b[11]={value:function(a,c,d){function e(a,b){k[a]=b}var f=b.r(17),g=b.r(33),h=b.r(20),i=b.r(19),j=b.r(21),k={};e("default",function(a,b,c){c.setPathData(["M",b.getLayoutVertexOut(),"L",a.getLayoutVertexIn()])}),f.extendClass(j,{getConnect:function(){return this.data.connect||"default"},getConnectProvider:function(){return k[this.getConnect()]||k.default},getConnection:function(){return this._connection||null}}),f.extendClass(i,{getConnectContainer:function(){return this._connectContainer},createConnect:function(a){if(!a.isRoot()){var b=new f.Path;a._connection=b,this._connectContainer.addShape(b),this.updateConnect(a)}},removeConnect:function(a){var b=this;a.traverse(function(a){b._connectContainer.removeShape(a._connection),a._connection=null})},updateConnect:function(a){var b=a._connection,c=a.parent;if(c&&b){if(c.isCollapsed())return void b.setVisible(!1);b.setVisible(!0);var d=a.getConnectProvider(),e=a.getStyle("connect-color")||"white",f=a.getStyle("connect-width")||2;b.stroke(e,f),d(a,c,b,f,e),f%2==0?b.setTranslate(.5,.5):b.setTranslate(0,0)}}}),h.register("Connect",{init:function(){this._connectContainer=(new f.Group).setId(g.uuid("minder_connect_group")),this.getRenderContainer().prependShape(this._connectContainer)},events:{nodeattach:function(a){this.createConnect(a.node)},nodedetach:function(a){this.removeConnect(a.node)},"layoutapply layoutfinish noderender":function(a){this.updateConnect(a.node)}}}),c.register=e}},b[12]={value:function(a,c,d){function e(a,b){l[a]=b;for(var c in l)l.hasOwnProperty(c)&&(l[c]=l[c],l[c].name=c)}function f(a){return void 0===a?l:l[a]||null}var g=b.r(17),h=(b.r(33),b.r(19)),i=(b.r(21),b.r(13)),j=b.r(10),k=b.r(25),l={};c.registerProtocol=e,c.getRegisterProtocol=f,g.extendClass(h,{setup:function(a){if("string"==typeof a&&(a=document.querySelector(a)),a){var b=a.getAttribute("minder-data-type");if(b in l){var c=a.textContent;a.textContent=null,this.renderTo(a),this.importData(b,c)}return this}},exportJson:function(){function a(b){var c={};c.data=b.getData();var d=b.getChildren();c.children=[];for(var e=0;e<d.length;e++)c.children.push(a(d[e]));return c}var b={root:a(this.getRoot())};return b.template=this.getTemplate(),b.theme=this.getTheme(),b.version=h.version,JSON.parse(JSON.stringify(b))},Text2Children:function(a,b){function c(a){return""===a&&!/\S/.test(a)}function d(a){return{data:{text:a.replace(/^(\t|\x20{4})+/,"").replace(/(\t|\x20{4})+$/,"")},children:[]}}function e(a){for(var b=0;m.test(a);)a=a.replace(m,""),b++;return b}function f(a,b){a.children.push(b)}function g(a,b){for(var c=0,d=b.length;c<d;c++){var e=q.createNode(null,a);e.setData("text",b[c].data.text||""),g(e,b[c].children)}}if(a instanceof kityminder.Node){for(var h,i=[],j={},k=0,l=/\r|\n|\r\n/,m=/^(\t|\x20{4})/,n=b.split(l),o="",p=0,q=this;void 0!==(o=n[p++]);)if(o=o.replace(/&nbsp;/g,""),!c(o))if(k=e(o),h=d(o),0===k)j={},i.push(h),j[0]=i[i.length-1];else{if(!j[k-1])throw new Error("Invalid local format");f(j[k-1],h),j[k]=h}g(a,i),q.refresh()}},exportNode:function(a){var b={};b.data=a.getData();var c=a.getChildren();b.children=[];for(var d=0;d<c.length;d++)b.children.push(this.exportNode(c[d]));return b},importNode:function(a,b){var c=b.data;a.data={};for(var d in c)a.setData(d,c[d]);for(var e=b.children||[],f=0;f<e.length;f++){var g=this.createNode(null,a);this.importNode(g,e[f])}return a},importJson:function(a){if(a){for(this._fire(new i("preimport",null,!1));this._root.getChildren().length;)this.removeNode(this._root.getChildren()[0]);return a=j(a),this.importNode(this._root,a.root),this.setTemplate(a.template||"default"),this.setTheme(a.theme||null),this.refresh(),this.fire("import"),this._firePharse({type:"contentchange"}),this._interactChange(),this}},exportData:function(a,b){var c,d;return c=this.exportJson(),!a||(d=l[a])&&d.encode?(this._fire(new i("beforeexport",{json:c,protocolName:a,protocol:d})),k.resolve(d.encode(c,this,b))):k.reject(new Error("Not supported protocol:"+a))},importData:function(a,b,c){var d,e=this;if(a&&(!(d=l[a])||!d.decode))return k.reject(new Error("Not supported protocol:"+a));var f={local:b,protocolName:a,protocol:d};return this._fire(new i("beforeimport",f)),k.resolve(d.decode(b,this,c)).then(function(a){return e.importJson(a),a})},decodeData:function(a,b,c){var d;if(a&&(!(d=l[a])||!d.decode))return k.reject(new Error("Not supported protocol:"+a));var e={local:b,protocolName:a,protocol:d};return this._fire(new i("beforeimport",e)),k.resolve(d.decode(b,this,c))}})}},b[13]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19)),g=e.createClass("MindEvent",{constructor:function(a,b,c){b=b||{},b.getType&&"ShapeEvent"==b.getType()?(this.kityEvent=b,this.originEvent=b.originEvent):b.target&&b.preventDefault?this.originEvent=b:e.Utils.extend(this,b),this.type=a,this._canstop=c||!1},getPosition:function(a){if(this.kityEvent)return a&&"minder"!=a?this.kityEvent.getPosition.call(this.kityEvent,a):this.kityEvent.getPosition(this.minder.getRenderContainer())},getTargetNode:function(){var a=this.kityEvent&&this.kityEvent.targetShape;if(!a)return null;for(;!a.minderNode&&a.container;)a=a.container;var b=a.minderNode;return b&&a.getOpacity()<1?null:b||null},stopPropagation:function(){this._stoped=!0},stopPropagationImmediately:function(){this._immediatelyStoped=!0,this._stoped=!0},shouldStopPropagation:function(){return this._canstop&&this._stoped},shouldStopPropagationImmediately:function(){return this._canstop&&this._immediatelyStoped},preventDefault:function(){this.originEvent.preventDefault()},isRightMB:function(){var a=!1;return!!this.originEvent&&("which"in this.originEvent?a=3==this.originEvent.which:"button"in this.originEvent&&(a=2==this.originEvent.button),a)},getKeyCode:function(){var a=this.originEvent;return a.keyCode||a.which}});f.registerInitHook(function(a){this._initEvents()}),e.extendClass(f,{_initEvents:function(){this._eventCallbacks={}},_resetEvents:function(){this._initEvents(),this._bindEvents()},_bindEvents:function(){this._paper.on("click dblclick mousedown contextmenu mouseup mousemove mouseover mousewheel DOMMouseScroll touchstart touchmove touchend dragenter dragleave drop",this._firePharse.bind(this)),window&&window.addEventListener("resize",this._firePharse.bind(this))},dispatchKeyEvent:function(a){this._firePharse(a)},_firePharse:function(a){var b,c,d;"DOMMouseScroll"==a.type&&(a.type="mousewheel",a.wheelDelta=a.originEvent.wheelDelta=-10*a.originEvent.detail,a.wheelDeltaX=a.originEvent.mozMovementX,a.wheelDeltaY=a.originEvent.mozMovementY),b=new g("before"+a.type,a,!0),this._fire(b)||(c=new g("pre"+a.type,a,!0),d=new g(a.type,a,!0),(this._fire(c)||this._fire(d))&&this._fire(new g("after"+a.type,a,!1)))},_interactChange:function(a){var b=this;b._interactScheduled||(setTimeout(function(){b._fire(new g("interactchange")),b._interactScheduled=!1},100),b._interactScheduled=!0)},_listen:function(a,b){(this._eventCallbacks[a]||(this._eventCallbacks[a]=[])).push(b)},_fire:function(a){a.minder=this;var b=this.getStatus(),c=this._eventCallbacks[a.type.toLowerCase()]||[];if(b&&(c=c.concat(this._eventCallbacks[b+"."+a.type.toLowerCase()]||[])),0!==c.length){for(var d=(this.getStatus(),0);d<c.length&&(c[d].call(this,a),!a.shouldStopPropagationImmediately());d++);return a.shouldStopPropagation()}},on:function(a,b){var c=this;return a.split(/\s+/).forEach(function(a){c._listen(a.toLowerCase(),b)}),this},off:function(a,b){var c,d,e,f,g=a.split(/\s+/);for(c=0;c<g.length;c++)if(e=this._eventCallbacks[g[c].toLowerCase()]){for(f=null,d=0;d<e.length;d++)e[d]==b&&(f=d);null!==f&&e.splice(f,1)}},fire:function(a,b){var c=new g(a,b);return this._fire(c),this}}),d.exports=g}},b[14]={value:function(a,c,d){var e=b.r(17),f=b.r(19);f.registerInitHook(function(){this.on("beforemousedown",function(a){this.focus(),a.preventDefault()}),this.on("paperrender",function(){this.focus()})}),e.extendClass(f,{focus:function(){if(!this.isFocused()){this._renderTarget.classList.add("focus"),this.renderNodeBatch(this.getSelectedNodes())}return this.fire("focus"),this},blur:function(){if(this.isFocused()){this._renderTarget.classList.remove("focus"),this.renderNodeBatch(this.getSelectedNodes())}return this.fire("blur"),this},isFocused:function(){var a=this._renderTarget;return a&&a.classList.contains("focus")}})}},b[15]={value:function(a,b,c){var d={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,direction:{37:1,38:1,39:1,40:1},Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190,controlKeys:{16:1,17:1,18:1,20:1,91:1,224:1},notContentChange:{13:1,9:1,33:1,34:1,35:1,36:1,16:1,17:1,18:1,20:1,91:1,37:1,38:1,39:1,40:1,113:1,114:1,115:1,144:1,27:1},isSelectedNodeKey:{37:1,38:1,39:1,40:1,13:1,9:1}};for(var e in d)d.hasOwnProperty(e)&&(d[e.toLowerCase()]=d[e]);var f="a".charCodeAt(0);"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(a){d[a]=a.charCodeAt(0)-f+65});var g=9;do{d[g.toString()]=g+48}while(--g);c.exports=d}},b[16]={value:function(a,c,d){function e(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})}var f=b.r(17),g=(b.r(33),b.r(19));g.registerInitHook(function(a){this.setDefaultOptions({enableKeyReceiver:!0}),this.getOption("enableKeyReceiver")&&this.on("paperrender",function(){this._initKeyReceiver()})}),f.extendClass(g,{_initKeyReceiver:function(){if(!this._keyReceiver){var a=this._keyReceiver=document.createElement("input");a.classList.add("km-receiver");this._renderTarget.appendChild(a);var b=this;e(a,"keydown keyup keypress copy paste blur focus input",function(c){switch(c.type){case"blur":b.blur();break;case"focus":b.focus();break;case"input":a.value=null}b._firePharse(c),c.preventDefault()}),this.on("focus",function(){a.select(),a.focus()}),this.on("blur",function(){a.blur()}),this.isFocused()&&(a.select(),a.focus())}}})}},b[17]={value:function(a,b,c){c.exports=window.kity}},b[18]={value:function(a,c,d){function e(a,b){k[a]=b,f=f||a}var f,g=b.r(17),h=b.r(33),i=b.r(19),j=b.r(21),k=(b.r(13),b.r(9),{}),l=g.createClass("Layout",{doLayout:function(a,b){throw new Error("Not Implement: Layout.doLayout()")},align:function(a,b,c){var d=this;c=c||0,a.forEach(function(a){var e=d.getTreeBox([a]),f=a.getLayoutTransform();switch(b){case"left":return f.translate(c-e.left,0);case"right":return f.translate(c-e.right,0);case"top":return f.translate(0,c-e.top);case"bottom":return f.translate(0,c-e.bottom)}})},stack:function(a,b,c){var d=this,e=0;return c=c||function(a,b,c){return a.getStyle({x:"margin-right",y:"margin-bottom"}[c])+b.getStyle({x:"margin-left",y:"margin-top"}[c])},a.forEach(function(a,f,g){var h=d.getTreeBox([a]),i={x:h.width,y:h.height}[b],j={x:h.left,y:h.top}[b],k=a.getLayoutTransform();"x"==b?k.translate(e-j,0):k.translate(0,e-j),e+=i,g[f+1]&&(e+=c(a,g[f+1],b))}),e},move:function(a,b,c){a.forEach(function(a){a.getLayoutTransform().translate(b,c)})},getBranchBox:function(a){var b,c,d,e,f=new g.Box;for(b=0;b<a.length;b++)c=a[b],d=c.getLayoutTransform(),e=c.getContentBox(),f=f.merge(d.transformBox(e));return f},getTreeBox:function(a){var b,c,d,e,f=new g.Box;for(a instanceof Array||(a=[a]),b=0;b<a.length;b++)c=a[b],d=c.getLayoutTransform(),e=c.getContentBox(),c.isExpanded()&&c.children.length&&(e=e.merge(this.getTreeBox(c.children))),f=f.merge(d.transformBox(e));return f},getOrderHint:function(a){return[]}});l.register=e,i.registerInitHook(function(a){this.refresh()}),h.extend(i,{getLayoutList:function(){return k},getLayoutInstance:function(a){var b=k[a];if(!b)throw new Error("Missing Layout: "+a);return new b}}),g.extendClass(j,{getLayout:function(){var a=this.getData("layout");return a=a||(this.isRoot()?f:this.parent.getLayout())},setLayout:function(a){return a&&("inherit"==a?this.setData("layout"):this.setData("layout",a)),this},layout:function(a){return this.setLayout(a).getMinder().layout(),this},getLayoutInstance:function(){return i.getLayoutInstance(this.getLayout())},getOrderHint:function(a){return this.parent.getLayoutInstance().getOrderHint(this)},getLayoutTransform:function(){return this._layoutTransform||new g.Matrix},getGlobalLayoutTransformPreview:function(){var a=this.parent?this.parent.getLayoutTransform():new g.Matrix,b=this.getLayoutTransform(),c=this.getLayoutOffset();return c&&(b=b.clone().translate(c.x,c.y)),a.merge(b)},getLayoutPointPreview:function(){return this.getGlobalLayoutTransformPreview().transformPoint(new g.Point)},getGlobalLayoutTransform:function(){return this._globalLayoutTransform?this._globalLayoutTransform:this.parent?this.parent.getGlobalLayoutTransform():new g.Matrix},setLayoutTransform:function(a){return this._layoutTransform=a,this},setGlobalLayoutTransform:function(a){return this.getRenderContainer().setMatrix(this._globalLayoutTransform=a),this},setVertexIn:function(a){this._vertexIn=a},setVertexOut:function(a){this._vertexOut=a},getVertexIn:function(){return this._vertexIn||new g.Point},getVertexOut:function(){return this._vertexOut||new g.Point},getLayoutVertexIn:function(){return this.getGlobalLayoutTransform().transformPoint(this.getVertexIn())},getLayoutVertexOut:function(){return this.getGlobalLayoutTransform().transformPoint(this.getVertexOut())},setLayoutVectorIn:function(a){return this._layoutVectorIn=a,this},setLayoutVectorOut:function(a){return this._layoutVectorOut=a,this},getLayoutVectorIn:function(){return this._layoutVectorIn||new g.Vector},getLayoutVectorOut:function(){return this._layoutVectorOut||new g.Vector},getLayoutBox:function(){return this.getGlobalLayoutTransform().transformBox(this.getContentBox())},getLayoutPoint:function(){return this.getGlobalLayoutTransform().transformPoint(new g.Point)},getLayoutOffset:function(){if(!this.parent)return new g.Point;var a=this.getData("layout_"+this.parent.getLayout()+"_offset");return a?new g.Point(a.x,a.y):new g.Point},setLayoutOffset:function(a){return this.parent?(this.setData("layout_"+this.parent.getLayout()+"_offset",a?{x:a.x,y:a.y}:void 0),this):this},hasLayoutOffset:function(){return!!this.getData("layout_"+this.parent.getLayout()+"_offset")},resetLayoutOffset:function(){return this.setLayoutOffset(null)},getLayoutRoot:function(){return this.isLayoutRoot()?this:this.parent.getLayoutRoot()},isLayoutRoot:function(){return this.getData("layout")||this.isRoot()}}),g.extendClass(i,{layout:function(){function a(b,c){b.isExpanded(),b.children.forEach(function(b){a(b,c)}),b.getLayoutInstance().doLayout(b,b.getChildren(),c)}var b=this.getOption("layoutAnimationDuration");this.getRoot().traverse(function(a){a.setLayoutTransform(null)}),a(this.getRoot(),1),a(this.getRoot(),2);var c=this;return this.applyLayoutResult(this.getRoot(),b,function(){setTimeout(function(){c.fire("layoutallfinish")},0)}),this.fire("layout")},refresh:function(){return this.getRoot().renderTree(),this.layout().fire("contentchange")._interactChange(),this},applyLayoutResult:function(a,b,c){function d(){--i||c&&c()}function e(a,b){a.setGlobalLayoutTransform(b),h.fire("layoutapply",{node:a,matrix:b})}function f(a,c){var i=a.getLayoutTransform().merge(c.clone()),j=a.getGlobalLayoutTransform()||new g.Matrix,k=a.getLayoutOffset();i.translate(k.x,k.y),i.m.e=Math.round(i.m.e),i.m.f=Math.round(i.m.f),a._layoutTimeline&&(a._layoutTimeline.stop(),a._layoutTimeline=null),b?a._layoutTimeline=new g.Animator(j,i,e).start(a,b,"ease").on("finish",function(){setTimeout(function(){e(a,i),h.fire("layoutfinish",{node:a,matrix:i}),d()},150)}):(e(a,i),h.fire("layoutfinish",{node:a,matrix:i}),d());for(var l=0;l<a.children.length;l++)f(a.children[l],i)}a=a||this.getRoot();var h=this,i=a.getComplex();return i>200&&(b=0),f(a,a.parent?a.parent.getGlobalLayoutTransform():new g.Matrix),this}}),d.exports=l}},b[19]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=[],h=e.createClass("Minder",{constructor:function(a){this._options=f.extend({},a);for(var b,c=g.slice();c.length;)"function"==typeof(b=c.shift())&&b.call(this,this._options);this.fire("finishInitHook")}});h.version="1.4.43",h.registerInitHook=function(a){g.push(a)},d.exports=h}},b[20]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(19),h={};c.register=function(a,b){h[a]=b},g.registerInitHook(function(){this._initModules()}),e.extendClass(g,{_initModules:function(){var a=h,b=this._options.modules||f.keys(a);this._commands={},this._query={},this._modules={},this._rendererClasses={};var c,d,e,g,i,j,k,l=this;for(c=0;c<b.length;c++)if(d=b[c],a[d]&&(g="function"==typeof a[d]?a[d].call(l):a[d],this._modules[d]=g,g)){g.defaultOptions&&l.setDefaultOptions(g.defaultOptions),g.init&&g.init.call(l,this._options),i=g.commands;for(d in i)this._commands[d.toLowerCase()]=new i[d];if(j=g.events)for(e in j)l.on(e,j[e]);if(k=g.renderers)for(e in k)this._rendererClasses[e]=this._rendererClasses[e]||[],f.isArray(k[e])?this._rendererClasses[e]=this._rendererClasses[e].concat(k[e]):this._rendererClasses[e].push(k[e]);g.commandShortcutKeys&&this.addCommandShortcutKeys(g.commandShortcutKeys)}},_garbage:function(){for(this.clearSelect();this._root.getChildren().length;)this._root.removeChild(0)},destroy:function(){var a=this._modules;this._resetEvents(),this._garbage();for(var b in a)a[b].destroy&&a[b].destroy.call(this)},reset:function(){var a=this._modules;this._garbage();for(var b in a)a[b].reset&&a[b].reset.call(this)}})}},b[21]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(19),h=e.createClass("MinderNode",{constructor:function(a){this.parent=null,this.root=this,this.children=[],this.data={id:f.guid(),created:+new Date},this.initContainers(),f.isString(a)?this.setText(a):f.isObject(a)&&f.extend(this.data,a)},initContainers:function(){this.rc=(new e.Group).setId(f.uuid("minder_node")),this.rc.minderNode=this},isRoot:function(){return this.root===this},isLeaf:function(){return 0===this.children.length},getRoot:function(){return this.root||this},getParent:function(){return this.parent},getSiblings:function(){var a=this.parent.children,b=[],c=this;return a.forEach(function(a){a!=c&&b.push(a)}),b},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},getComplex:function(){var a=0;return this.traverse(function(){a++}),a},getType:function(a){return this.type=["root","main","sub"][Math.min(this.getLevel(),2)],this.type},isAncestorOf:function(a){for(var b=a.parent;b;){if(b==this)return!0;b=b.parent}return!1},getData:function(a){return a?this.data[a]:this.data},setData:function(a,b){if("object"==typeof a){var c=a;for(a in c)c.hasOwnProperty(a)&&(this.data[a]=c[a])}else this.data[a]=b;return this},setText:function(a){return this.data.text=a},getText:function(){return this.data.text||null},preTraverse:function(a,b){var c=this.getChildren();b||a(this);for(var d=0;d<c.length;d++)c[d].preTraverse(a)},postTraverse:function(a,b){for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].postTraverse(a);b||a(this)},traverse:function(a,b){return this.postTraverse(a,b)},getChildren:function(){return this.children},getIndex:function(){return this.parent?this.parent.children.indexOf(this):-1},insertChild:function(a,b){void 0===b&&(b=this.children.length),a.parent&&a.parent.removeChild(a),a.parent=this,a.root=this.root,this.children.splice(b,0,a)},appendChild:function(a){return this.insertChild(a)},prependChild:function(a){return this.insertChild(a,0)},removeChild:function(a){var b,c=a;a instanceof h&&(c=this.children.indexOf(a)),c>=0&&(b=this.children.splice(c,1)[0],b.parent=null,b.root=b)},clearChildren:function(){this.children=[]},getChild:function(a){return this.children[a]},getRenderContainer:function(){return this.rc},getCommonAncestor:function(a){return h.getCommonAncestor(this,a)},contains:function(a){return this==a||this.isAncestorOf(a)},clone:function(){var a=new h;return a.data=f.clone(this.data),this.children.forEach(function(b){a.appendChild(b.clone())}),a},compareTo:function(a){if(!f.comparePlainObject(this.data,a.data))return!1;if(!f.comparePlainObject(this.temp,a.temp))return!1;if(this.children.length!=a.children.length)return!1;for(var b=0;this.children[b];){if(!this.children[b].compareTo(a.children[b]))return!1;b++}return!0},getMinder:function(){return this.getRoot().minder}});h.getCommonAncestor=function(a,b){if(a instanceof Array)return h.getCommonAncestor.apply(this,a);switch(arguments.length){case 1:return a.parent||a;case 2:if(a.isAncestorOf(b))return a;if(b.isAncestorOf(a))return b;for(var c=a.parent;c&&!c.isAncestorOf(b);)c=c.parent;return c;default:return Array.prototype.reduce.call(arguments,function(a,b){return h.getCommonAncestor(a,b)},a)}},e.extendClass(g,{getRoot:function(){return this._root},setRoot:function(a){this._root=a,a.minder=this},getAllNode:function(){var a=[];return this.getRoot().traverse(function(b){a.push(b)}),a},getNodeById:function(a){return this.getNodesById([a])[0]},getNodesById:function(a){var b=this.getAllNode(),c=[];return b.forEach(function(b){-1!=a.indexOf(b.getData("id"))&&c.push(b)}),c},createNode:function(a,b,c){var d=new h(a);return this.fire("nodecreate",{node:d,parent:b,index:c}),this.appendNode(d,b,c),d},appendNode:function(a,b,c){return b&&b.insertChild(a,c),this.attachNode(a),this},removeNode:function(a){a.parent&&(a.parent.removeChild(a),this.detachNode(a),this.fire("noderemove",{node:a}))},attachNode:function(a){var b=this.getRenderContainer();a.traverse(function(a){a.attached=!0,b.addShape(a.getRenderContainer())}),b.addShape(a.getRenderContainer()),this.fire("nodeattach",{node:a})},detachNode:function(a){var b=this.getRenderContainer();a.traverse(function(a){a.attached=!1,b.removeShape(a.getRenderContainer())}),this.fire("nodedetach",{node:a})},getMinderTitle:function(){return this.getRoot().getText()}}),d.exports=h}},b[22]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(19);g.registerInitHook(function(a){this._defaultOptions={}}),e.extendClass(g,{setDefaultOptions:function(a){return f.extend(this._defaultOptions,a),this},getOption:function(a){return a?a in this._options?this._options[a]:this._defaultOptions[a]:f.extend({},this._defaultOptions,this._options)},setOption:function(a,b){this._options[a]=b}})}},b[23]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(19);g.registerInitHook(function(){this._initPaper()}),e.extendClass(g,{_initPaper:function(){this._paper=new e.Paper,this._paper._minder=this,this._paper.getNode().ondragstart=function(a){a.preventDefault()},this._paper.shapeNode.setAttribute("transform","translate(0.5, 0.5)"),this._addRenderContainer(),this.setRoot(this.createNode()),this._options.renderTo&&this.renderTo(this._options.renderTo)},_addRenderContainer:function(){this._rc=(new e.Group).setId(f.uuid("minder")),this._paper.addShape(this._rc)},renderTo:function(a){if("string"==typeof a&&(a=document.querySelector(a)),a){if("script"==a.tagName.toLowerCase()){var b=document.createElement("div");b.id=a.id,b.class=a.class,a.parentNode.insertBefore(b,a),a.parentNode.removeChild(a),a=b}a.classList.add("km-view"),this._paper.renderTo(this._renderTarget=a),this._bindEvents(),this.fire("paperrender")}return this},getRenderContainer:function(){return this._rc},getPaper:function(){return this._paper},getRenderTarget:function(){return this._renderTarget}})}},b[24]={value:function(a,c,d){function e(a,b,c,d){return c=a.createNode(b.data,c,d),b.children.forEach(function(b,d){e(a,b,c,d)}),c}function f(a,b){var c=b.path.split("/");c.shift();var d,f=c.shift();if("root"==f){var g=c.indexOf("data");if(g>-1){f="data";var h=c.splice(g+1);b.dataPath=h}else f="node";d=a.getRoot();for(var i,j;i=c.shift();)"children"!=i&&(void 0!==j&&(d=d.getChild(j)),j=+i);b.index=j,b.node=d}switch(b.express=[f,b.op].join(".")){case"theme.replace":a.useTheme(b.value);break;case"template.replace":a.useTemplate(b.value);break;case"node.add":e(a,b.value,b.node,b.index).renderTree(),a.layout();break;case"node.remove":a.removeNode(b.node.getChild(b.index)),a.layout();break;case"data.add":case"data.replace":case"data.remove":var k,l=b.node.data;for(c=b.dataPath.slice();l&&c.length>1;)k=c.shift(),k in l?l=l[k]:"remove"!=b.op&&(l=l[k]={});l&&(k=c.shift(),l[k]=b.value),"expandState"==k?d.renderTree():d.render(),a.layout()}a.fire("patch",{patch:b})}var g=b.r(17),h=b.r(19);g.extendClass(h,{applyPatches:function(a){for(var b=0;b<a.length;b++)f(this,a[b]);return this.fire("contentchange"),this}})}},b[25]={value:function(a,b,c){var d=0,e=1,f=2,g=function(a){if(!(this instanceof g))return new g(a);this.id="Thenable/1.0.7",this.state=d,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],"function"==typeof a&&a.call(this,this.fulfill.bind(this),this.reject.bind(this))};g.prototype={fulfill:function(a){return h(this,e,"fulfillValue",a)},reject:function(a){return h(this,f,"rejectReason",a)},then:function(a,b){var c=this,d=new g;return c.onFulfilled.push(k(a,d,"fulfill")),c.onRejected.push(k(b,d,"reject")),i(c),d}},g.all=function(a){return new g(function(b,c){var d=a.length,e=0,f=0,g=[];for(0===d&&b(g);e<d;)a[e].then(function(a){g.push(a),++f===d&&b(g)},function(a){c(a)}),e++})};var h=function(a,b,c,e){return a.state===d&&(a.state=b,a[c]=e,i(a)),a},i=function(a){a.state===e?j(a,"onFulfilled",a.fulfillValue):a.state===f&&j(a,"onRejected",a.rejectReason)},j=function(a,b,c){if(0!==a[b].length){var d=a[b];a[b]=[];var e=function(){for(var a=0;a<d.length;a++)d[a](c)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}},k=function(a,b,c){return function(d){if("function"!=typeof a)b[c].call(b,d);else{var e;try{e=d instanceof g?d.then(a):a(d)}catch(a){return void b.reject(a)}l(b,e)}}},l=function(a,b){if(a===b)return void a.reject(new TypeError("cannot resolve promise with itself"));var c;if("object"==typeof b&&null!==b||"function"==typeof b)try{c=b.then}catch(b){return void a.reject(b)}if("function"!=typeof c)a.fulfill(b);else{var d=!1;try{c.call(b,function(c){d||(d=!0,c===b?a.reject(new TypeError("circular thenable chain")):l(a,c))},function(b){d||(d=!0,a.reject(b))})}catch(b){d||a.reject(b)}}};g.resolve=function(a){return new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},c.exports=g}},b[26]={value:function(a,c,d){var e=b.r(17),f=b.r(19);b.r(13);f.registerInitHook(function(a){a.readOnly&&this.setDisabled()}),e.extendClass(f,{disable:function(){var a=this;a.bkqueryCommandState=a.queryCommandState,a.bkqueryCommandValue=a.queryCommandValue,a.queryCommandState=function(b){var c=this._getCommand(b);return c&&c.enableReadOnly?a.bkqueryCommandState.apply(a,arguments):-1},a.queryCommandValue=function(b){var c=this._getCommand(b);return c&&c.enableReadOnly?a.bkqueryCommandValue.apply(a,arguments):null},this.setStatus("readonly"),a._interactChange()},enable:function(){var a=this;a.bkqueryCommandState&&(a.queryCommandState=a.bkqueryCommandState,delete a.bkqueryCommandState),a.bkqueryCommandValue&&(a.queryCommandValue=a.bkqueryCommandValue,delete a.bkqueryCommandValue),this.setStatus("normal"),a._interactChange()}})}},b[27]={value:function(a,c,d){function e(){function a(a,b){var c=[];["center","left","right","top","bottom","outline","outside"].forEach(function(a){var d="before"+a,e="after"+a;b[d]&&(c=c.concat(b[d])),b[a]&&(c=c.concat(b[a])),b[e]&&(c=c.concat(b[e]))}),a._renderers=c.map(function(b){return new b(a)})}return{renderNodeBatch:function(b){var c,d,e,g,h=this._rendererClasses,i=[],j=0;if(b.length){for(d=0;d<b.length;d++)g=b[d],g._renderers||a(g,h),g._contentBox=new f.Box,this.fire("beforerender",{node:g});for(j=b[0]._renderers.length,c=0;c<j;c++){for(d=0;d<b.length;d++)"function"==typeof i[d]&&(i[d]=i[d]()),i[d]instanceof f.Box||(i[d]=new f.Box(i[d]));for(d=0;d<b.length;d++)g=b[d],e=g._renderers[c],i[d]&&(g._contentBox=g._contentBox.merge(i[d]),e.contentBox=i[d]),e.shouldRender(g)?(e.getRenderShape()||(e.setRenderShape(e.create(g)),e.bringToBack?g.getRenderContainer().prependShape(e.getRenderShape()):g.getRenderContainer().appendShape(e.getRenderShape())),e.getRenderShape().setVisible(!0),i[d]=e.update(e.getRenderShape(),g,g._contentBox)):e.getRenderShape()&&(e.getRenderShape().setVisible(!1),i[d]=null)}for(d=0;d<b.length;d++)this.fire("noderender",{node:b[d]})}},renderNode:function(b){var c,d=this._rendererClasses;b._renderers||a(b,d),this.fire("beforerender",{node:b}),b._contentBox=new f.Box,b._renderers.forEach(function(a){a.shouldRender(b)?(a.getRenderShape()||(a.setRenderShape(a.create(b)),a.bringToBack?b.getRenderContainer().prependShape(a.getRenderShape()):b.getRenderContainer().appendShape(a.getRenderShape())),a.getRenderShape().setVisible(!0),c=a.update(a.getRenderShape(),b,b._contentBox),"function"==typeof c&&(c=c()),c&&(b._contentBox=b._contentBox.merge(c),a.contentBox=c)):a.getRenderShape()&&a.getRenderShape().setVisible(!1)}),this.fire("noderender",{node:b})}}}var f=b.r(17),g=b.r(19),h=b.r(21),i=f.createClass("Renderer",{constructor:function(a){this.node=a},create:function(a){throw new Error("Not implement: Renderer.create()")},shouldRender:function(a){return!0},watchChange:function(a){void 0===this.watchingData||this.watchingData,this.watchingData=a},shouldDraw:function(a){return!0},update:function(a,b,c){return this.shouldDraw()&&this.draw(a,b),this.place(a,b,c)},draw:function(a,b){throw new Error("Not implement: Renderer.draw()")},place:function(a,b,c){throw new Error("Not implement: Renderer.place()")},getRenderShape:function(){return this._renderShape||null},setRenderShape:function(a){this._renderShape=a}});f.extendClass(g,e()),f.extendClass(h,{render:function(){if(this.attached)return this.getMinder().renderNode(this),this},renderTree:function(){if(this.attached){var a=[];return this.traverse(function(b){a.push(b)}),this.getMinder().renderNodeBatch(a),this}},getRenderer:function(a){var b=this._renderers;if(!b)return null;for(var c=0;c<b.length;c++)if(b[c].getType()==a)return b[c];return null},getContentBox:function(){return this.parent&&this.parent.isCollapsed()?new f.Box:this._contentBox||new f.Box},getRenderBox:function(a,b){var c=a&&this.getRenderer(a),d=c?c.contentBox:this.getContentBox();return f.Matrix.getCTM(this.getRenderContainer(),b||"paper").transformBox(d)}}),d.exports=i}},b[28]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(19),h=b.r(21);g.registerInitHook(function(){this._initSelection()}),e.extendClass(g,{_initSelection:function(){this._selectedNodes=[]},renderChangedSelection:function(a){var b=this.getSelectedNodes(),c=[];for(b.forEach(function(b){-1==a.indexOf(b)&&c.push(b)}),a.forEach(function(a){-1==b.indexOf(a)&&c.push(a)}),c.length&&(this._interactChange(),this.fire("selectionchange"));c.length;)c.shift().render()},getSelectedNodes:function(){return this._selectedNodes},getSelectedNode:function(){return this.getSelectedNodes()[0]||null},removeAllSelectedNodes:function(){var a=this._selectedNodes.splice(0);return this._selectedNodes=[],this.renderChangedSelection(a),this.fire("selectionclear")},removeSelectedNodes:function(a){var b=this,c=this._selectedNodes.slice(0);return a=f.isArray(a)?a:[a],a.forEach(function(a){var c;-1!==(c=b._selectedNodes.indexOf(a))&&b._selectedNodes.splice(c,1)}),this.renderChangedSelection(c),this},select:function(a,b){var c=this.getSelectedNodes().slice(0);b&&(this._selectedNodes=[]);var d=this;return a=f.isArray(a)?a:[a],a.forEach(function(a){-1===d._selectedNodes.indexOf(a)&&d._selectedNodes.unshift(a)}),this.renderChangedSelection(c),this},selectById:function(a,b){a=f.isArray(a)?a:[a];var c=this.getNodesById(a);return this.select(c,b)},toggleSelect:function(a){return f.isArray(a)?a.forEach(this.toggleSelect.bind(this)):a.isSelected()?this.removeSelectedNodes(a):this.select(a),this},isSingleSelect:function(){return 1==this._selectedNodes.length},getSelectedAncestors:function(a){function b(a,b){for(var c=a.length-1;c>=0;--c)if(a[c].isAncestorOf(b))return!0;return!1}var c,d=this.getSelectedNodes().slice(0),e=[],f=d.indexOf(this.getRoot());for(~f&&!a&&d.splice(f,1),d.sort(function(a,b){return a.getLevel()-b.getLevel()});c=d.pop();)b(d,c)||e.push(c);return e}}),e.extendClass(h,{isSelected:function(){var a=this.getMinder();return a&&-1!=a.getSelectedNodes().indexOf(this)}})}},b[29]={value:function(a,c,d){function e(a){var b=4096,c=8192,d=16384,e=0;return"string"==typeof a?a.toLowerCase().split(/\+\s*/).forEach(function(a){switch(a){case"ctrl":case"cmd":e|=b;break;case"alt":e|=c;break;case"shift":e|=d;break;default:e|=h[a]}}):((a.ctrlKey||a.metaKey)&&(e|=b),a.altKey&&(e|=c),a.shiftKey&&(e|=d),e|=a.keyCode),e}var f=b.r(17),g=b.r(33),h=b.r(15),i=b.r(19),j=b.r(13);f.extendClass(j,{isShortcutKey:function(a){var b=this.originEvent;return!!b&&e(a)==e(b)}}),i.registerInitHook(function(){this._initShortcutKey()}),f.extendClass(i,{_initShortcutKey:function(){this._bindShortcutKeys()},_bindShortcutKeys:function(){var a=this._shortcutKeys={};this.on("keydown",function(b){for(var c in a)if(a.hasOwnProperty(c)&&b.isShortcutKey(c)){var d=a[c];if(d.__statusCondition&&d.__statusCondition!=this.getStatus())return;d(),b.preventDefault()}})},addShortcut:function(a,b){var c=this._shortcutKeys;a.split(/\|\s*/).forEach(function(a){var d,e=a.split("::");e.length>1&&(a=e[1],d=e[0],b.__statusCondition=d),c[a]=b})},addCommandShortcutKeys:function(a,b){var c=this._commandShortcutKeys||(this._commandShortcutKeys={}),d={};b?d[a]=b:d=a;var e=this;g.each(d,function(a,b){c[b]=a,e.addShortcut(a,function(){-1!==e.queryCommandState(b)&&e.execCommand(b)})})},getCommandShortcutKey:function(a){var b=this._commandShortcutKeys;return b&&b[a]||null},supportClipboardEvent:function(a){return!!a.ClipboardEvent}(window)})}},b[30]={value:function(a,c,d){var e=b.r(17),f=b.r(19),g=~window.location.href.indexOf("status"),h=~window.location.href.indexOf("trace");f.registerInitHook(function(){this._initStatus()}),e.extendClass(f,{_initStatus:function(){this._status="normal",this._rollbackStatus="normal"},setStatus:function(a,b){return"readonly"!=this._status||b?(a!=this._status&&(this._rollbackStatus=this._status,this._status=a,this.fire("statuschange",{lastStatus:this._rollbackStatus,currentStatus:this._status}),g&&(console.log(window.event.type,this._rollbackStatus,"->",this._status),h&&console.trace())),this):this},rollbackStatus:function(){this.setStatus(this._rollbackStatus)},getRollbackStatus:function(){return this._rollbackStatus},getStatus:function(){return this._status}})}},b[31]={value:function(a,c,d){function e(a,b){l[a]=b}var f=b.r(17),g=b.r(33),h=b.r(19),i=b.r(9),j=b.r(21),k=b.r(20),l={};c.register=e,g.extend(h,{getTemplateList:function(){return l}}),f.extendClass(h,function(){var a=h.prototype.getTheme;return{useTemplate:function(a,b){this.setTemplate(a),this.refresh(b||800)},getTemplate:function(){return this._template||"default"},setTemplate:function(a){this._template=a||null},getTemplateSupport:function(a){var b=l[this.getTemplate()];return b&&b[a]},getTheme:function(b){return(this.getTemplateSupport("getTheme")||a).call(this,b)}}}()),f.extendClass(j,function(){var a=j.prototype.getLayout,b=j.prototype.getConnect;return{getLayout:function(){return(this.getMinder().getTemplateSupport("getLayout")||a).call(this,this)},getConnect:function(){return(this.getMinder().getTemplateSupport("getConnect")||b).call(this,this)}}}()),k.register("TemplateModule",{commands:{template:f.createClass("TemplateCommand",{base:i,execute:function(a,b){a.useTemplate(b),a.execCommand("camera")},queryValue:function(a){return a.getTemplate()||"default"}})}})}},b[32]={value:function(a,c,d){function e(a,b){m[a]=b}var f=b.r(17),g=b.r(33),h=b.r(19),i=b.r(21),j=b.r(20),k=b.r(9),l={left:function(a){return 3 in a&&a[3]||1 in a&&a[1]||a[0]},right:function(a){return 1 in a&&a[1]||a[0]},top:function(a){return a[0]},bottom:function(a){return 2 in a&&a[2]||a[0]}},m={};c.register=e,g.extend(h,{getThemeList:function(){return m}}),f.extendClass(h,{useTheme:function(a){return this.setTheme(a),this.refresh(800),!0},setTheme:function(a){if(a&&!m[a])throw new Error("Theme "+a+" not exists!");var b=this._theme;this._theme=a||null;var c=this.getRenderTarget();return c&&(c.classList.remove("km-theme-"+b),a&&c.classList.add("km-theme-"+a),c.style.background=this.getStyle("background")),this.fire("themechange",{theme:a}),this},getTheme:function(a){return this._theme||this.getOption("defaultTheme")||"fresh-blue"},getThemeItems:function(a){this.getTheme(a);return m[this.getTheme(a)]},getStyle:function(a,b){var c,d,e,f,h=this.getThemeItems(b);if(a in h)return h[a];if(c=a.split("-"),c.length<2)return null;if(d=c.pop(),(a=c.join("-"))in h){if(e=h[a],g.isArray(e)&&(f=l[d]))return f(e);if(!isNaN(e))return e}return null},getNodeStyle:function(a,b){var c=this.getStyle(a.getType()+"-"+b,a);return null!==c?c:this.getStyle(b,a)}}),f.extendClass(i,{getStyle:function(a){return this.getMinder().getNodeStyle(this,a)}}),j.register("Theme",{defaultOptions:{defaultTheme:"fresh-blue"},commands:{theme:f.createClass("ThemeCommand",{base:k,execute:function(a,b){return a.useTheme(b)},queryValue:function(a){return a.getTheme()||"default"}})}}),h.registerInitHook(function(){this.setTheme()})}},b[33]={value:function(a,c){var d=b.r(17),e={};c.extend=d.Utils.extend.bind(d.Utils),c.each=d.Utils.each.bind(d.Utils),c.uuid=function(a){return e[a]=e[a]?e[a]+1:1,a+e[a]},c.guid=function(){return(1e6*+new Date+Math.floor(1e6*Math.random())).toString(36)},c.trim=function(a){return a.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},c.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},c.clone=function(a){return JSON.parse(JSON.stringify(a))},c.comparePlainObject=function(a,b){return JSON.stringify(a)==JSON.stringify(b)},c.encodeHtml=function(a,b){return a?a.replace(b||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(a,b){return b?a:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[a]}):""},c.clearWhiteSpace=function(a){return a.replace(/[\u200b\t\r\n]/g,"")},c.each(["String","Function","Array","Number","RegExp","Object"],function(a){var b=Object.prototype.toString;c["is"+a]=function(c){return b.apply(c)=="[object "+a+"]"}})}},b[34]={value:function(a,c,d){d.exports=window.kityminder=b.r(35)}},b[35]={value:function(a,c,d){var e={version:b.r(19).version};b.r(33),e.Minder=b.r(19),e.Command=b.r(9),e.Node=b.r(21),b.r(22),b.r(8),e.Event=b.r(13),e.data=b.r(12),b.r(10),e.KeyMap=b.r(15),b.r(29),b.r(30),b.r(23),b.r(28),b.r(14),b.r(16),e.Module=b.r(20),b.r(26),e.Render=b.r(27),e.Connect=b.r(11),e.Layout=b.r(18),e.Theme=b.r(32),e.Template=b.r(31),e.Promise=b.r(25),b.r(7),b.r(24),b.r(42),b.r(43),b.r(44),b.r(45),b.r(46),b.r(47),b.r(48),b.r(50),b.r(49),b.r(51),b.r(52),b.r(53),b.r(54),b.r(55),b.r(56),b.r(57),b.r(58),b.r(59),b.r(60),b.r(61),b.r(62),b.r(63),b.r(64),b.r(68),b.r(65),b.r(67),b.r(66),b.r(40),b.r(36),b.r(37),b.r(38),b.r(39),b.r(41),b.r(75),b.r(78),b.r(77),b.r(76),b.r(78),b.r(80),b.r(79),b.r(0),b.r(1),b.r(2),b.r(3),b.r(4),b.r(5),b.r(6),b.r(69),b.r(73),b.r(70),b.r(72),b.r(71),b.r(74),d.exports=e}},b[36]={value:function(a,c,d){function e(a){function b(a){var b=[],d=a.getLayoutBox(),e=5;return"x"==c?(b.push({type:"up",node:a,area:new f.Box({x:d.x,y:d.top-a.getStyle("margin-top")-e,width:d.width,height:a.getStyle("margin-top")}),path:["M",d.x,d.top-e,"L",d.right,d.top-e]}),b.push({type:"down",node:a,area:new f.Box({x:d.x,y:d.bottom+e,width:d.width,height:a.getStyle("margin-bottom")}),path:["M",d.x,d.bottom+e,"L",d.right,d.bottom+e]})):(b.push({type:"up",node:a,area:new f.Box({x:d.left-a.getStyle("margin-left")-e,y:d.top,width:a.getStyle("margin-left"),height:d.height}),path:["M",d.left-e,d.top,"L",d.left-e,d.bottom]}),b.push({type:"down",node:a,area:new f.Box({x:d.right+e,y:d.top,width:a.getStyle("margin-right"),height:d.height}),path:["M",d.right+e,d.top,"L",d.right+e,d.bottom]})),b}var c="left"==a||"right"==a?"x":"y",d="left"==a||"top"==a?-1:1,e={left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"};g.register(a,f.createClass({base:g,doLayout:function(b,g){var h=b.getContentBox();if("x"==c?(b.setVertexOut(new f.Point(h[a],h.cy)),b.setLayoutVectorOut(new f.Vector(d,0))):(b.setVertexOut(new f.Point(h.cx,h[a])),b.setLayoutVectorOut(new f.Vector(0,d))),!g.length)return!1;g.forEach(function(b){var g=b.getContentBox();b.setLayoutTransform(new f.Matrix),"x"==c?(b.setVertexIn(new f.Point(g[e[a]],g.cy)),b.setLayoutVectorIn(new f.Vector(d,0))):(b.setVertexIn(new f.Point(g.cx,g[e[a]])),b.setLayoutVectorIn(new f.Vector(0,d)))}),this.align(g,e[a]),this.stack(g,e[c]);var i=this.getBranchBox(g),j=0,k=0;"x"==c?(j=h[a],j+=d*b.getStyle("margin-"+a),j+=d*g[0].getStyle("margin-"+e[a]),k=h.bottom,k-=h.height/2,k-=i.height/2,k-=i.y):(j=h.right,j-=h.width/2,j-=i.width/2,j-=i.x,k=h[a],k+=d*b.getStyle("margin-"+a),k+=d*g[0].getStyle("margin-"+e[a])),this.move(g,j,k)},getOrderHint:b}))}var f=b.r(17),g=b.r(18);["left","right","top","bottom"].forEach(e)}},b[37]={value:function(a,c,d){function e(a){var b="filetree-"+(a>0?"down":"up");g.register(b,f.createClass({base:g,doLayout:function(b,c,d){var e=b.getContentBox(),g=20;if(b.setVertexOut(new f.Point(e.left+g,a>0?e.bottom:e.top)),b.setLayoutVectorOut(new f.Vector(0,a)),c.length){c.forEach(function(a){var b=a.getContentBox();a.setLayoutTransform(new f.Matrix),a.setVertexIn(new f.Point(b.left,b.cy)),a.setLayoutVectorIn(new f.Vector(1,0))}),this.align(c,"left"),this.stack(c,"y");var h=0;h+=e.left,h+=g,h+=c[0].getStyle("margin-left");var i=0;a>0?(i+=e.bottom,i+=b.getStyle("margin-bottom"),i+=c[0].getStyle("margin-top")):(i-=this.getTreeBox(c).bottom,i+=e.top,i-=b.getStyle("margin-top"),i-=c[0].getStyle("margin-bottom")),this.move(c,h,i)}},getOrderHint:function(a){var b=[],c=a.getLayoutBox(),d=a.getLevel()>1?3:5;return b.push({type:"up",node:a,area:new f.Box({x:c.x,y:c.top-a.getStyle("margin-top")-d,width:c.width,height:a.getStyle("margin-top")}),path:["M",c.x,c.top-d,"L",c.right,c.top-d]}),b.push({type:"down",node:a,area:new f.Box({x:c.x,y:c.bottom+d,width:c.width,height:a.getStyle("margin-bottom")}),path:["M",c.x,c.bottom+d,"L",c.right,c.bottom+d]}),b}}))}var f=b.r(17),g=b.r(18);[-1,1].forEach(e)}},b[38]={value:function(a,c,d){var e=b.r(17),f=b.r(18);f.register("fish-bone-master",e.createClass("FishBoneMasterLayout",{base:f,doLayout:function(a,b,c){var d=[],f=[],g=b[0],h=a.getContentBox();if(a.setVertexOut(new e.Point(h.right,h.cy)),a.setLayoutVectorOut(new e.Vector(1,0)),g){var i=(g.getContentBox(),a.getStyle("margin-right")),j=g.getStyle("margin-left"),k=g.getStyle("margin-top"),l=g.getStyle("margin-bottom");b.forEach(function(a,b){a.setLayoutTransform(new e.Matrix);var c=a.getContentBox();b%2?(f.push(a),a.setVertexIn(new e.Point(c.left,c.top)),a.setLayoutVectorIn(new e.Vector(1,1))):(d.push(a),a.setVertexIn(new e.Point(c.left,c.bottom)),a.setLayoutVectorIn(new e.Vector(1,-1)))}),this.stack(d,"x"),this.stack(f,"x"),this.align(d,"bottom"),this.align(f,"top");var m=h.right+i+j,n=h.cy-l-a.getStyle("margin-top"),o=h.cy+k+a.getStyle("margin-bottom");this.move(d,m,n),this.move(f,m+j,o)}}}))}},b[39]={value:function(a,c,d){var e=b.r(17),f=b.r(18);f.register("fish-bone-slave",e.createClass("FishBoneSlaveLayout",{base:f,doLayout:function(a,b,c){var d=this,f=Math.abs,g=.382,h=a.getContentBox(),i=a.getLayoutVectorIn();a.setLayoutVectorOut(i);var j=h.left+h.width*g,k=new e.Point(j,i.y>0?h.bottom:h.top);a.setVertexOut(k);var l=b[0];if(l){var m=l.getContentBox();b.forEach(function(a,b){a.setLayoutTransform(new e.Matrix),a.setLayoutVectorIn(new e.Vector(1,0)),a.setVertexIn(new e.Point(m.left,m.cy))}),this.stack(b,"y"),this.align(b,"left");var n=0,o=0;n+=k.x,a.getLayoutVectorOut().y<0?(o-=this.getTreeBox(b).bottom,o+=a.getContentBox().top,o-=a.getStyle("margin-top"),o-=l.getStyle("margin-bottom")):(o+=a.getContentBox().bottom,o+=a.getStyle("margin-bottom"),o+=l.getStyle("margin-top")),this.move(b,n,o),2==c&&b.forEach(function(a){var b=a.getLayoutTransform(),c=a.getContentBox(),g=b.transformPoint(new e.Point(c.left,0));d.move([a],f(g.y-k.y),0)})}}}))}},b[40]={value:function(a,c,d){var e=b.r(17),f=b.r(18),g=b.r(19);f.register("mind",e.createClass({base:f,doLayout:function(a,b){var c=Math.ceil(a.children.length/2),d=[],f=[];b.forEach(function(a){a.getIndex()<c?d.push(a):f.push(a)});var h=g.getLayoutInstance("left"),i=g.getLayoutInstance("right");h.doLayout(a,f),i.doLayout(a,d);var j=a.getContentBox();a.setVertexOut(new e.Point(j.cx,j.cy)),a.setLayoutVectorOut(new e.Vector(0,0))},getOrderHint:function(a){var b=[],c=a.getLayoutBox(),d=5;return b.push({type:"up",node:a,area:new e.Box({x:c.x,y:c.top-a.getStyle("margin-top")-d,width:c.width,height:a.getStyle("margin-top")}),path:["M",c.x,c.top-d,"L",c.right,c.top-d]}),b.push({type:"down",node:a,area:new e.Box({x:c.x,y:c.bottom+d,width:c.width,height:a.getStyle("margin-bottom")}),path:["M",c.x,c.bottom+d,"L",c.right,c.bottom+d]}),b}}))}},b[41]={value:function(a,c,d){var e=b.r(17),f=b.r(18);b.r(19);f.register("tianpan",e.createClass({base:f,doLayout:function(a,b){if(0!=b.length){var c,d,f,g=this,h=a.getContentBox(),i=5,j=Math.max(h.width,50);b.forEach(function(a,b){a.setLayoutTransform(new e.Matrix),f=g.getTreeBox(a),j=Math.max(Math.max(f.width,f.height),j)}),j=j/1.5/Math.PI,b.forEach(function(a,b){c=j*(Math.cos(i)+Math.sin(i)*i),d=j*(Math.sin(i)-Math.cos(i)*i),i+=.9-.02*b,a.setLayoutVectorIn(new e.Vector(1,0)),a.setVertexIn(new e.Point(h.cx,h.cy)),a.setLayoutTransform(new e.Matrix),g.move([a],c,d)})}},getOrderHint:function(a){var b=[],c=a.getLayoutBox(),d=5;return b.push({type:"up",node:a,area:{x:c.x,y:c.top-a.getStyle("margin-top")-d,width:c.width,height:a.getStyle("margin-top")},path:["M",c.x,c.top-d,"L",c.right,c.top-d]}),b.push({type:"down",node:a,area:{x:c.x,y:c.bottom+d,width:c.width,height:a.getStyle("margin-bottom")},path:["M",c.x,c.bottom+d,"L",c.right,c.bottom+d]}),b}}))}},b[42]={value:function(a,c,d){function e(a,b){return a.getIndex()-b.getIndex()}function f(a,b){return-e(a,b)}var g=b.r(17),h=b.r(21),i=b.r(9),j=b.r(20);g.extendClass(h,{arrange:function(a){var b=this.parent;if(b){var c=b.children;if(!(a<0||a>=c.length))return c.splice(this.getIndex(),1),c.splice(a,0,this),this}}});var k=g.createClass("ArrangeUpCommand",{base:i,execute:function(a){var b=a.getSelectedNodes();b.sort(e);var c=b.map(function(a){return a.getIndex()});b.forEach(function(a,b){a.arrange(c[b]-1)}),a.layout(300)},queryState:function(a){return a.getSelectedNode()?0:-1}}),l=g.createClass("ArrangeUpCommand",{base:i,execute:function(a){var b=a.getSelectedNodes();b.sort(f);var c=b.map(function(a){return a.getIndex()});b.forEach(function(a,b){a.arrange(c[b]+1)}),a.layout(300)},queryState:function(a){return a.getSelectedNode()?0:-1}}),m=g.createClass("ArrangeCommand",{base:i,execute:function(a,b){var c=a.getSelectedNodes().slice();if(c.length){if(h.getCommonAncestor(c)==c[0].parent){var d=c.map(function(a){return{index:a.getIndex(),node:a}}),e=Math.min.apply(Math,d.map(function(a){return a.index}))>=b;d.sort(function(a,b){return e?b.index-a.index:a.index-b.index}),d.forEach(function(a){a.node.arrange(b)}),a.layout(300)}}},queryState:function(a){return a.getSelectedNode()?0:-1}});j.register("ArrangeModule",{commands:{arrangeup:k,arrangedown:l,arrange:m},contextmenu:[{command:"arrangeup"},{command:"arrangedown"},{divider:!0}],commandShortcutKeys:{arrangeup:"normal::alt+Up",arrangedown:"normal::alt+Down"}})}},b[43]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20),h=b.r(61);g.register("basestylemodule",function(){function a(a,b){return a.getData(b)||a.getStyle(b)}var b=this;return h.registerStyleHook(function(b,c){var d=a(b,"font-weight"),e=a(b,"font-style");[d,e].join("/");c.eachItem(function(a,b){b.setFont({weight:d,style:e})})}),{commands:{bold:e.createClass("boldCommand",{base:f,execute:function(a){var b=a.getSelectedNodes();1==this.queryState("bold")?b.forEach(function(a){a.setData("font-weight").render()}):b.forEach(function(a){a.setData("font-weight","bold").render()}),a.layout()},queryState:function(){var a=b.getSelectedNodes(),c=0;return 0===a.length?-1:(a.forEach(function(a){if(a&&a.getData("font-weight"))return c=1,!1}),c)}}),italic:e.createClass("italicCommand",{base:f,execute:function(a){var b=a.getSelectedNodes();1==this.queryState("italic")?b.forEach(function(a){a.setData("font-style").render()}):b.forEach(function(a){a.setData("font-style","italic").render()}),a.layout()},queryState:function(){var a=b.getSelectedNodes(),c=0;return 0===a.length?-1:(a.forEach(function(a){if(a&&a.getData("font-style"))return c=1,!1}),c)}})},commandShortcutKeys:{bold:"ctrl+b",italic:"ctrl+i"}}})}},b[44]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(21)),g=b.r(9);b.r(20).register("ClipboardModule",function(){function a(b,d){h.push(d),c.appendNode(d,b),d.render(),d.setLayoutOffset(null);var e=d.children.map(function(a){return a.clone()});d.clearChildren();for(var f,g=0;f=e[g];g++)a(d,f)}function b(a){a.length&&(a.sort(function(a,b){return a.getIndex()-b.getIndex()}),d=a.map(function(a){return a.clone()}))}var c=this,d=[],h=[],i=e.createClass("CopyCommand",{base:g,execute:function(a){b(a.getSelectedAncestors(!0)),this.setContentChanged(!1)}}),j=e.createClass("CutCommand",{base:g,execute:function(a){var c=a.getSelectedAncestors();0!==c.length&&(b(c),a.select(f.getCommonAncestor(c),!0),c.slice().forEach(function(b){a.removeNode(b)}),a.layout(300))}}),k=e.createClass("PasteCommand",{base:g,execute:function(b){if(d.length){var c=b.getSelectedNodes();if(!c.length)return;for(var e,f=0;e=d[f];f++)for(var g,i=0;g=c[i];i++)a(g,e.clone());b.select(h,!0),h=[],b.layout(300)}},queryState:function(a){return a.getSelectedNode()?0:-1}});if(c.supportClipboardEvent&&!e.Browser.gecko){var l=function(a){this.fire("beforeCopy",a)},m=function(a){this.fire("beforeCut",a)},n=function(a){this.fire("beforePaste",a)};return{commands:{copy:i,cut:j,paste:k},clipBoardEvents:{copy:l.bind(c),cut:m.bind(c),paste:n.bind(c)},sendToClipboard:b}}return{commands:{copy:i,cut:j,paste:k},commandShortcutKeys:{copy:"normal::ctrl+c|",cut:"normal::ctrl+x",paste:"normal::ctrl+v"},sendToClipboard:b}})}},b[45]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(21)),g=b.r(9),h=b.r(20),i=e.createClass("MoveToParentCommand",{base:g,execute:function(a,b,c){for(var d,e=0;e<b.length;e++)d=b[e],d.parent&&(d.parent.removeChild(d),c.appendChild(d),d.render());c.expand(),a.select(b,!0)}}),j=e.createClass("DropHinter",{base:e.Group,constructor:function(){this.callBase(),this.rect=new e.Rect,this.addShape(this.rect)},render:function(a){this.setVisible(!!a),a&&(this.rect.setBox(a.getLayoutBox()).setRadius(a.getStyle("radius")||0).stroke(a.getStyle("drop-hint-color")||"yellow",a.getStyle("drop-hint-width")||2),this.bringTop())}}),k=e.createClass("OrderHinter",{base:e.Group,constructor:function(){this.callBase(),this.area=new e.Rect,this.path=new e.Path,this.addShapes([this.area,this.path])},render:function(a){this.setVisible(!!a),a&&(this.area.setBox(a.area),this.area.fill(a.node.getStyle("order-hint-area-color")||"rgba(0, 255, 0, .5)"),this.path.setPathData(a.path),this.path.stroke(a.node.getStyle("order-hint-path-color")||"#0f0",a.node.getStyle("order-hint-path-width")||1))}}),l=e.createClass("TreeDragger",{constructor:function(a){this._minder=a,this._dropHinter=new j,this._orderHinter=new k,a.getRenderContainer().addShapes([this._dropHinter,this._orderHinter])},dragStart:function(a){this._startPosition=a},dragMove:function(a){if(this._startPosition){var b=e.Vector.fromPoints(this._dragPosition||this._startPosition,a),c=this._minder;if(this._dragPosition=a,!this._dragMode){if(e.Vector.fromPoints(this._dragPosition,this._startPosition).length()<10)return;if(!this._enterDragMode())return}for(var d=0;d<this._dragSources.length;d++)this._dragSources[d].setLayoutOffset(this._dragSources[d].getLayoutOffset().offset(b)),c.applyLayoutResult(this._dragSources[d]);this._dropTest()?this._renderOrderHint(this._orderSucceedHint=null):this._orderTest()}},dragEnd:function(){if(this._startPosition=null,this._dragPosition=null,this._dragMode){if(this._fadeDragSources(1),this._dropSucceedTarget)this._dragSources.forEach(function(a){a.setLayoutOffset(null)}),this._minder.layout(-1),this._minder.execCommand("movetoparent",this._dragSources,this._dropSucceedTarget);else if(this._orderSucceedHint){var a=this._orderSucceedHint,b=a.node.getIndex(),c=this._dragSources.map(function(a){return a.setLayoutOffset(null),a.getIndex()}),d=Math.max.apply(Math,c),e=Math.min.apply(Math,c);b<e&&"down"==a.type&&b++,b>d&&"up"==a.type&&b--,a.node.setLayoutOffset(null),this._minder.execCommand("arrange",b),this._renderOrderHint(null)}else this._minder.fire("savescene");this._minder.layout(300),this._leaveDragMode(),this._minder.fire("contentchange")}},_enterDragMode:function(){return this._calcDragSources(),this._dragSources.length?(this._fadeDragSources(.5),this._calcDropTargets(),this._calcOrderHints(),this._dragMode=!0,this._minder.setStatus("dragtree"),!0):(this._startPosition=null,!1)},_calcDragSources:function(){this._dragSources=this._minder.getSelectedAncestors()},_fadeDragSources:function(a){var b=this._minder;this._dragSources.forEach(function(c){c.getRenderContainer().setOpacity(a,200),c.traverse(function(c){a<1?b.detachNode(c):b.attachNode(c)},!0)})},_calcDropTargets:function(){function a(b,c){var d,e=[];return e.push(c),c.getChildren().forEach(function(c){for(d=0;d<b.length;d++)if(b[d]==c)return;e=e.concat(a(b,c))}),e}this._dropTargets=a(this._dragSources,this._minder.getRoot()),this._dropTargetBoxes=this._dropTargets.map(function(a){return a.getLayoutBox()})},_calcOrderHints:function(){var a=this._dragSources,b=f.getCommonAncestor(a);if(b==a[0]&&(b=a[0].parent),0===a.length||b!=a[0].parent)return void(this._orderHints=[]);var c=b.children;this._orderHints=c.reduce(function(b,c){return-1==a.indexOf(c)&&(b=b.concat(c.getOrderHint())),b},[])},_leaveDragMode:function(){this._dragMode=!1,this._dropSucceedTarget=null,this._orderSucceedHint=null,this._renderDropHint(null),this._renderOrderHint(null),this._minder.rollbackStatus()},_drawForDragMode:function(){this._text.setContent(this._dragSources.length+" items"),this._text.setPosition(this._startPosition.x,this._startPosition.y+5),this._minder.getRenderContainer().addShape(this)},_boxTest:function(a,b,c){var d,e,f,g,h,i=this._dragSources.map(function(a){return a.getLayoutBox()});for(c=c||function(a,b,c){return a&&!a.isEmpty()},d=0;d<a.length;d++)for(f=a[d],h=b.call(this,f,d),e=0;e<i.length;e++){g=i[e];var j=g.intersect(h);if(c(j,g,h))return f}return null},_dropTest:function(){return this._dropSucceedTarget=this._boxTest(this._dropTargets,function(a,b){return this._dropTargetBoxes[b]},function(a,b,c){function d(a){return a.width*a.height}return!!a&&(!!d(a)&&(d(a)>.5*Math.min(d(b),d(c))||(a.width+1>=Math.min(b.width,c.width)||a.height+1>=Math.min(b.height,c.height))))}),this._renderDropHint(this._dropSucceedTarget),!!this._dropSucceedTarget},_orderTest:function(){return this._orderSucceedHint=this._boxTest(this._orderHints,function(a){return a.area}),this._renderOrderHint(this._orderSucceedHint),!!this._orderSucceedHint},_renderDropHint:function(a){this._dropHinter.render(a)},_renderOrderHint:function(a){this._orderHinter.render(a)},preventDragMove:function(){this._startPosition=null}});h.register("DragTree",function(){var a;return{init:function(){a=new l(this),window.addEventListener("mouseup",function(){a.dragEnd()})},events:{"normal.mousedown inputready.mousedown":function(b){b.originEvent.button||b.getTargetNode()&&b.getTargetNode()!=this.getRoot()&&a.dragStart(b.getPosition())},"normal.mousemove dragtree.mousemove":function(b){a.dragMove(b.getPosition())},"normal.mouseup dragtree.beforemouseup":function(b){a.dragEnd(),b.preventDefault()},statuschange:function(b){"textedit"==b.lastStatus&&"normal"==b.currentStatus&&a.preventDragMove()}},commands:{movetoparent:i}}})}},b[46]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=b.r(15),h=b.r(21),i=b.r(9),j=b.r(20),k=b.r(27);j.register("Expand",function(){var a=this,b="expandState",c="collapse";e.extendClass(h,{expand:function(){return this.setData(b,"expand"),this},collapse:function(){return this.setData(b,c),this},isExpanded:function(){return this.getData(b)!==c&&(this.isRoot()||this.parent.isExpanded())},isCollapsed:function(){return!this.isExpanded()}});var d=e.createClass("ExpandCommand",{base:i,execute:function(a,b){var c=a.getSelectedNode();if(c){for(b&&(c=c.parent);c.parent;)c.expand(),c=c.parent;c.renderTree(),a.layout(100)}},queryState:function(a){var b=a.getSelectedNode();return!b||b.isRoot()||b.isExpanded()?-1:0}}),j=e.createClass("ExpandToLevelCommand",{base:i,execute:function(a,b){a.getRoot().traverse(function(a){a.getLevel()<b&&a.expand(),a.getLevel()!=b||a.isLeaf()||a.collapse()}),a.refresh(100)},enableReadOnly:!0}),l=e.createClass("CollapseCommand",{base:i,execute:function(a){var b=a.getSelectedNode();b&&(b.collapse(),b.renderTree(),a.layout())},queryState:function(a){var b=a.getSelectedNode();return b&&!b.isRoot()&&b.isExpanded()?0:-1}}),m=e.createClass("Expander",{base:e.Group,constructor:function(a){this.callBase(),this.radius=6,this.outline=new e.Circle(this.radius).stroke("gray").fill("white"),this.sign=(new e.Path).stroke("gray"),this.addShapes([this.outline,this.sign]),this.initEvent(a),this.setId(f.uuid("node_expander")),this.setStyle("cursor","pointer")},initEvent:function(b){this.on("mousedown",function(c){a.select([b],!0),b.isExpanded()?b.collapse():b.expand(),b.renderTree().getMinder().layout(100),b.getMinder().fire("contentchange"),c.stopPropagation(),c.preventDefault()}),this.on("dblclick click mouseup",function(a){a.stopPropagation(),a.preventDefault()})},setState:function(a){if("hide"==a)return void this.setVisible(!1);this.setVisible(!0);var b=["M",1.5-this.radius,0,"L",this.radius-1.5,0];a==c&&b.push(["M",0,1.5-this.radius,"L",0,this.radius-1.5]),this.sign.setPathData(b)}}),n=e.createClass("ExpanderRenderer",{base:k,create:function(a){if(!a.isRoot())return this.expander=new m(a),a.getRenderContainer().prependShape(this.expander),a.expanderRenderer=this,this.node=a,this.expander},shouldRender:function(a){return!a.isRoot()},update:function(a,c,d){if(c.parent){var e=c.parent.isExpanded();a.setState(e&&c.children.length?c.getData(b):"hide");var f=c.getLayoutVectorIn().normalize(a.radius+c.getStyle("stroke-width")),g=c.getVertexIn().offset(f.reverse());this.expander.setTranslate(g)}}});return{commands:{expand:d,expandtolevel:j,collapse:l},events:{layoutapply:function(a){var b=a.node.getRenderer("ExpanderRenderer");b.getRenderShape()&&b.update(b.getRenderShape(),a.node)},beforerender:function(a){var b=a.node,c=!b.parent||b.parent.isExpanded();b.getRenderContainer().setVisible(c),c||a.stopPropagation()},"normal.keydown":function(a){if("textedit"!=this.getStatus()){if(a.originEvent.keyCode==g["/"]){var b=this.getSelectedNode();if(!b||b==this.getRoot())return;var c=b.isExpanded();this.getSelectedNodes().forEach(function(a){c?a.collapse():a.expand(),a.renderTree()}),this.layout(100),this.fire("contentchange"),a.preventDefault(),a.stopPropagationImmediately()}a.isShortcutKey("Alt+`")&&this.execCommand("expandtolevel",9999);for(var d=1;d<6;d++)a.isShortcutKey("Alt+"+d)&&this.execCommand("expandtolevel",d)}}},renderers:{outside:n},contextmenu:[{command:"expandtoleaf",query:function(){return!a.getSelectedNode()},fn:function(a){a.execCommand("expandtolevel",9999)}},{command:"expandtolevel1",query:function(){return!a.getSelectedNode()},fn:function(a){a.execCommand("expandtolevel",1)}},{command:"expandtolevel2",query:function(){return!a.getSelectedNode()},fn:function(a){a.execCommand("expandtolevel",2)}},{command:"expandtolevel3",query:function(){return!a.getSelectedNode()},fn:function(a){a.execCommand("expandtolevel",3)}},{divider:!0}]}})}},b[47]={value:function(a,c,d){function e(a,b){return a.getData(b)||a.getStyle(b)}var f=b.r(17),g=(b.r(33),b.r(19),b.r(21),b.r(9)),h=b.r(20);b.r(61).registerStyleHook(function(a,b){var c=a.getData("color"),d=a.getStyle("selected-color"),f=a.getStyle("color"),g=c||(a.isSelected()&&d?d:f),h=e(a,"font-family"),i=e(a,"font-size");b.fill(g),b.eachItem(function(a,b){b.setFont({family:h,size:i})})}),h.register("fontmodule",{commands:{forecolor:f.createClass("fontcolorCommand",{base:g,execute:function(a,b){a.getSelectedNodes().forEach(function(a){a.setData("color",b),a.render()})},queryState:function(a){return 0===a.getSelectedNodes().length?-1:0},queryValue:function(a){return 1==a.getSelectedNodes().length?a.getSelectedNodes()[0].getData("color"):"mixed"}}),background:f.createClass("backgroudCommand",{base:g,execute:function(a,b){a.getSelectedNodes().forEach(function(a){a.setData("background",b),a.render()})},queryState:function(a){return 0===a.getSelectedNodes().length?-1:0},queryValue:function(a){return 1==a.getSelectedNodes().length?a.getSelectedNodes()[0].getData("background"):"mixed"}}),fontfamily:f.createClass("fontfamilyCommand",{base:g,execute:function(a,b){a.getSelectedNodes().forEach(function(c){c.setData("font-family",b),c.render(),a.layout()})},queryState:function(a){return 0===a.getSelectedNodes().length?-1:0},queryValue:function(a){var b=a.getSelectedNode();return b?b.getData("font-family"):null}}),fontsize:f.createClass("fontsizeCommand",{base:g,execute:function(a,b){a.getSelectedNodes().forEach(function(c){c.setData("font-size",b),c.render(),a.layout(300)})},queryState:function(a){return 0===a.getSelectedNodes().length?-1:0},queryValue:function(a){var b=a.getSelectedNode();return b?b.getData("font-size"):null}})}})}},b[48]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20),h=b.r(27);g.register("hyperlink",{commands:{hyperlink:e.createClass("hyperlink",{base:f,execute:function(a,b,c){a.getSelectedNodes().forEach(function(a){a.setData("hyperlink",b),a.setData("hyperlinkTitle",b&&c),a.render()}),a.layout()},queryState:function(a){var b=a.getSelectedNodes(),c=0;return 0===b.length?-1:(b.forEach(function(a){if(a&&a.getData("hyperlink"))return c=0,!1}),c)},queryValue:function(a){var b=a.getSelectedNode();return{url:b.getData("hyperlink"),title:b.getData("hyperlinkTitle")}}})},renderers:{right:e.createClass("hyperlinkrender",{base:h,create:function(){var a=new e.HyperLink,b=new e.Path,c=new e.Rect(24,22,-2,-6,4).fill("rgba(255, 255, 255, 0)");return b.setPathData("M16.614,10.224h-1.278c-1.668,0-3.07-1.07-3.599-2.556h4.877c0.707,0,1.278-0.571,1.278-1.278V3.834 c0-0.707-0.571-1.278-1.278-1.278h-4.877C12.266,1.071,13.668,0,15.336,0h1.278c2.116,0,3.834,1.716,3.834,3.834V6.39 C20.448,8.508,18.73,10.224,16.614,10.224z M5.112,5.112c0-0.707,0.573-1.278,1.278-1.278h7.668c0.707,0,1.278,0.571,1.278,1.278 S14.765,6.39,14.058,6.39H6.39C5.685,6.39,5.112,5.819,5.112,5.112z M2.556,3.834V6.39c0,0.707,0.573,1.278,1.278,1.278h4.877 c-0.528,1.486-1.932,2.556-3.599,2.556H3.834C1.716,10.224,0,8.508,0,6.39V3.834C0,1.716,1.716,0,3.834,0h1.278 c1.667,0,3.071,1.071,3.599,2.556H3.834C3.129,2.556,2.556,3.127,2.556,3.834z").fill("#666"),a.addShape(c),a.addShape(b),a.setTarget("_blank"),a.setStyle("cursor","pointer"),a.on("mouseover",function(){c.fill("rgba(255, 255, 200, .8)")}).on("mouseout",function(){c.fill("rgba(255, 255, 255, 0)")}),a},shouldRender:function(a){return a.getData("hyperlink")},update:function(a,b,c){var d=b.getData("hyperlink");a.setHref("#");for(var f=["^http:","^https:","^ftp:","^mailto:"],g=0;g<f.length;g++)if(new RegExp(f[g]).test(d)){a.setHref(d);break}var h=b.getData("hyperlinkTitle");h=h?[h,"(",d,")"].join(""):d,a.node.setAttributeNS("http://www.w3.org/1999/xlink","title",h);var i=b.getStyle("space-right");return a.setTranslate(c.right+i+2,-5),new e.Box({x:c.right+i,y:-11,width:24,height:22})}})}})}},b[49]={value:function(a,c,d){var e=b.r(17),f=b.r(15),g=b.r(20);b.r(9);g.register("ImageViewer",function(){function a(a,b,d){var e=document.createElement(a);return c(e,b),d&&d.length&&d.forEach(function(a){e.appendChild(a)}),e}function b(a,b,c){a.addEventListener(b,c)}function c(a,b){b&&b.split(" ").forEach(function(b){a.classList.add(b)})}var d=e.createClass("ImageViewer",{constructor:function(){var c=a("button","km-image-viewer-btn km-image-viewer-close"),d=a("button","km-image-viewer-btn km-image-viewer-source"),e=this.image=a("img"),f=this.toolbar=a("div","km-image-viewer-toolbar",[d,c]),g=a("div","km-image-viewer-container",[e]),h=this.viewer=a("div","km-image-viewer",[f,g]);this.hotkeyHandler=this.hotkeyHandler.bind(this),b(c,"click",this.close.bind(this)),b(d,"click",this.viewSource.bind(this)),b(e,"click",this.zoomImage.bind(this)),b(h,"contextmenu",this.toggleToolbar.bind(this)),b(document,"keydown",this.hotkeyHandler)},dispose:function(){this.close(),document.removeEventListener("remove",this.hotkeyHandler)},hotkeyHandler:function(a){this.actived&&a.keyCode===f.esc&&this.close()},toggleToolbar:function(a){a&&a.preventDefault(),this.toolbar.classList.toggle("hidden")},zoomImage:function(a){var b=this.image;"boolean"==typeof a?a&&c(b,"limited"):b.classList.toggle("limited")},viewSource:function(a){window.open(this.image.src)},open:function(a){var b=document.querySelector("input");b&&(b.focus(),b.blur()),this.image.src=a,this.zoomImage(!0),document.body.appendChild(this.viewer),this.actived=!0},close:function(){this.image.src="",document.body.removeChild(this.viewer),this.actived=!1}});return{init:function(){this.viewer=new d},events:{"normal.dblclick":function(a){var b=a.kityEvent.targetShape;"Image"===b.__KityClassName&&b.url&&this.viewer.open(b.url)}}}})}},b[50]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20),h=b.r(27);g.register("image",function(){function a(a,b){var c=document.createElement("img");c.onload=function(){b(c.width,c.height)},c.onerror=function(){b(null)},c.src=a}function b(a,b,c,d){var e=a/b,f=c/d;return a>c&&e>f?(a=c,b=a/e):b>d&&(b=d,a=b*e),{width:0|a,height:0|b}}return{defaultOptions:{maxImageWidth:200,maxImageHeight:200},commands:{image:e.createClass("ImageCommand",{base:f,execute:function(c,d,e){var f=c.getSelectedNodes();a(d,function(a,g){f.forEach(function(f){var h=b(a,g,c.getOption("maxImageWidth"),c.getOption("maxImageHeight"));f.setData("image",d),f.setData("imageTitle",d&&e),f.setData("imageSize",d&&h),f.render()}),c.fire("saveScene"),c.layout(300)})},queryState:function(a){var b=a.getSelectedNodes(),c=0;return 0===b.length?-1:(b.forEach(function(a){if(a&&a.getData("image"))return c=0,!1}),c)},queryValue:function(a){var b=a.getSelectedNode();return{url:b.getData("image"),title:b.getData("imageTitle")}}})},renderers:{top:e.createClass("ImageRenderer",{base:h,create:function(a){return new e.Image(a.getData("image"))},shouldRender:function(a){return a.getData("image")},update:function(a,b,c){var d=b.getData("image"),f=b.getData("imageTitle"),g=b.getData("imageSize"),h=b.getStyle("space-top");if(g){f&&a.node.setAttributeNS("http://www.w3.org/1999/xlink","title",f);var i=c.cx-g.width/2,j=c.y-g.height-h;return a.setUrl(d).setX(0|i).setY(0|j).setWidth(0|g.width).setHeight(0|g.height),new e.Box(0|i,0|j,0|g.width,0|g.height)}}})}}})}},b[51]={value:function(a,c,d){var e=(b.r(17),b.r(33),b.r(15),b.r(19),b.r(21),b.r(9),b.r(20));b.r(27);e.register("KeyboardModule",function(){function a(a){var b,d=[];a.traverse(function(a){b=a.getLayoutBox(),b.width&&b.height&&d.push({left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height,width:b.width,height:b.height,node:a})});for(var e=0;e<d.length;e++)c(d,e)}function b(a,b){var c,d,h,i,j,k,l;c=e(a.left,b.left),d=f(a.right,b.right),h=e(a.top,b.top),i=f(a.bottom,b.bottom),j=d-c-a.width-b.width,k=i-h-a.height-b.height,l=j<0?k:k<0?j:g(j*j+k*k);var m=a.node,n=b.node;return m.parent==n.parent&&(l/=10),n.parent==m&&(l/=5),l}function c(a,c){for(var d,e,f=a[c],g={},h=0;h<a.length;h++)h!=c&&(d=a[h],e=b(d,f),d.right<f.left&&(!g.left||e<g.left.dist)&&(g.left={dist:e,node:d.node}),d.left>f.right&&(!g.right||e<g.right.dist)&&(g.right={dist:e,node:d.node}),d.bottom<f.top&&(!g.top||e<g.top.dist)&&(g.top={dist:e,node:d.node}),d.top>f.bottom&&(!g.down||e<g.down.dist)&&(g.down={dist:e,node:d.node}));f.node._nearestNodes={right:g.right&&g.right.node||null,top:g.top&&g.top.node||null,left:g.left&&g.left.node||null,down:g.down&&g.down.node||null}}function d(b,c){var d=b.getSelectedNode();if(!d)return b.select(b.getRoot()),void a(b.getRoot());d._nearestNodes||a(b.getRoot());var e=d._nearestNodes[c];e&&b.select(e,!0)}var e=Math.min,f=Math.max,g=(Math.abs,Math.sqrt);Math.exp;return{events:{layoutallfinish:function(){a(this.getRoot())},"normal.keydown readonly.keydown":function(a){var b=this;["left","right","up","down"].forEach(function(c){a.isShortcutKey(c)&&(d(b,"up"==c?"top":c),a.preventDefault())})}}}})}},b[52]={value:function(a,c,d){var e=b.r(17),f=b.r(9),g=b.r(20),h=e.createClass("LayoutCommand",{base:f,execute:function(a,b){a.getSelectedNodes().forEach(function(a){a.layout(b)})},queryValue:function(a){var b=a.getSelectedNode();if(b)return b.getData("layout")},queryState:function(a){return a.getSelectedNode()?0:-1}}),i=e.createClass("ResetLayoutCommand",{base:f,execute:function(a){var b=a.getSelectedNodes();b.length||(b=[a.getRoot()]),b.forEach(function(a){a.traverse(function(a){a.resetLayoutOffset(),a.isRoot()||a.setData("layout",null)})}),a.layout(300)},enableReadOnly:!0});g.register("LayoutModule",{commands:{layout:h,resetlayout:i},contextmenu:[{command:"resetlayout"},{divider:!0}],commandShortcutKeys:{resetlayout:"Ctrl+Shift+L"}})}},b[53]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21)),g=b.r(9),h=b.r(20),i=(b.r(27),e.createClass("AppendChildCommand",{base:g,execute:function(a,b){var c=a.getSelectedNode();if(!c)return null;var d=a.createNode(b,c);a.select(d,!0),c.isExpanded()?d.render():(c.expand(),c.renderTree()),a.layout(600)},queryState:function(a){return a.getSelectedNode()?0:-1}})),j=e.createClass("AppendSiblingCommand",{base:g,execute:function(a,b){var c=a.getSelectedNode(),d=c.parent;if(!d)return a.execCommand("AppendChildNode",b);var e=a.createNode(b,d,c.getIndex()+1);e.setGlobalLayoutTransform(c.getGlobalLayoutTransform()),a.select(e,!0),e.render(),a.layout(600)},queryState:function(a){return a.getSelectedNode()?0:-1}}),k=e.createClass("RemoverNodeCommand",{base:g,execute:function(a){var b=a.getSelectedNodes(),c=f.getCommonAncestor.apply(null,b),d=b[0].getIndex();if(b.forEach(function(b){b.isRoot()||a.removeNode(b)}),1==b.length){var e=c.children[d-1]||c.children[d];a.select(e||c||a.getRoot(),!0)}else a.select(c||a.getRoot(),!0);a.layout(600)},queryState:function(a){var b=a.getSelectedNode();return b&&!b.isRoot()?0:-1}}),l=e.createClass("AppendParentCommand",{base:g,execute:function(a,b){var c=a.getSelectedNodes();c.sort(function(a,b){return a.getIndex()-b.getIndex()});var d=c[0].parent,e=a.createNode(b,d,c[0].getIndex());c.forEach(function(a){e.appendChild(a)}),e.setGlobalLayoutTransform(c[c.length>>1].getGlobalLayoutTransform()),a.select(e,!0),a.layout(600)},queryState:function(a){var b=a.getSelectedNodes();if(!b.length)return-1;var c=b[0].parent;if(!c)return-1;for(var d=1;d<b.length;d++)if(b[d].parent!=c)return-1;return 0}});h.register("NodeModule",function(){return{commands:{AppendChildNode:i,AppendSiblingNode:j,RemoveNode:k,AppendParentNode:l},commandShortcutKeys:{appendsiblingnode:"normal::Enter",appendchildnode:"normal::Insert|Tab",appendparentnode:"normal::Shift+Tab|normal::Shift+Insert",removenode:"normal::Del|Backspace"}}})}},b[54]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20),h=b.r(27);g.register("NoteModule",function(){var a="M9,9H3V8h6L9,9L9,9z M9,7H3V6h6V7z M9,5H3V4h6V5z M8.5,11H2V2h8v7.5 M9,12l2-2V1H1v11",b=e.createClass("NoteCommand",{base:f,execute:function(a,b){var c=a.getSelectedNode();c.setData("note",b),c.render(),c.getMinder().layout(300)},queryState:function(a){return 1===a.getSelectedNodes().length?0:-1},queryValue:function(a){var b=a.getSelectedNode();return b&&b.getData("note")}}),c=e.createClass("NoteIcon",{base:e.Group,constructor:function(){this.callBase(),this.width=16,this.height=17,this.rect=new e.Rect(16,17,.5,-8.5,2).fill("transparent"),this.path=(new e.Path).setPathData(a).setTranslate(2.5,-6.5),this.addShapes([this.rect,this.path]),this.on("mouseover",function(){this.rect.fill("rgba(255, 255, 200, .8)")}).on("mouseout",function(){this.rect.fill("transparent")}),this.setStyle("cursor","pointer")}});return{renderers:{right:e.createClass("NoteIconRenderer",{base:h,create:function(a){var b=new c;return b.on("mousedown",function(b){b.preventDefault(),a.getMinder().fire("editnoterequest")}),b.on("mouseover",function(){a.getMinder().fire("shownoterequest",{node:a,icon:b})}),b.on("mouseout",function(){a.getMinder().fire("hidenoterequest",{node:a,icon:b})}),b},shouldRender:function(a){return a.getData("note")},update:function(a,b,c){var d=c.right+b.getStyle("space-left"),f=c.cy;return a.path.fill(b.getStyle("color")),a.setTranslate(d,f),new e.Box(d,Math.round(f-a.height/2),a.width,a.height)}})},commands:{note:b}}})}},b[55]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=(b.r(19),b.r(21),b.r(9),b.r(20)),h=b.r(27),i=e.createClass("OutlineRenderer",{base:h,create:function(a){var b=(new e.Rect).setId(f.uuid("node_outline"));return this.bringToBack=!0,b},update:function(a,b,c){var d=b.getStyle("shape"),f=b.getStyle("padding-left"),g=b.getStyle("padding-right"),h=b.getStyle("padding-top"),i=b.getStyle("padding-bottom"),j={x:c.x-f,y:c.y-h,width:c.width+f+g,height:c.height+h+i},k=b.getStyle("radius");if(d&&"circle"==d){var l=Math.pow;k=(0,Math.round)(Math.sqrt(l(j.width,2)+l(j.height,2))/2),j.x=c.cx-k,j.y=c.cy-k,j.width=2*k,j.height=2*k}var m=b.isSelected()?b.getMinder().isFocused()?"selected-":"blur-selected-":"";return a.setPosition(j.x,j.y).setSize(j.width,j.height).setRadius(k).fill(b.getData("background")||b.getStyle(m+"background")||b.getStyle("background")).stroke(b.getStyle(m+"stroke"||b.getStyle("stroke")),b.getStyle(m+"stroke-width")),new e.Box(j)}}),j=e.createClass("ShadowRenderer",{base:h,create:function(a){return this.bringToBack=!0,new e.Rect},shouldRender:function(a){return a.getStyle("shadow")},update:function(a,b,c){a.setPosition(c.x+4,c.y+5).fill(b.getStyle("shadow"));var d=b.getStyle("shape");if(d){if("circle"==d){var e=Math.max(c.width,c.height);a.setSize(e,e),a.setRadius(e/2)}}else a.setSize(c.width,c.height),a.setRadius(b.getStyle("radius"))}}),k=new e.Marker;k.setWidth(10),k.setHeight(12),k.setRef(0,0),k.setViewBox(-6,-4,8,10),k.addShape((new e.Path).setPathData("M-5-3l5,3,-5,3").stroke("#33ffff"));var l=/wire/.test(window.location.href),m=e.createClass("WireframeRenderer",{base:h,create:function(){var a=new e.Group,b=this.oxy=(new e.Path).stroke("#f6f").setPathData("M0,-50L0,50M-50,0L50,0"),c=this.wireframe=(new e.Rect).stroke("lightgreen"),d=this.vectorIn=(new e.Path).stroke("#66ffff"),f=this.vectorOut=(new e.Path).stroke("#66ffff");return d.setMarker(k,"end"),f.setMarker(k,"end"),a.addShapes([b,c,d,f])},shouldRender:function(){return l},update:function(a,b,c){this.wireframe.setPosition(c.x,c.y).setSize(c.width,c.height);var d=b.getVertexIn(),e=b.getVertexOut(),f=b.getLayoutVectorIn().normalize(30),g=b.getLayoutVectorOut().normalize(30);this.vectorIn.setPathData(["M",d.offset(f.reverse()),"L",d]),this.vectorOut.setPathData(["M",e,"l",g])}});g.register("OutlineModule",function(){return{events:l?{ready:function(){this.getPaper().addResource(k)},layoutallfinish:function(){this.getRoot().traverse(function(a){a.getRenderer("WireframeRenderer").update(null,a,a.getContentBox())})}}:null,renderers:{outline:i,outside:[j,m]}}})}},b[56]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=(b.r(19),b.r(21),b.r(9)),h=b.r(20),i=b.r(27);h.register("PriorityModule",function(){var a=[null,["#FF1200","#840023"],["#0074FF","#01467F"],["#00AF00","#006300"],["#FF962E","#B25000"],["#A464FF","#4720C4"],["#A3A3A3","#515151"],["#A3A3A3","#515151"],["#A3A3A3","#515151"],["#A3A3A3","#515151"]],b="M0,13c0,3.866,3.134,7,7,7h6c3.866,0,7-3.134,7-7V7H0V13z",c="M20,10c0,3.866-3.134,7-7,7H7c-3.866,0-7-3.134-7-7V7c0-3.866,3.134-7,7-7h6c3.866,0,7,3.134,7,7V10z",d="priority",h=e.createClass("PriorityIcon",{base:e.Group,constructor:function(){this.callBase(),this.setSize(20),this.create(),this.setId(f.uuid("node_priority"))},setSize:function(a){this.width=this.height=a},create:function(){var a,d,f;(new e.Path).setPathData(c).fill("white"),a=(new e.Path).setPathData(b).setTranslate(.5,.5),d=(new e.Path).setPathData(c).setOpacity(.8).setTranslate(.5,.5),f=(new e.Text).setX(this.width/2-.5).setY(this.height/2).setTextAnchor("middle").setVerticalAlign("middle").setFontItalic(!0).setFontSize(12).fill("white"),this.addShapes([a,d,f]),this.mask=d,this.back=a,this.number=f},setValue:function(b){var c=this.back,d=this.mask,e=this.number,f=a[b];f&&(c.fill(f[1]),d.fill(f[0])),e.setContent(b)}});return{commands:{priority:e.createClass("SetPriorityCommand",{base:g,execute:function(a,b){for(var c=a.getSelectedNodes(),e=0;e<c.length;e++)c[e].setData(d,b||null).render();a.layout()},queryValue:function(a){for(var b,c=a.getSelectedNodes(),e=0;e<c.length&&!(b=c[e].getData(d));e++);return b||null},queryState:function(a){return a.getSelectedNodes().length?0:-1}})},renderers:{left:e.createClass("PriorityRenderer",{base:i,create:function(a){return new h},shouldRender:function(a){return a.getData(d)},update:function(a,b,c){var f,g,h=b.getData(d),i=b.getStyle("space-left");return a.setValue(h),f=c.left-a.width-i,g=-a.height/2,a.setTranslate(f,g),new e.Box({x:f,y:g,width:a.width,height:a.height})}})}}})}},b[57]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=(b.r(19),b.r(21),b.r(9)),h=b.r(20),i=b.r(27);h.register("ProgressModule",function(){var a=this,b="progress",c="#FFED83",d="#43BC00",h="M10,3c4.418,0,8,3.582,8,8h1c0-5.523-3.477-10-9-10S1,5.477,1,11h1C2,6.582,5.582,3,10,3z",j="#8E8E8E",k="M10,0C4.477,0,0,4.477,0,10c0,5.523,4.477,10,10,10s10-4.477,10-10C20,4.477,15.523,0,10,0zM10,18c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S14.418,18,10,18z",l=(new e.LinearGradient).pipe(function(a){a.setStartPosition(0,0),a.setEndPosition(0,1),a.addStop(0,"#fff"),a.addStop(1,"#ccc")}),m="M15.812,7.896l-6.75,6.75l-4.5-4.5L6.25,8.459l2.812,2.803l5.062-5.053L15.812,7.896z",n="#EEE";a.getPaper().addResource(l);var o=e.createClass("ProgressIcon",{base:e.Group,constructor:function(a){this.callBase(),this.setSize(20),this.create(),this.setValue(a),this.setId(f.uuid("node_progress")),this.translate(.5,.5)},setSize:function(a){this.width=this.height=a},create:function(){var a,b,f,g,i;a=new e.Circle(9).fill(c),b=new e.Pie(9,0).fill(d),f=(new e.Path).setPathData(h).setTranslate(-10,-10).fill(j),g=(new e.Path).setTranslate(-10,-10).setPathData(k).fill(l),i=(new e.Path).setTranslate(-10,-10).setPathData(m).fill(n),this.addShapes([a,b,f,i,g]),this.pie=b,this.check=i},setValue:function(a){this.pie.setAngle(-360*(a-1)/8),this.check.setVisible(9==a)}});return{commands:{progress:e.createClass("ProgressCommand",{base:g,execute:function(a,c){for(var d=a.getSelectedNodes(),e=0;e<d.length;e++)d[e].setData(b,c||null).render();a.layout()},queryValue:function(a){for(var c,d=a.getSelectedNodes(),e=0;e<d.length&&!(c=d[e].getData(b));e++);return c||null},queryState:function(a){return a.getSelectedNodes().length?0:-1}})},renderers:{left:e.createClass("ProgressRenderer",{base:i,create:function(a){return new o},shouldRender:function(a){return a.getData(b)},update:function(a,c,d){var f,g,h=c.getData(b),i=c.getStyle("space-left");return a.setValue(h),f=d.left-a.width-i,g=-a.height/2,a.setTranslate(f+a.width/2,g+a.height/2),new e.Box(f,g,a.width,a.height)}})}}})}},b[58]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19)),g=(b.r(21),b.r(9)),h=b.r(20),i=b.r(27);h.register("Resource",function(){var a=function(){var a,b,c,d,e,f,g,h,i,j,k;return k=4*(1<<30),a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479],j=function(a){return a<0&&(a+=k),("00000000"+a.toString(16)).slice(-8)},f=[[16,50,84,118,152,186,220,254],[174,132,249,109,193,32,123,53],[139,12,37,223,234,99,23,73],[151,19,205,235,98,165,4,143],[9,117,66,250,30,203,134,211],[194,166,176,56,212,87,239,145],[92,241,222,164,112,54,41,184],[189,231,28,147,5,79,104,162],[246,158,59,128,44,125,65,90],[42,72,103,81,191,233,195,13]],g=function(a,b,c){var d=h[a]^h[b];h[a]=d>>>c|d<<32-c},b=function(a,b,j,k,l){var m=d+f[c][a]%16,n=d+(f[c][a]>>4);b%=4,j=4+j%4,k=8+k%4,l=12+l%4,h[b]+=h[j]+(i[m]^e[n%16]),g(l,b,16),h[k]+=h[l],g(j,k,12),h[b]+=h[j]+(i[n]^e[m%16]),g(l,b,8),h[k]+=h[l],g(j,k,7)},function(f,g){g instanceof Array&&4===g.length||(g=[0,0,0,0]);var k,l,m,n,o,p,q,r;for(l=a.slice(0),k=e.slice(0,8),c=0;c<4;c+=1)k[c]^=g[c];if(m=16*f.length,o=m%512>446||m%512==0?0:m,m%512==432)f+="老";else{for(f+="耀";f.length%32!=27;)f+="\0";f+=""}for(i=[],r=0;r<f.length;r+=2)i.push(65536*f.charCodeAt(r)+f.charCodeAt(r+1));for(i.push(0),i.push(m),p=i.length-16,q=0,d=0;d<i.length;d+=16){for(q+=512,n=d===p?o:Math.min(m,q),h=l.concat(k),h[12]^=n,h[13]^=n,c=0;c<10;c+=1)for(r=0;r<8;r+=1)r<4?b(r,r,r,r,r):b(r,r,r+1,r+2,r+3);for(r=0;r<8;r+=1)l[r]^=g[r%4]^h[r]^h[r+8]}return l.map(j).join("")}}(),b=[51,303,75,200,157,0,26,254].map(function(a){return e.Color.createHSL(a,100,85)});e.extendClass(f,{getHashCode:function(b){b=a(b);var c,d,e=1315423911;for(c=b.length-1;c>=0;c--)d=b.charCodeAt(c),e^=(e<<5)+d+(e>>2);return 2147483647&e},getResourceColor:function(a){var c,d=this._getResourceColorIndexMapping();return Object.prototype.hasOwnProperty.call(d,a)||(c=this._getNextResourceColorIndex(),d[a]=c),b[d[a]]||e.Color.createHSL(Math.floor(this.getHashCode(a)/2147483647*359),100,85)},getUsedResource:function(){var a,b=this._getResourceColorIndexMapping(),c=[];for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&c.push(a);return c},_getNextResourceColorIndex:function(){var a,c,d,e=this._getResourceColorIndexMapping();c=[];for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&c.push(e[a]);for(d=0;d<b.length;d++)if(!~c.indexOf(d))return d;return-1},_getResourceColorIndexMapping:function(){return this._resourceColorMapping||(this._resourceColorMapping={})}});var c=e.createClass("ResourceCommand",{base:g,execute:function(a,b){var c=a.getSelectedNodes();"string"==typeof b&&(b=[b]),c.forEach(function(a){a.setData("resource",b).render()}),a.layout(200)},queryValue:function(a){var b=a.getSelectedNodes(),c=[];return b.forEach(function(a){var b=a.getData("resource");b&&b.forEach(function(a){~c.indexOf(a)||c.push(a)})}),c},queryState:function(a){return a.getSelectedNode()?0:-1}}),d=e.createClass("ResourceOverlay",{base:e.Group,constructor:function(){this.callBase();var a,b;b=this.rect=(new e.Rect).setRadius(4),a=this.text=(new e.Text).setFontSize(12).setVerticalAlign("middle"),this.addShapes([b,a])},setValue:function(a,b){var c,d,e,f=8,g=4;c=this.text,a==this.lastResourceName?d=this.lastBox:(c.setContent(a),d=c.getBoundaryBox(),this.lastResourceName=a,this.lastBox=d),c.setX(f).fill(b.dec("l",70)),e=this.rect,e.setPosition(0,d.y-g),this.width=Math.round(d.width+2*f),this.height=Math.round(d.height+2*g),e.setSize(this.width,this.height),e.fill(b)}});return{commands:{resource:c},renderers:{right:e.createClass("ResourceRenderer",{base:i,create:function(a){return this.overlays=[],new e.Group},shouldRender:function(a){return a.getData("resource")&&a.getData("resource").length},update:function(a,b,c){var f=b.getStyle("space-right"),g=this.overlays,h=b.getData("resource").filter(function(a){return null!==a});if(0!==h.length){var i,j,k,l=b.getMinder();for(k=0,i=0;i<h.length;i++)k+=f,j=g[i],j||(j=new d,g.push(j),a.addShape(j)),j.setVisible(!0),j.setValue(h[i],l.getResourceColor(h[i])),j.setTranslate(k,-1),k+=j.width;for(;j=g[i++];)j.setVisible(!1);return a.setTranslate(c.right,0),new e.Box({x:c.right,y:Math.round(-g[0].height/2),width:k,height:g[0].height})}}})}}})}},b[59]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9),b.r(20));b.r(27);f.register("Select",function(){var a=this,b=a.getRenderContainer(),c=function(){var c=null,d=new e.Path,f=!1;return{selectStart:function(a){if(!a.originEvent.button&&!a.originEvent.altKey)return c?this.selectEnd():void(c=a.getPosition(b).round())},selectMove:function(g){if("textedit"!=a.getStatus()&&c){var h=c,i=g.getPosition(b);if(!f){if(e.Vector.fromPoints(h,i).length()<10)return;f=!0,b.addShape(d),d.fill(a.getStyle("marquee-background")).stroke(a.getStyle("marquee-stroke")).setOpacity(.8).getDrawer().clear()}var j=new e.Box(h.x,h.y,i.x-h.x,i.y-h.y),k=[];j.left=Math.round(j.left),j.top=Math.round(j.top),j.right=Math.round(j.right),j.bottom=Math.round(j.bottom),d.getDrawer().pipe(function(){this.clear(),this.moveTo(j.left,j.top),this.lineTo(j.right,j.top),this.lineTo(j.right,j.bottom),this.lineTo(j.left,j.bottom),this.close()}),a.getRoot().traverse(function(a){a.getLayoutBox().intersect(j).isEmpty()||k.push(a)}),a.select(k,!0),window.getSelection().removeAllRanges()}},selectEnd:function(a){c&&(c=null),f&&(d.fadeOut(200,"ease",0,function(){d.remove&&d.remove()}),f=!1)}}}(),d=null,f=null;return{init:function(){window.addEventListener("mouseup",function(){c.selectEnd()})},events:{mousedown:function(a){var b=a.getTargetNode();b?a.isShortcutKey("Ctrl")?this.toggleSelect(b):b.isSelected()?this.isSingleSelect()||(d=b,f=a.getPosition()):this.select(b,!0):(this.removeAllSelectedNodes(),c.selectStart(a),this.setStatus("normal"))},mousemove:c.selectMove,mouseup:function(a){var b=a.getTargetNode();if(b&&b==d){var g=a.getPosition();e.Vector.fromPoints(f,g).length()<1&&this.select(d,!0),d=null}c.selectEnd(a)},"normal.keydown":function(a){if(a.isShortcutKey("ctrl+a")){var b=[];this.getRoot().traverse(function(a){b.push(a)}),this.select(b,!0),a.preventDefault()}}}}})}},b[60]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20);b.r(27);g.register("StyleModule",function(){function a(a){for(var c=a.getData(),d=0;d<b.length;d++)if(b[d]in c)return!0}var b=["font-size","font-family","font-weight","font-style","background","color"],c=null;return{commands:{copystyle:e.createClass("CopyStyleCommand",{base:f,execute:function(a){var d=a.getSelectedNode(),e=d.getData();return c={},b.forEach(function(a){a in e?c[a]=e[a]:(c[a]=null,delete c[a])}),c},queryState:function(b){var c=b.getSelectedNodes();return 1!==c.length?-1:a(c[0])?0:-1}}),pastestyle:e.createClass("PastStyleCommand",{base:f,execute:function(a){return a.getSelectedNodes().forEach(function(a){for(var b in c)c.hasOwnProperty(b)&&a.setData(b,c[b])}),a.renderNodeBatch(a.getSelectedNodes()),a.layout(300),c},queryState:function(a){return c&&a.getSelectedNodes().length?0:-1}}),clearstyle:e.createClass("ClearStyleCommand",{base:f,execute:function(a){return a.getSelectedNodes().forEach(function(a){b.forEach(function(b){a.setData(b)})}),a.renderNodeBatch(a.getSelectedNodes()),a.layout(300),c},queryState:function(b){var c=b.getSelectedNodes();if(!c.length)return-1;for(var d=0;d<c.length;d++)if(a(c[d]))return 0;return-1}})}}})}},b[61]={value:function(a,c,d){var e=b.r(17),f=b.r(33),g=(b.r(19),b.r(21)),h=b.r(9),i=b.r(20),j=b.r(27),k={safari:{"微软雅黑,Microsoft YaHei":-.17,"楷体,楷体_GB2312,SimKai":-.1,"隶书, SimLi":-.1,"comic sans ms":-.23,"impact,chicago":-.15,"times new roman":-.1,"arial black,avant garde":-.17,default:0},ie:{10:{"微软雅黑,Microsoft YaHei":-.17,"comic sans ms":-.17,"impact,chicago":-.08,"times new roman":.04,"arial black,avant garde":-.17,default:-.15},11:{"微软雅黑,Microsoft YaHei":-.17,"arial,helvetica,sans-serif":-.17,"comic sans ms":-.17,"impact,chicago":-.08,"times new roman":.04,"sans-serif":-.16,"arial black,avant garde":-.17,default:-.15}},edge:{"微软雅黑,Microsoft YaHei":-.15,"arial,helvetica,sans-serif":-.17,"comic sans ms":-.17,"impact,chicago":-.08,"sans-serif":-.16,"arial black,avant garde":-.17,default:-.15},sg:{"微软雅黑,Microsoft YaHei":-.15,"arial,helvetica,sans-serif":-.05,"comic sans ms":-.22,"impact,chicago":-.16,"times new roman":-.03,"arial black,avant garde":-.22,default:-.15},chrome:{Mac:{"andale mono":-.05,"comic sans ms":-.3,"impact,chicago":-.13,"times new roman":-.1,"arial black,avant garde":-.17,default:0},Win:{"微软雅黑,Microsoft YaHei":-.15,"arial,helvetica,sans-serif":-.02,"arial black,avant garde":-.2,"comic sans ms":-.2,"impact,chicago":-.12,"times new roman":-.02,default:-.15},Lux:{"andale mono":-.05,"comic sans ms":-.3,"impact,chicago":-.13,"times new roman":-.1,"arial black,avant garde":-.17,default:0}},firefox:{Mac:{"微软雅黑,Microsoft YaHei":-.2,"宋体,SimSun":.05,"comic sans ms":-.2,"impact,chicago":-.15,"arial black,avant garde":-.17,"times new roman":-.1,default:.05},Win:{"微软雅黑,Microsoft YaHei":-.16,"andale mono":-.17,"arial,helvetica,sans-serif":-.17,"comic sans ms":-.22,"impact,chicago":-.23,"times new roman":-.22,"sans-serif":-.22,"arial black,avant garde":-.17,default:-.16},Lux:{"宋体,SimSun":-.2,"微软雅黑,Microsoft YaHei":-.2,"黑体, SimHei":-.2,"隶书, SimLi":-.2,"楷体,楷体_GB2312,SimKai":-.2,"andale mono":-.2,"arial,helvetica,sans-serif":-.2,"comic sans ms":-.2,"impact,chicago":-.2,"times new roman":-.2,"sans-serif":-.2,"arial black,avant garde":-.2,default:-.16}}},l=e.createClass("TextRenderer",{base:j,create:function(){return(new e.Group).setId(f.uuid("node_text"))},update:function(a,b){function c(a){return b.getData(a)||b.getStyle(a)}var d,f=b.getText(),g=f?f.split("\n"):[" "],h=b.getStyle("line-height"),i=c("font-size"),j=c("font-family")||"default",l=h*i*g.length-(h-1)*i,m=-l/2,n=e.Browser;n.chrome||n.opera||n.bd||"chrome"===n.lb?d=k.chrome[n.platform][j]:n.gecko?d=k.firefox[n.platform][j]:n.sg?d=k.sg[j]:n.safari?d=k.safari[j]:n.ie?d=k.ie[n.version][j]:n.edge?d=k.edge[j]:n.lb&&(d=.9),a.setTranslate(0,(d||0)*i);var o=new e.Box,p=Math.round;this.setTextStyle(b,a);var q,r,s,t,u=g.length,v=a.getItems().length;if(u<v)for(q=u,r;r=a.getItem(q);)a.removeItem(q);else if(u>v)for(var w=u-v;w--;)s=(new e.Text).setAttr("text-rendering","inherit"),e.Browser.ie||e.Browser.edge?s.setVerticalAlign("top"):s.setAttr("dominant-baseline","text-before-edge"),a.addItem(s);for(q=0,s;t=g[q],s=a.getItem(q);q++)s.setContent(t),(e.Browser.ie||e.Browser.edge)&&s.fixPosition();this.setTextStyle(b,a);var x=b.getText()+["font-size","font-name","font-weight","font-style"].map(c).join("/");return b._currentTextHash==x&&b._currentTextGroupBox?b._currentTextGroupBox:(b._currentTextHash=x,function(){a.eachItem(function(a,b){var c=m+a*i*h;b.setY(c);var d=b.getBoundaryBox();o=o.merge(new e.Box(0,c,d.height&&d.width||1,i))});var c=new e.Box(p(o.x),p(o.y),p(o.width),p(o.height));return b._currentTextGroupBox=c,c})},setTextStyle:function(a,b){l._styleHooks.forEach(function(c){c(a,b)})}}),m=e.createClass({base:h,execute:function(a,b){var c=a.getSelectedNode();c&&(c.setText(b),c.render(),a.layout())},queryState:function(a){return 1==a.getSelectedNodes().length?0:-1},queryValue:function(a){var b=a.getSelectedNode();return b?b.getText():null}});f.extend(l,{_styleHooks:[],registerStyleHook:function(a){l._styleHooks.push(a)}}),e.extendClass(g,{getTextGroup:function(){return this.getRenderer("TextRenderer").getRenderShape()}}),i.register("text",{commands:{text:m},renderers:{center:l}}),d.exports=l}},b[62]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19),b.r(21),b.r(9)),g=b.r(20),h=(b.r(27),e.createClass("ViewDragger",{constructor:function(a){this._minder=a,this._enabled=!1,this._bind();var b=this;this._minder.getViewDragger=function(){return b},this.setEnabled(!1)},isEnabled:function(){return this._enabled},setEnabled:function(a){var b=this._minder.getPaper();b.setStyle("cursor",a?"pointer":"default"),b.setStyle("cursor",a?"-webkit-grab":"default"),this._enabled=a},timeline:function(){return this._moveTimeline},move:function(a,b){var c=(this._minder,this.getMovement().offset(a));this.moveTo(c,b)},moveTo:function(a,b){if(b){var c=this;return this._moveTimeline&&this._moveTimeline.stop(),this._moveTimeline=this._minder.getRenderContainer().animate(new e.Animator(this.getMovement(),a,function(a,b){c.moveTo(b)}),b,"easeOutCubic").timeline(),this._moveTimeline.on("finish",function(){c._moveTimeline=null}),this}this._minder.getRenderContainer().setTranslate(a.round()),this._minder.fire("viewchange")},getMovement:function(){var a=this._minder.getRenderContainer().transform.translate;return a?a[0]:new e.Point},getView:function(){var a=this._minder,b=a._lastClientSize||{width:a.getRenderTarget().clientWidth,height:a.getRenderTarget().clientHeight},c=this.getMovement(),d=new e.Box(0,0,b.width,b.height);return a.getPaper().getViewPortMatrix().inverse().translate(-c.x,-c.y).transformBox(d)},_bind:function(){function a(a){if(d){d=null,a.stopPropagation(),c&&(b.setEnabled(!1),c=!1,"hand"==b._minder.getStatus()&&b._minder.rollbackStatus());b._minder.getPaper().setStyle("cursor","hand"==b._minder.getStatus()?"-webkit-grab":"default"),b._minder.fire("viewchanged")}}var b=this,c=!1,d=null,f=null;this._minder.on("normal.mousedown normal.touchstart inputready.mousedown inputready.touchstart readonly.mousedown readonly.touchstart",function(a){2==a.originEvent.button&&a.originEvent.preventDefault(),(a.getTargetNode()==this.getRoot()||2==a.originEvent.button||a.originEvent.altKey)&&(d=a.getPosition("view"),c=!0)}).on("normal.mousemove normal.touchmove readonly.mousemove readonly.touchmove inputready.mousemove inputready.touchmove",function(a){if("touchmove"==a.type&&a.preventDefault(),c){if(e.Vector.fromPoints(d,a.getPosition("view")).length()>10){this.setStatus("hand",!0);b._minder.getPaper().setStyle("cursor","-webkit-grabbing")}}}).on("hand.beforemousedown hand.beforetouchstart",function(a){if(b.isEnabled()){d=a.getPosition("view"),a.stopPropagation();b._minder.getPaper().setStyle("cursor","-webkit-grabbing")}}).on("hand.beforemousemove hand.beforetouchmove",function(a){if(d){f=a.getPosition("view");var c=e.Vector.fromPoints(d,f);b.move(c),a.stopPropagation(),a.preventDefault(),a.originEvent.preventDefault(),d=f}}).on("mouseup touchend",a),window.addEventListener("mouseup",a),this._minder.on("contextmenu",function(a){a.preventDefault()})}}));g.register("View",function(){var a=e.createClass("ToggleHandCommand",{base:f,execute:function(a){"hand"!=a.getStatus()?a.setStatus("hand",!0):a.rollbackStatus(),this.setContentChanged(!1)},queryState:function(a){return"hand"==a.getStatus()?1:0},enableReadOnly:!0}),b=e.createClass("CameraCommand",{base:f,execute:function(a,b){b=b||a.getRoot();var c=a.getPaper().getViewPort(),d=b.getRenderContainer().getRenderBox("view"),f=c.center.x-d.x-d.width/2,g=c.center.y-d.y,h=a._viewDragger,i=a.getOption("viewAnimationDuration");h.move(new e.Point(f,g),i),this.setContentChanged(!1)},enableReadOnly:!0}),c=e.createClass("MoveCommand",{base:f,execute:function(a,b){var c=a._viewDragger,d=a._lastClientSize,f=a.getOption("viewAnimationDuration");switch(b){case"up":c.move(new e.Point(0,d.height/2),f);break;case"down":c.move(new e.Point(0,-d.height/2),f);break;case"left":c.move(new e.Point(d.width/2,0),f);break;case"right":c.move(new e.Point(-d.width/2,0),f)}},enableReadOnly:!0});return{init:function(){this._viewDragger=new h(this)},commands:{hand:a,camera:b,move:c},events:{statuschange:function(a){this._viewDragger.setEnabled("hand"==a.currentStatus)},mousewheel:function(a){var b,c;if(a=a.originEvent,!a.ctrlKey&&!a.shiftKey){"wheelDeltaX"in a?(b=a.wheelDeltaX||0,c=a.wheelDeltaY||0):(b=0,c=a.wheelDelta),this._viewDragger.move({x:b/2.5,y:c/2.5});var d=this;clearTimeout(this._mousewheeltimer),this._mousewheeltimer=setTimeout(function(){d.fire("viewchanged")},100),a.preventDefault()}},"normal.dblclick readonly.dblclick":function(a){a.kityEvent.targetShape instanceof e.Paper&&this.execCommand("camera",this.getRoot(),800)},"paperrender finishInitHook":function(){this.getRenderTarget()&&(this.execCommand("camera",null,0),this._lastClientSize={width:this.getRenderTarget().clientWidth,height:this.getRenderTarget().clientHeight})},resize:function(a){var b={width:this.getRenderTarget().clientWidth,height:this.getRenderTarget().clientHeight},c=this._lastClientSize;this._viewDragger.move(new e.Point((b.width-c.width)/2|0,(b.height-c.height)/2|0)),this._lastClientSize=b},"selectionchange layoutallfinish":function(a){var b=this.getSelectedNode(),c=this;if(e.Browser.edge&&this.fire("paperrender"),b){var d=this._viewDragger,f=d.timeline();if(f)return void f.on("finish",function(){c.fire("selectionchange")});var g=d.getView(),h=b.getLayoutBox(),i=50,j=0,k=0;h.right>g.right?j+=g.right-h.right-i:h.left<g.left&&(j+=g.left-h.left+i),h.bottom>g.bottom&&(k+=g.bottom-h.bottom-i),h.top<g.top&&(k+=g.top-h.top+i),(j||k)&&d.move(new e.Point(j,k),100)}}}}})}},b[63]={value:function(a,c,d){var e=b.r(17),f=(b.r(33),b.r(19)),g=(b.r(21),b.r(9)),h=b.r(20);b.r(27);h.register("Zoom",function(){function a(){var a=h._zoomValue>=100?"optimize-speed":"geometricPrecision";h.getRenderContainer().setAttr("text-rendering",a)}function b(a){var b=a.shapeNode,c=b.getCTM(),d=new e.Matrix(c.a,c.b,c.c,c.d,.5+(0|c.e),.5+(0|c.f));b.setAttribute("transform","matrix("+d.toString()+")")}function c(b,c){var f=b.getPaper();f.getViewPort();if(c){a();var g=b.getOption("zoomAnimationDuration");if(b.getRoot().getComplex()>200||!g)b._zoomValue=c,b.zoom(c),b.fire("viewchange");else{var h=new e.Animator({beginValue:b._zoomValue,finishValue:c,setter:function(a,b){a.zoom(b)}});b._zoomValue=c,d&&d.pause(),d=h.start(b,g,"easeInOutSine"),d.on("finish",function(){b.fire("viewchange")})}b.fire("zoom",{zoom:c})}}var d,h=this;e.extendClass(f,{zoom:function(a){var c=this.getPaper(),d=c.getViewPort();d.zoom=a/100,d.center={x:d.center.x,y:d.center.y},c.setViewPort(d),100==a&&b(c)},getZoomValue:function(){return this._zoomValue}});var i=e.createClass("Zoom",{base:g,execute:c,queryValue:function(a){return a._zoomValue}}),j=e.createClass("ZoomInCommand",{base:g,execute:function(a){c(a,this.nextValue(a))},queryState:function(a){return+!this.nextValue(a)},nextValue:function(a){var b,c=a.getOption("zoom");for(b=0;b<c.length;b++)if(c[b]>a._zoomValue)return c[b];return 0},enableReadOnly:!0}),k=e.createClass("ZoomOutCommand",{base:g,execute:function(a){c(a,this.nextValue(a))},queryState:function(a){return+!this.nextValue(a)},nextValue:function(a){var b,c=a.getOption("zoom");for(b=c.length-1;b>=0;b--)if(c[b]<a._zoomValue)return c[b];return 0},enableReadOnly:!0});return{init:function(){this._zoomValue=100,this.setDefaultOptions({zoom:[10,20,50,100,200]}),a()},commands:{zoomin:j,zoomout:k,zoom:i},events:{"normal.mousewheel readonly.mousewheel":function(a){if(a.originEvent.ctrlKey||a.originEvent.metaKey){var b=a.originEvent.wheelDelta,c=this;e.Browser.mac||(b=-b),Math.abs(b)>100&&(clearTimeout(this._wheelZoomTimeout),this._wheelZoomTimeout=setTimeout(function(){c.getPaper()._zoom;b<0?c.execCommand("zoomin"):b>0&&c.execCommand("zoomout")},100),a.originEvent.preventDefault())}}},commandShortcutKeys:{zoomin:"ctrl+=",zoomout:"ctrl+-"}}})}},b[64]={value:function(a,c,d){b.r(12).registerProtocol("json",d.exports={fileDescription:"KityMinder 格式",fileExtension:".km",dataType:"text",mineType:"application/json",encode:function(a){return JSON.stringify(a)},decode:function(a){return JSON.parse(a)}})}},b[65]={value:function(a,c,d){function e(a){return f(a,1).join("\n")}function f(a,b){var c=[];b=b||1;var d=g(b);c.push(d+" "+a.data.text),c.push(o);var e=a.data.note;if(e){var h=/^#/.test(e);h&&(c.push(p),e=e.replace(/^#+/gm,function(a){return d+a})),c.push(e),h&&c.push(q),c.push(o)}return a.children&&a.children.forEach(function(a){c=c.concat(f(a,b+1))}),c}function g(a){for(var b="";a--;)b+="#";return b}function h(a){var b,c,d,e,f,g,h,m={};a=a.replace(/^(.+)\n={3,}/,function(a,b){return"# "+b}),b=a.split(n);for(var o=0;o<b.length;o++)c=b[o],d=k(c),d.noteClose?g=!1:d.noteStart?g=!0:(h=d.codeBlock?!h:h,g||h||!d.level||d.level>e+1?f&&j(f,c):(e=d.level,f=i(d.content,m[e-1]),m[e]=f));return l(m[1]),m[1]}function i(a,b){var c={data:{text:a,note:""}};return b&&(b.children?b.children.push(c):b.children=[c]),c}function j(a,b){a.data.note+=b+"\n"}function k(a){var b=/^(#+)?\s*(.*)$/.exec(a);return{level:b[1]&&b[1].length||null,content:b[2],noteStart:a==p,noteClose:a==q,codeBlock:/^\s*```/.test(a)}}function l(a){if(/\S/.test(a.data.note)){for(var b=a.data.note.split("\n");b.length&&!/\S/.test(b[0]);)b.shift();for(;b.length&&!/\S/.test(b[b.length-1]);)b.pop();a.data.note=b.join("\n")}else a.data.note=null,delete a.data.note;a.children&&a.children.forEach(l)}var m=b.r(12),n=/\r\n|\r|\n/,o="",p="\x3c!--Note--\x3e",q="\x3c!--/Note--\x3e";m.registerProtocol("markdown",d.exports={fileDescription:"Markdown/GFM 格式",fileExtension:".md",mineType:"text/markdown",dataType:"text",encode:function(a){return e(a.root)},decode:function(a){return h(a)}})}},b[66]={value:function(a,c,d){function e(a,b){return new k(function(b,c){var d=document.createElement("img");d.onload=function(){b({element:this,x:a.x,y:a.y,width:a.width,height:a.height})},d.onerror=function(a){c(a)},d.crossOrigin="anonymous",d.src=a.url})}function f(a,b){return k(function(b,c){var d=new XMLHttpRequest;d.open("GET",a.url+"?_="+Date.now(),!0),d.responseType="blob",d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var c=d.response,e=document.createElement("img");e.src=l.createObjectURL(c),e.onload=function(){l.revokeObjectURL(e.src),b({element:e,x:a.x,y:a.y,width:a.width,height:a.height})}}},d.send()})}function g(a){function b(c){var d=c.data;if(d.image){a.renderNode(c);var d=c.data,e=d.image,f=d.imageSize,g=c.getRenderBox("ImageRenderer",a.getRenderContainer()),h={url:e,width:f.width,height:f.height,x:-j.getBoundaryBox().x+g.x,y:-j.getBoundaryBox().y+g.y};o.push(h)}if("collapse"!==d.expandState)for(var i=c.getChildren(),k=0;k<i.length;k++)b(i[k])}var c,d,e,f,g,h,i=a.getPaper(),j=(i.container,a.getRenderContainer()),k=j.getRenderBox(),m=k.width+1,n=k.height+1;c=i.shapeNode.getAttribute("transform"),i.shapeNode.setAttribute("transform","translate(0.5, 0.5)"),j.translate(-k.x,-k.y),d=i.container.innerHTML,j.translate(k.x,k.y),i.shapeNode.setAttribute("transform",c),e=document.createElement("div"),e.innerHTML=d,f=e.querySelector("svg"),f.setAttribute("width",k.width+1),f.setAttribute("height",k.height+1),f.setAttribute("style",'font-family: Arial, "Microsoft Yahei","Heiti SC";'),e=document.createElement("div"),e.appendChild(f),d=e.innerHTML,d=d.replace(' xmlns="http://www.w3.org/2000/svg" xmlns:NS1="" NS1:ns1:xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:NS2="" NS2:xmlns:ns1=""',""),d=d.replace(/&nbsp;|[\x00-\x1F\x7F-\x9F]/g,""),d=d.replace(/NS\d+:title/gi,"xlink:title"),g=new Blob([d],{type:"image/svg+xml"}),h=l.createObjectURL(g);var o=[];return b(a.getRoot()),{width:m,height:n,dataUrl:h,xml:d,imagesInfo:o}}function h(a,b,c){function d(a,b){a.save(),a.fillStyle=b,a.fillRect(0,0,o.width,o.height),a.restore()}function h(a,b,c,d,e,f){e&&f?a.drawImage(b,c+A,d+A,e,f):a.drawImage(b,c+A,d+A)}function j(a){return a.toDataURL("image/png")}function m(a){var b=a.map(function(a){return f(a)});return k.all(b)}function n(){return e({url:y}).then(function(a){return h(p,a.element,w,x,a.width,a.height),m(z)}).then(function(a){for(var b=0;b<a.length;b++)h(p,a[b].element,a[b].x+w,a[b].y+x,a[b].width,a[b].height);l.revokeObjectURL(y),document.body.appendChild(o);var c=j(o);return document.body.removeChild(o),c},function(a){alert("脑图的节点中包含跨域图片，导出的 png 中节点图片不显示，你可以替换掉这些跨域的图片并重试。"),l.revokeObjectURL(y),document.body.appendChild(o);var b=j(o);return document.body.removeChild(o),b})}var o=document.createElement("canvas"),p=o.getContext("2d"),q=b.getStyle("background").toString(),r=/url\(\"(.+)\"\)/.exec(q),s=i.Color.parse(q),t=g(b),u=c&&c.width&&c.width>t.width?c.width:t.width,v=c&&c.height&&c.height>t.height?c.height:t.height,w=c&&c.width&&c.width>t.width?(c.width-t.width)/2:0,x=c&&c.height&&c.height>t.height?(c.height-t.height)/2:0,y=t.dataUrl,z=t.imagesInfo,A=20;if(o.width=u+2*A,o.height=v+2*A,r){return e({url:r[1]}).then(function(a){return d(p,p.createPattern(a.element,"repeat")),n()})}return d(p,s.toString()),n()}var i=b.r(17),j=b.r(12),k=b.r(25),l=window.URL||window.webkitURL||window;j.registerProtocol("png",d.exports={fileDescription:"PNG 图片",fileExtension:".png",mineType:"image/png",dataType:"base64",encode:h})}},b[67]={value:function(a,c,d){function e(a,b,c){function d(a,b){var c;try{c=b.getScreenCTM().inverse()}catch(a){throw new Error("Can not inverse source element' ctm.")}return c.multiply(a.getScreenCTM())}function e(a,b){b instanceof Function||(b=function(){});for(var c=[],d=[],e=[],f=0,g=a.length;f<g;f++)switch(a[f]){case"M":case"L":case"T":case"S":case"A":case"C":case"H":case"V":case"Q":e.length&&(d.push(e.join("")),e=[]),","===d[d.length-1]&&d.pop(),d.length&&(b(d),c.push(d.join("")),d=[]),d.push(a[f]);break;case"Z":case"z":d.push(e.join(""),a[f]),b(d),c.push(d.join("")),e=[],d=[];break;case".":case"e":e.push(a[f]);break;case"-":"e"!==a[f-1]&&(e.length&&d.push(e.join(""),","),e=[]),e.push("-");break;case" ":case",":e.length&&(d.push(e.join(""),","),e=[]);break;default:/\d/.test(a[f])?e.push(a[f]):e.length?(d.push(e.join(""),a[f]),e=[]):(","===d[d.length-1]&&d.pop(),d.push(a[f])),f+1===g&&(e.length&&d.push(e.join("")),b(d),c.push(d.join("")),e=null,d=null)}return c.join("")}function f(a,b,c){if(a&&"defs"!==a.tagName){if("transparent"===a.getAttribute("fill")&&a.setAttribute("fill","none"),a.getAttribute("marker-end")&&a.removeAttribute("marker-end"),b=b||0,c=c||0,a.getAttribute("transform")){var g=d(a,a.parentElement);b-=g.e,c-=g.f,a.removeAttribute("transform")}switch(a.tagName.toLowerCase()){case"g":break;case"path":var h=a.getAttribute("d");return void(h&&(h=e(h,function(a){switch(a[0]){case"V":a[1]=+a[1]-c;break;case"H":a[1]=+a[1]-b;break;case"M":case"L":case"T":a[1]=+a[1]-b,a[3]=+a[3]-c;break;case"Q":case"S":a[1]=+a[1]-b,a[3]=+a[3]-c,a[5]=+a[5]-b,a[7]=+a[7]-c;break;case"A":a[11]=+a[11]-b,a[13]=+a[13]-c;break;case"C":a[1]=+a[1]-b,a[3]=+a[3]-c,a[5]=+a[5]-b,a[7]=+a[7]-c,a[9]=+a[9]-b,a[11]=+a[11]-c}}),a.setAttribute("d",h),a.removeAttribute("transform")));case"image":case"text":if(b&&c){var i=+a.getAttribute("x")||0,j=+a.getAttribute("y")||0;a.setAttribute("x",i-b),a.setAttribute("y",j-c)}return a.getAttribute("dominant-baseline")&&(a.removeAttribute("dominant-baseline"),a.setAttribute("dy",".8em")),void a.removeAttribute("transform")}if(a.children)for(var k=0,l=a.children.length;k<l;k++)f(a.children[k],b,c)}}a.style.visibility="hidden",f(a,b||0,c||0),a.style.visibility="visible"}b.r(12).registerProtocol("svg",d.exports={fileDescription:"SVG 矢量图",fileExtension:".svg",mineType:"image/svg+xml",dataType:"text",encode:function(a,b){var c,d,f,g=b.getPaper(),h=g.shapeNode.getAttribute("transform"),i=b.getRenderContainer(),j=i.getRenderBox(),k=(i.getTransform(),j.width),l=j.height,m=20;return g.shapeNode.setAttribute("transform","translate(0.5, 0.5)"),c=g.container.innerHTML,g.shapeNode.setAttribute("transform",h),d=document.createElement("div"),document.body.appendChild(d),d.innerHTML=c,f=d.querySelector("svg"),f.setAttribute("width",k+2*m|0),f.setAttribute("height",l+2*m|0),f.setAttribute("style","background: "+b.getStyle("background")),f.setAttribute("viewBox",[0,0,k+2*m|0,l+2*m|0].join(" ")),tempSvgContainer=document.createElement("div"),e(f,j.x-m|0,j.y-m|0),document.body.removeChild(d),tempSvgContainer.appendChild(f),c=tempSvgContainer.innerHTML,c=c.replace(/&nbsp;/g,"&#xa0;")}})}},b[68]={value:function(a,c,d){function e(a,b){for(var c="";b--;)c+=a;return c}function f(a){if(!a)return"";for(var b=[],c=["\\","n"],d=0,e=0,f=a.length;d<f;d++)if("\n"!==a[d]&&"\r"!==a[d])if(a[d]!==c[e]){switch(e){case 0:b.push(a[d]);break;case 1:b.push(a[d-1],a[d])}e=0}else 2===++e&&(e=0,b.push("\\\\n"));else b.push("\\n"),e=0;return b.join("")}function g(a){if(!a)return"";for(var b=[],c=["\\","\\","n"],d=0,e=0,f=a.length;d<f;d++)if(a[d]!==c[e])switch(e){case 0:b.push(a[d]),e=0;break;case 1:"n"===a[d]?b.push("\n"):b.push(a[d-1],a[d]),e=0;break;case 2:b.push(a[d-2]),"\\"!==a[d]&&(e=0,b.push(a[d-1],a[d]))}else 3===++e&&(e=0,b.push("\\n"));return b.join("")}function h(a,b){var c="";return b=b||0,c+=e("\t",b),c+=f(a.data.text)+p,a.children&&a.children.forEach(function(a){c+=h(a,b+1)}),c}function i(a){return!/\S/.test(a)}function j(a){for(var b=0;r.REGEXP.test(a);)a=a.replace(r.REGEXP,""),b++;return b}function k(a){return{data:{text:g(a.replace(r.DELETE,""))}}}function l(a){function b(a,b){(a.children||(a.children=[])).push(b)}for(var c,d,e,f,g={},h=a.split(q),l=0;l<h.length;l++)if(d=h[l],!i(d)){if(e=j(d),f=k(d),0===e){if(c)throw new Error("Invalid local format");c=f}else{if(!g[e-1])throw new Error("Invalid local format");b(g[e-1],f)}g[e]=f}return c}function m(a){function b(a){var c={};c.data=a.getData();var d=a.getChildren();c.children=[];for(var e=0;e<d.length;e++)c.children.push(b(d[e]));return c}if(a)return/^\s*$/.test(a.data.text)&&(a.data.text="分支主题"),h(b(a))}var n=b.r(12),o=b.r(17).Browser,p="\r",q=/\r\n|\r|\n/,r=function(a){return a.gecko?{REGEXP:new RegExp("^(\t|"+String.fromCharCode(160,160,32,160)+")"),DELETE:new RegExp("^(\t|"+String.fromCharCode(160,160,32,160)+")+")}:a.ie||a.edge?{REGEXP:new RegExp("^("+String.fromCharCode(32)+"|"+String.fromCharCode(160)+")"),DELETE:new RegExp("^("+String.fromCharCode(32)+"|"+String.fromCharCode(160)+")+")}:{REGEXP:/^(\t|\x20{4})/,DELETE:/^(\t|\x20{4})+/}}(o);n.registerProtocol("text",d.exports={fileDescription:"大纲文本",fileExtension:".txt",dataType:"text",mineType:"text/plain",encode:function(a){return h(a.root,0)},decode:function(a){return l(a)},Node2Text:function(a){return m(a)}})}},b[69]={value:function(a,c,d){b.r(31).register("default",{getLayout:function(a){if(a.getData("layout"))return a.getData("layout");var b=a.getLevel();return 0===b?"mind":1===b?a.getLayoutPointPreview().x>0?"right":"left":a.parent.getLayout()},getConnect:function(a){return 1==a.getLevel()?"arc":"under"}})}},b[70]={value:function(a,c,d){b.r(31).register("filetree",{getLayout:function(a){return a.getData("layout")?a.getData("layout"):a.isRoot()?"bottom":"filetree-down"},getConnect:function(a){return 1==a.getLevel()?"poly":"l"}})}},b[71]={value:function(a,c,d){b.r(31).register("fish-bone",{getLayout:function(a){if(a.getData("layout"))return a.getData("layout");var b=a.getLevel();return 0===b?"fish-bone-master":1===b?"fish-bone-slave":a.getLayoutPointPreview().y>0?"filetree-up":"filetree-down"},getConnect:function(a){switch(a.getLevel()){case 1:return"fish-bone-master";case 2:return"line";default:return"l"}}})}},b[72]={value:function(a,c,d){b.r(31).register("right",{getLayout:function(a){return a.getData("layout")||"right"},getConnect:function(a){return 1==a.getLevel()?"arc":"bezier"}})}},b[73]={value:function(a,c,d){b.r(31).register("structure",{getLayout:function(a){return a.getData("layout")||"bottom"},getConnect:function(a){return"poly"}})}},b[74]={value:function(a,c,d){b.r(31).register("tianpan",{getLayout:function(a){return a.getData("layout")?a.getData("layout"):0===a.getLevel()?"tianpan":a.parent.getLayout()},getConnect:function(a){return"arc_tp"}})}},b[75]={value:function(a,c,d){var e=b.r(32);["classic","classic-compact"].forEach(function(a){var b="classic-compact"==a;e.register(a,{background:'#3A4144 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=") repeat',"root-color":"#430","root-background":"#e9df98","root-stroke":"#e9df98","root-font-size":24,"root-padding":b?[10,25]:[15,25],"root-margin":b?[15,25]:[30,100],"root-radius":30,"root-space":10,"root-shadow":"rgba(0, 0, 0, .25)","main-color":"#333","main-background":"#a4c5c0","main-stroke":"#a4c5c0","main-font-size":16,"main-padding":b?[5,15]:[6,20],"main-margin":b?[5,10]:20,"main-radius":10,"main-space":5,"main-shadow":"rgba(0, 0, 0, .25)","sub-color":"white","sub-background":"transparent","sub-stroke":"none","sub-font-size":12,"sub-padding":[5,10],"sub-margin":b?[5,10]:[15,20],"sub-tree-margin":30,"sub-radius":5,"sub-space":5,"connect-color":"white","connect-width":2,"main-connect-width":3,"connect-radius":5,"selected-background":"rgb(254, 219, 0)","selected-stroke":"rgb(254, 219, 0)","selected-color":"black","marquee-background":"rgba(255,255,255,.3)","marquee-stroke":"white","drop-hint-color":"yellow","sub-drop-hint-width":2,"main-drop-hint-width":4,"root-drop-hint-width":4,"order-hint-area-color":"rgba(0, 255, 0, .5)","order-hint-path-color":"#0f0","order-hint-path-width":1,"text-selection-color":"rgb(27,171,255)","line-height":1.5})})}},b[76]={value:function(a,c,d){b.r(32).register("fish",{background:'#3A4144 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=") repeat',"root-color":"#430","root-background":"#e9df98","root-stroke":"#e9df98","root-font-size":24,"root-padding":[35,35],"root-margin":30,"root-radius":100,"root-space":10,"root-shadow":"rgba(0, 0, 0, .25)","main-color":"#333","main-background":"#a4c5c0","main-stroke":"#a4c5c0","main-font-size":16,"main-padding":[6,20],"main-margin":[20,20],"main-radius":5,"main-space":5,"main-shadow":"rgba(0, 0, 0, .25)","sub-color":"black","sub-background":"white","sub-stroke":"white","sub-font-size":12,"sub-padding":[5,10],"sub-margin":[10],"sub-radius":5,"sub-space":5,"connect-color":"white","connect-width":3,"main-connect-width":3,"connect-radius":5,"selected-background":"rgb(254, 219, 0)","selected-stroke":"rgb(254, 219, 0)","marquee-background":"rgba(255,255,255,.3)","marquee-stroke":"white","drop-hint-color":"yellow","drop-hint-width":4,"order-hint-area-color":"rgba(0, 255, 0, .5)","order-hint-path-color":"#0f0","order-hint-path-width":1,"text-selection-color":"rgb(27,171,255)","line-height":1.5})}},b[77]={value:function(a,c,d){function e(a,b,c){return h.Color.createHSL(a,b,c)}function f(a,b){return{background:"#fbfbfb","root-color":"white","root-background":e(a,37,60),"root-stroke":e(a,37,60),"root-font-size":16,"root-padding":b?[6,12]:[12,24],"root-margin":b?10:[30,100],"root-radius":5,"root-space":10,"main-color":"black","main-background":e(a,33,95),"main-stroke":e(a,37,60),"main-stroke-width":1,"main-font-size":14,"main-padding":[6,20],"main-margin":b?8:20,"main-radius":3,"main-space":5,"sub-color":"black","sub-background":"transparent","sub-stroke":"none","sub-font-size":12,"sub-padding":b?[3,5]:[5,10],"sub-margin":b?[4,8]:[15,20],"sub-radius":5,"sub-space":5,"connect-color":e(a,37,60),"connect-width":1,"connect-radius":5,"selected-stroke":e(a,26,30),"selected-stroke-width":"3","blur-selected-stroke":e(a,10,60),"marquee-background":e(a,100,80).set("a",.1),"marquee-stroke":e(a,37,60),"drop-hint-color":e(a,26,35),"drop-hint-width":5,"order-hint-area-color":e(a,100,30).set("a",.5),"order-hint-path-color":e(a,100,25),"order-hint-path-width":1,"text-selection-color":e(a,100,20),"line-height":1.5}}var g,h=b.r(17),i=b.r(32),j={red:0,soil:25,green:122,blue:204,purple:246,pink:334};for(g in j)i.register("fresh-"+g,f(j[g])),i.register("fresh-"+g+"-compat",f(j[g],!0))}},b[78]={value:function(a,c,d){var e=b.r(32);["snow","snow-compact"].forEach(function(a){var b="snow-compact"==a;e.register(a,{background:'#3A4144 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=") repeat',"root-color":"#430","root-background":"#e9df98","root-stroke":"#e9df98","root-font-size":24,"root-padding":b?[5,10]:[15,25],"root-margin":b?15:30,"root-radius":5,"root-space":10,"root-shadow":"rgba(0, 0, 0, .25)","main-color":"#333","main-background":"#a4c5c0","main-stroke":"#a4c5c0","main-font-size":16,"main-padding":b?[4,10]:[6,20],"main-margin":b?[5,10]:[20,40],"main-radius":5,"main-space":5,"main-shadow":"rgba(0, 0, 0, .25)","sub-color":"black","sub-background":"white","sub-stroke":"white","sub-font-size":12,"sub-padding":[5,10],"sub-margin":b?[5,10]:[10,20],"sub-radius":5,"sub-space":5,"connect-color":"white","connect-width":2,"main-connect-width":3,"connect-radius":5,"selected-background":"rgb(254, 219, 0)","selected-stroke":"rgb(254, 219, 0)","marquee-background":"rgba(255,255,255,.3)","marquee-stroke":"white","drop-hint-color":"yellow","drop-hint-width":4,"order-hint-area-color":"rgba(0, 255, 0, .5)","order-hint-path-color":"#0f0","order-hint-path-width":1,"text-selection-color":"rgb(27,171,255)","line-height":1.5})})}},b[79]={value:function(a,c,d){var e=b.r(32);["tianpan","tianpan-compact"].forEach(function(a){var b="tianpan-compact"==a;e.register(a,{background:'#3A4144 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=") repeat',"root-color":"#430","root-background":"#e9df98","root-stroke":"#e9df98","root-font-size":25,"root-padding":b?15:20,"root-margin":b?[15,25]:100,"root-radius":30,"root-space":10,"root-shadow":"rgba(0, 0, 0, .25)","root-shape":"circle","main-color":"#333","main-background":"#a4c5c0","main-stroke":"#a4c5c0","main-font-size":15,"main-padding":b?10:12,"main-margin":b?10:12,"main-radius":10,"main-space":5,"main-shadow":"rgba(0, 0, 0, .25)","main-shape":"circle","sub-color":"#333","sub-background":"#99ca6a","sub-stroke":"#a4c5c0","sub-font-size":13,"sub-padding":5,"sub-margin":b?6:10,"sub-tree-margin":30,"sub-radius":5,"sub-space":5,"sub-shadow":"rgba(0, 0, 0, .25)","sub-shape":"circle","connect-color":"white","connect-width":2,"main-connect-width":3,"connect-radius":5,"selected-background":"rgb(254, 219, 0)","selected-stroke":"rgb(254, 219, 0)","selected-color":"black","marquee-background":"rgba(255,255,255,.3)","marquee-stroke":"white","drop-hint-color":"yellow","sub-drop-hint-width":2,"main-drop-hint-width":4,"root-drop-hint-width":4,"order-hint-area-color":"rgba(0, 255, 0, .5)","order-hint-path-color":"#0f0","order-hint-path-width":1,"text-selection-color":"rgb(27,171,255)","line-height":1.4})})}},b[80]={value:function(a,c,d){b.r(32).register("wire",{background:"black",color:"#999",stroke:"none",padding:10,margin:20,"font-size":14,"connect-color":"#999","connect-width":1,"selected-background":"#999","selected-color":"black","marquee-background":"rgba(255,255,255,.3)","marquee-stroke":"white","drop-hint-color":"yellow","sub-drop-hint-width":2,"main-drop-hint-width":4,"root-drop-hint-width":4,"order-hint-area-color":"rgba(0, 255, 0, .5)","order-hint-path-color":"#0f0","order-hint-path-width":1,"text-selection-color":"rgb(27,171,255)","line-height":1.5})}};var c={"expose-kityminder":34};a("expose-kityminder")}();
/*!
 * ====================================================
 * angular colorpicker - v1.0.9 - 2016-06-10
 * https://github.com/zhangbobell/color-picker#readme
 * GitHub: git+https://github.com/zhangbobell/color-picker.git 
 * Copyright (c) 2016 ; Licensed 
 * ====================================================
 */


angular.module("ui.colorpicker",[]).directive("colorPicker",["$compile","localize",function(a,b){return{restrict:"EA",scope:{setColor:"&"},link:function(c,d,e){function f(){var a=s(d);y.css(a)}function g(){return angular.isDefined(e.disabled)?!e.disabled:!0}function h(a){c.$emit("colorPicked",a),c.hoveredColor=a,q(a),c.latestColor=p()}function i(a){h(a),k()}function j(a){c.hoveredColor=a}function k(){y.css("display","none")}function l(a){var b=g();if(b){a.stopPropagation();var c=s(d);y.css(c),y.css("display","block"),y[0].focus()}}function m(a){a.stopPropagation()}function n(){var a=document.createElement("input");return a.setAttribute("type","color"),"text"!==a.type}function o(){var a=window.localStorage.getItem("ui-color-picker");if(!a)return null;try{a=JSON.parse(a)}catch(b){return null}return a}function p(){var a=o();return a?a.latestColor:[]}function q(a){var b=o()||{},c=p();if(c&&c instanceof Array){var d=c.indexOf(a);-1!=d&&c.splice(d,1),c.unshift(a)}else c=[a];c.length>10&&(c=c.slice(0,10)),b.latestColor=c,window.localStorage.setItem("ui-color-picker",JSON.stringify(b))}function r(a,b){for(var c=0,d=0,e=0,f=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,b||"BODY"!==a.tagName?(e+=a.scrollLeft,f+=a.scrollTop):(e+=document.documentElement.scrollLeft||a.scrollLeft,f+=document.documentElement.scrollTop||a.scrollTop),a=a.offsetParent;return{top:d,left:c,scrollX:e,scrollY:f}}function s(a){var b,c=r(a[0]);return"top"===z?b={top:c.top-147,left:c.left}:"right"===z?b={top:c.top,left:c.left+126}:"bottom"===z?b={top:c.top+a[0].offsetHeight+2,left:c.left}:"left"===z&&(b={top:c.top,left:c.left-150}),{top:b.top+"px",left:b.left+"px"}}var t=c.setColor()||e.defaultColor||"#fff",u={clearText:b.get("default_color"),defaultColor:t,latestText:b.get("latest_used"),commonText:b.get("theme_color"),commonColor:[["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],["#f2f2f2","#808080","#ddd8c2","#c6d9f1","#dbe5f1","#f2dbdb","#eaf1dd","#e5dfec","#daeef3","#fde9d9"],["#d9d9d9","#595959","#c4bc96","#8db3e2","#b8cce4","#e5b8b7","#d6e3bc","#ccc0d9","#b6dde8","#fbd4b4"],["#bfbfbf","#404040","#938953","#548dd4","#95b3d7","#d99594","#c2d69b","#b2a1c7","#92cddc","#fabf8f"],["#a6a6a6","#262626","#4a442a","#17365d","#365f91","#943634","#76923c","#5f497a","#31849b","#e36c0a"],["#7f7f7f","#0d0d0d","#1c1a10","#0f243e","#243f60","#622423","#4e6128","#3f3151","#205867","#974706"]],standardText:b.get("standard_color"),standardColor:["#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],moreText:b.get("more_color")},v=(1e6*+new Date+Math.floor(1e6*Math.random())).toString(36),w='<div class="colorpicker-container" tabindex="-1" ng-click="keepPickerOpen($event)"><div class="colorpicker-toolbar"><div class="colorpicker-preview" ng-style="{ \'background-color\': hoveredColor }"></div><div class="colorpicker-clear" ng-bind="defaultOptions.clearText" ng-click="selectColorAndClose(setColor() || defaultOptions.defaultColor)"></div></div><div class="colorpicker-title" ng-bind="defaultOptions.latestText" ng-if="latestColor.length > 0"></div><div class="colorpicker-latestcolor colorpicker-colors"><span class="colorpicker-colors-item" ng-repeat="color in latestColor" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div><div class="colorpicker-title" ng-bind="defaultOptions.commonText"></div><div class="colorpicker-commoncolor"><div class="colorpicker-colors colorpicker-colors-line{{$index}}" ng-repeat="line in defaultOptions.commonColor"><span class="colorpicker-colors-item" ng-repeat="color in line" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div></div><div class="colorpicker-title" ng-bind="defaultOptions.standardText"></div><div class="colorpicker-standardcolor colorpicker-colors"><span class="colorpicker-colors-item" ng-repeat="color in defaultOptions.standardColor" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div><div class="colorpicker-title colorpicker-morecolor" ng-if="isSupportNativeColorPicker"><label for="native-color-picker'+v+'" ng-bind="defaultOptions.moreText"></label><input id="native-color-picker'+v+'" class="native-color-picker" type="color" ng-model="nativeColor" ng-change="selectColor(nativeColor);" /></div></div>',x=angular.element,y=x(w),z=angular.isDefined(e.colorpickerPosition)?e.colorpickerPosition:"bottom";c.defaultOptions=u,c.isSupportNativeColorPicker=n(),c.latestColor=p(),c.selectColor=h,c.previewColor=j,c.selectColorAndClose=i,c.keepPickerOpen=m,c.hoveredColor=u.defaultColor,a(y)(c),x(document.body).append(y),d.on("click",l),x(document).on("click",k),c.$on("openColorPicker",l),c.$on("closeColorPicker",k),window.attachEvent?window.attachEvent("onresize",f):window.addEventListener&&window.addEventListener("resize",f)}}}]),angular.module("ui.colorpicker").provider("localize",function(){this.map={"zh-cn":{default_color:"默认颜色",latest_used:"最近使用",theme_color:"主题颜色",standard_color:"标准颜色",more_color:"更多颜色.."},"en-us":{default_color:"default",latest_used:"latest used",theme_color:"theme color",standard_color:"standard color",more_color:"more.."}},this.defaultLang="zh-cn",this.setDefaultLang=function(a){var b=Object.keys(this.map);return-1===b.indexOf(a)?void console.error("Unsupported language: ",a,", please choose in :",b.join(", ")):void(this.defaultLang=a)},this.$get=function(){var a=this;return{get:function(b){return a.map[a.defaultLang].hasOwnProperty(b)?a.map[a.defaultLang][b]:(console.warn("Missing lang pair for : ",b),"")}}}});
//# sourceMappingURL=color-picker.min.map;
/*!
 * ====================================================
 * kityminder-editor - v1.0.67 - 2019-02-12
 * https://github.com/fex-team/kityminder-editor
 * GitHub: https://github.com/fex-team/kityminder-editor 
 * Copyright (c) 2019 ; Licensed 
 * ====================================================
 */


!function(){var d={r:function(e){if(d[e].inited)return d[e].value;if("function"!=typeof d[e].value)return d[e].inited=!0,d[e].value;var t={exports:{}},n=d[e].value(null,t.exports,t);if(d[e].inited=!0,void 0!==(d[e].value=n))return n;for(var i in t.exports)if(t.exports.hasOwnProperty(i))return d[e].inited=!0,d[e].value=t.exports,t.exports}};d[0]={value:function(e,t,n){var i=[];function r(e){i.push(e)}function o(e){this.selector=e;for(var t=0;t<i.length;t++)"function"==typeof i[t]&&i[t].call(this,this)}return(o.assemble=r)(d.r(7)),r(d.r(9)),r(d.r(14)),r(d.r(18)),r(d.r(11)),r(d.r(12)),r(d.r(5)),r(d.r(6)),r(d.r(8)),r(d.r(15)),r(d.r(10)),r(d.r(13)),r(d.r(16)),r(d.r(17)),n.exports=o}},d[1]={value:function(e,t,n){return n.exports=kityminder.Editor=d.r(0)}},d[2]={value:function(e,t,n){return n.exports=window.HotBox}},d[3]={value:function(e,t,n){}},d[4]={value:function(e,t,n){return n.exports=window.kityminder.Minder}},d[5]={value:function(e,t,n){function i(){var n="\ufeff",i={"application/km":"￿"},r={"\ufeff":"SPLITOR","￿":"application/km"};function o(e,t){if(!this.isPureText(t)){if(!this.whichMimeType(t))throw new Error("unknow mimetype!");t=this.getPureText(t)}return!1===e?t:e+n+t}this.registMimeTypeProtocol=function(e,t){if(t&&r[t])throw new Error("sing has registed!");if(e&&i[e])throw new Error("mimetype has registed!");r[t]=e,i[e]=t},this.getMimeTypeProtocol=function(e,t){var n=i[e]||!1;return void 0===t?o.bind(this,n):o(n,t)},this.getSpitor=function(){return n},this.getMimeType=function(e){return void 0!==e?r[e]||null:i}}return i.prototype.isPureText=function(e){return!~e.indexOf(this.getSpitor())},i.prototype.getPureText=function(e){return this.isPureText(e)?e:e.split(this.getSpitor())[1]},i.prototype.whichMimeType=function(e){return this.isPureText(e)?null:this.getMimeType(e.split(this.getSpitor())[0])},n.exports=function(){this.minder.supportClipboardEvent&&!kity.Browser.gecko&&(this.MimeType=new i)}}},d[6]={value:function(e,t,n){return n.exports=function(){var c=this.minder,r=window.kityminder.data;if(c.supportClipboardEvent&&!kity.Browser.gecko){var d=this.fsm,u=this.receiver,s=this.MimeType,o=s.getMimeTypeProtocol("application/km"),m=r.getRegisterProtocol("json").decode,p=[];document.addEventListener("copy",function(e){if(document.activeElement==u.element){var t=e;switch(d.state()){case"input":break;case"normal":var n=[].concat(c.getSelectedNodes());if(n.length){var i;if(1<n.length&&(n.sort(function(e,t){return e.getLevel()-t.getLevel()}),(i=n[0].getLevel())!==n[n.length-1].getLevel())){var r,o=0,a=n.length,l=a-1;for(r=n[l];r.getLevel()!==i;){for(o=0;o<a&&n[o].getLevel()===i;){if(n[o].isAncestorOf(r)){n.splice(l,1);break}o++}r=n[--l]}}var s=g(n);t.clipboardData.setData("text/plain",s)}e.preventDefault()}}}),document.addEventListener("cut",function(e){if(document.activeElement==u.element){if("normal"!==c.getStatus())return void e.preventDefault();var t=e;switch(d.state()){case"input":break;case"normal":var n=c.getSelectedNodes();n.length&&(t.clipboardData.setData("text/plain",g(n)),c.execCommand("removenode")),e.preventDefault()}}}),document.addEventListener("paste",function(e){if(document.activeElement==u.element){if("normal"!==c.getStatus())return void e.preventDefault();var t=e,n=d.state(),i=t.clipboardData.getData("text/plain");switch(n){case"input":if(!s.isPureText(i))return void e.preventDefault();break;case"normal":var r=c.getSelectedNodes();if("application/km"===s.whichMimeType(i)){var o,a=m(s.getPureText(i));r.forEach(function(e){for(var t=a.length-1;0<=t;t--)o=c.createNode(null,e),c.importNode(o,a[t]),p.push(o),e.appendChild(o)}),c.select(p,!0),p=[],c.refresh()}else{if(t.clipboardData&&-1<t.clipboardData.items[0].type.indexOf("image")){var l=t.clipboardData.items[0].getAsFile();return angular.element(document.body).injector().get("server").uploadImage(l).then(function(e){var t=e.data;0===t.errno&&c.execCommand("image",t.data.url)})}r.forEach(function(e){c.Text2Children(e,i)})}e.preventDefault()}}})}function g(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(c.exportNode(e[n]));return o(r.getRegisterProtocol("json").encode(t))}}}},d[7]={value:function(e,t,n){return n.exports=function(){var e;if(!(e="string"==typeof this.selector?document.querySelector(this.selector):this.selector))throw new Error("Invalid selector: "+this.selector);e.classList.add("km-editor"),this.container=e}}},d[8]={value:function(e,t,n){var v=d.r(2);new(d.r(19))("drag");return n.exports=function(){var n,i,t=this.fsm,o=this.minder,r=this.hotbox;this.receiver.element,t.when("* -> drag",function(){}),t.when("drag -> *",function(e,t,n){});var a,l,s,c,d,u,m=1,p=!1,g=!1;function f(e,t){if(!e)return p=g=!1,u&&kity.releaseFrame(u),void(u=null);var n,i,r;u||(u=kity.requestFrame((n=e,i=t,r=o,function(e){switch(n){case"left":r._viewDragger.move({x:-i,y:0},0);break;case"top":r._viewDragger.move({x:0,y:-i},0);break;case"right":r._viewDragger.move({x:i,y:0},0);break;case"bottom":r._viewDragger.move({x:0,y:i},0);break;default:return}e.next()})))}o.on("mousedown",function(e){m=0;var t=o.getPaper().container.getBoundingClientRect();n=e.originEvent.clientX,i=e.originEvent.clientY,d=t.top,a=t.width,l=t.height}),o.on("mousemove",function(e){if("drag"===t.state()&&0==m&&o.getSelectedNode()&&(20<Math.abs(n-e.originEvent.clientX)||20<Math.abs(i-e.originEvent.clientY))&&(s=e.originEvent.clientX,c=e.originEvent.clientY-d,s<20?f("right",20-s):a-20<s?f("left",20+s-a):p=!0,c<20?f("bottom",c):l-20<c?f("top",20+c-l):g=!0,p&&g&&f(!1)),"drag"!==t.state()&&0===m&&o.getSelectedNode()&&(20<Math.abs(n-e.originEvent.clientX)||20<Math.abs(i-e.originEvent.clientY)))return"hotbox"===t.state()&&r.active(v.STATE_IDLE),t.jump("drag","user-drag")}),window.addEventListener("mouseup",function(){if(m=1,"drag"===t.state())return f(!1),t.jump("normal","drag-finish")},!1)}}},d[9]={value:function(e,t,n){var s=new(d.r(19))("fsm");function c(e,t,n,i){return e.when==t&&(("*"==e.enter||e.enter==i)&&("*"==e.exit||e.exit==n||void 0))}return n.exports=function(){this.fsm=new function(e){var a=e,l=[];this.jump=function(e,t){if(!t)throw new Error("Please tell fsm the reason to jump");var n,i,r=a,o=[r,e].concat([].slice.call(arguments,1));for(n=0;n<l.length;n++)if(c((i=l[n]).condition,"before",r,e)&&i.apply(null,o))return;for(a=e,s.log("[{0}] {1} -> {2}",t,r,e),n=0;n<l.length;n++)c((i=l[n]).condition,"after",r,e)&&i.apply(null,o);return a},this.state=function(){return a},this.when=function(e,t){var n,i,r,o;if(1==arguments.length&&(t=e,e="* -> *"),2==(i=e.split(" - ")).length?n="before":2==(i=e.split(" -> ")).length&&(n="after"),!n)throw new Error("Illegal fsm condition: "+e);r=i[0],o=i[1],t.condition={when:n,exit:r,enter:o},l.push(t)}}("normal")}}},d[10]={value:function(e,t,n){var g=d.r(22);return window.diff=g,n.exports=function(){var n,i,r,o,a=this.minder,e=this.hotbox,l=100;function t(){r=[],o=[],n=a.exportJson()}function s(){var e=a.exportJson(),t=g(e,n);if(t.length){for(r.push(t);r.length>l;)r.shift();return n=e,!0}}function c(){i=!0;var e,t=r.pop();t&&(a.applyPatches(t),e=a.exportJson(),o.push(g(e,n)),n=e),i=!1}function d(){i=!0;var e=o.pop();e&&(a.applyPatches(e),s()),i=!1}function u(){return!!r.length}function m(){return!!o.length}this.history={reset:t,undo:c,redo:d,hasUndo:u,hasRedo:m},t(),a.on("contentchange",function(){i||s()&&(o=[])}),a.on("import",t),a.on("patch",function(e){if(i){var t=e.patch;switch(t.express){case"node.add":a.select(t.node.getChild(t.index),!0);break;case"node.remove":case"data.replace":case"data.remove":case"data.add":a.select(t.node,!0)}}});var p=e.state("main");p.button({position:"top",label:"撤销",key:"Ctrl + Z",enable:u,action:c,next:"idle"}),p.button({position:"top",label:"重做",key:"Ctrl + Y",enable:m,action:d,next:"idle"})}}},d[11]={value:function(e,t,n){var i=d.r(2);return n.exports=function(){var e=this.fsm,a=this.minder,r=this.receiver,t=this.container,l=new i(t);l.setParentFSM(e),e.when("normal -> hotbox",function(e,t,n){var i,r=a.getSelectedNode();if(r){var o=r.getRenderBox();i={x:o.cx,y:o.cy}}l.active("main",i)}),e.when("normal -> normal",function(e,t,n,i){"shortcut-handle"==n&&(l.dispatch(i)?i.preventDefault():a.dispatchKeyEvent(i))}),e.when("modal -> normal",function(e,t,n,i){"import-text-finish"==n&&r.element.focus()}),this.hotbox=l}}},d[12]={value:function(e,t,n){d.r(21);var s=new(d.r(19))("input");return n.exports=function(){var r=this.fsm,p=this.minder,e=this.hotbox,o=this.receiver,a=o.element,l=window.kity.Browser.gecko;function t(){var e=p.getSelectedNode();if(e){var t=a;if(a.innerText="","bold"===e.getData("font-weight")){var n=document.createElement("b");t.appendChild(n),t=n}if("italic"===e.getData("font-style")){var i=document.createElement("i");t.appendChild(i),t=i}t.innerText=p.queryCommandValue("text"),l&&o.fixFFCaretDisappeared(),r.jump("input","input-request"),o.selectAll()}}function n(){var e=p.getSelectedNode();if(e){var t=e.getData("font-size")||e.getStyle("font-size");a.style.fontSize=t+"px",a.style.minWidth=0,a.style.minWidth=a.clientWidth+"px",a.style.fontWeight=e.getData("font-weight")||"",a.style.fontStyle=e.getData("font-style")||"",a.classList.add("input"),a.focus()}}function g(){a.classList.remove("input"),o.selectAll()}function i(){var t=i,n=p.getSelectedNode();n&&(t.timer||(t.timer=setTimeout(function(){var e=n.getRenderBox("TextRenderer");a.style.left=Math.round(e.x)+"px",a.style.top=(s.flaged?Math.round(e.bottom+30):Math.round(e.y))+"px",t.timer=0})))}s.flaged&&a.classList.add("debug"),a.onmousedown=function(e){e.stopPropagation()},p.on("layoutallfinish viewchange viewchanged selectionchange",function(e){"viewchange"==e.type&&"input"!=r.state()||i()}),i(),r.when("* -> input",n),r.when("input -> *",function(e,t,n){switch(n){case"input-cancel":return g();case"input-commit":default:return function(){var e=[].slice.call(a.childNodes);setTimeout(function(){a.innerHTML=""},0);var t=p.getSelectedNode();if(e=function(e){for(var t,n,i,r="",o=/\S/,a=new RegExp("( |"+String.fromCharCode(160)+")"),l=document.createElement("br"),s=!1,c=!1,d=0,u=e.length;d<u;d++)switch(t=e[d],Object.prototype.toString.call(t)){case"[object HTMLBRElement]":r+="\n";break;case"[object Text]":if(t=t.textContent.replace("&nbsp;"," "),o.test(t))r+=t;else for(i=t.length;i--;)a.test(t[i])?r+=" ":"\t"===t[i]&&(r+="\t");break;case"[object HTMLElement]":switch(t.nodeName){case"B":s=!0;break;case"I":c=!0}[].splice.apply(e,[d,1].concat([].slice.call(t.childNodes))),u=e.length,d--;break;case"[object HTMLSpanElement]":[].splice.apply(e,[d,1].concat([].slice.call(t.childNodes))),u=e.length,d--;break;case"[object HTMLImageElement]":t.src&&/http(|s):\/\//.test(t.src)&&p.execCommand("Image",t.src,t.alt);break;case"[object HTMLDivElement]":n=[];for(var m=0,u=t.childNodes.length;m<u;m++)n.push(t.childNodes[m]);n.push(l),[].splice.apply(e,[d,1].concat(n)),u=e.length,d--;break;default:if(t&&t.childNodes.length){n=[];for(var m=0,u=t.childNodes.length;m<u;m++)n.push(t.childNodes[m]);n.push(l),[].splice.apply(e,[d,1].concat(n)),u=e.length,d--}else t&&void 0!==t.textContent?r+=t.textContent:r+=""}return r=(r=r.replace(/^\n*|\n*$/g,"")).replace(new RegExp("(\n|\r|\n\r)( |"+String.fromCharCode(160)+"){4}","g"),"$1\t"),p.getSelectedNode().setText(r),s?p.queryCommandState("bold")||p.execCommand("bold"):p.queryCommandState("bold")&&p.execCommand("bold"),c?p.queryCommandState("italic")||p.execCommand("italic"):p.queryCommandState("italic")&&p.execCommand("italic"),g(),r}(e),function(t,e){try{p.decodeData("text",e).then(function(e){!function e(t,n,i){var r=n.data;t.setText(r.text||"");for(var o=n.children||[],a=0;a<o.length;a++){var l=i.createNode(null,t);e(l,o[a],i)}return t}(t,e,p),p.fire("contentchange"),p.getRoot().renderTree(),p.layout(300)})}catch(e){if(p.fire("contentchange"),p.getRoot().renderTree(),"Error: Invalid local format"!==e.toString())throw e}}(t,e),"root"==t.type){var n=p.getRoot().getText();p.fire("initChangeRoot",{text:n})}}()}}),o.onblur(function(e){"input"==r.state()&&r.jump("normal","input-commit")}),p.on("beforemousedown",function(){"input"==r.state()&&r.jump("normal","input-commit")}),p.on("dblclick",function(){p.getSelectedNode()&&"readonly"!==p._status&&t()}),e.state("main").button({position:"center",label:"编辑",key:"F2",enable:function(){return-1!=p.queryCommandState("text")},action:t}),this.editText=t}}},d[13]={value:function(e,t,n){var c=d.r(2);return n.exports=function(){var t,n,i=this.fsm,r=this.minder,o=this.receiver,e=this.container,a=o.element,l=this.hotbox,s=!1;o.listen("normal",function(e){if(o.enable(),e.is("Space"))return e.preventDefault(),kity.Browser.safari&&(a.innerHTML=""),i.jump("hotbox","space-trigger");switch(e.type){case"keydown":if(r.getSelectedNode()){if(!((t=e).ctrlKey||t.metaKey||t.altKey)&&(65<=t.keyCode&&t.keyCode<=90||48<=t.keyCode&&t.keyCode<=57||108!=t.keyCode&&96<=t.keyCode&&t.keyCode<=111||108!=t.keyCode&&96<=t.keyCode&&t.keyCode<=111||229==t.keyCode||0===t.keyCode))return i.jump("input","user-input")}else a.innerHTML="";i.jump("normal","shortcut-handle",e)}var t}),o.listen("hotbox",function(e){if(o.disable(),e.preventDefault(),l.dispatch(e),l.state()==c.STATE_IDLE&&"hotbox"==i.state())return i.jump("normal","hotbox-idle")}),o.listen("input",function(e){if(o.enable(),"keydown"==e.type){if(e.is("Enter"))return e.preventDefault(),i.jump("normal","input-commit");if(e.is("Esc"))return e.preventDefault(),i.jump("normal","input-cancel");(e.is("Tab")||e.is("Shift + Tab"))&&e.preventDefault()}else if("keyup"==e.type&&e.is("Esc")){if(e.preventDefault(),!s)return i.jump("normal","input-cancel")}else"compositionstart"==e.type?s=!0:"compositionend"==e.type&&setTimeout(function(){s=!1})}),e.addEventListener("mousedown",function(e){2==e.button&&e.preventDefault(),"hotbox"==i.state()?(l.active(c.STATE_IDLE),i.jump("normal","blur")):"normal"==i.state()&&2==e.button&&(t=e.clientX,n=e.clientY)},!1),e.addEventListener("mousewheel",function(e){"hotbox"==i.state()&&(l.active(c.STATE_IDLE),i.jump("normal","mousemove-blur"))},!1),e.addEventListener("contextmenu",function(e){e.preventDefault()}),e.addEventListener("mouseup",function(e){"normal"==i.state()&&2==e.button&&e.clientX==t&&e.clientY==n&&r.getSelectedNode()&&i.jump("hotbox","content-menu")},!1),l.$element.addEventListener("mousedown",function(e){e.stopPropagation()})}}},d[14]={value:function(e,t,n){var i=d.r(4);return n.exports=function(){var e=new i({enableKeyReceiver:!1,enableAnimation:!0});e.renderTo(this.selector),e.setTheme(null),e.select(e.getRoot(),!0),e.execCommand("text","中心主题"),this.minder=e}}},d[15]={value:function(e,t,n){return n.exports=function(){var o=this,a=this.minder,e=this.hotbox,l=this.fsm,s=e.state("main"),c=0;["前移:Alt+Up:ArrangeUp","下级:Tab|Insert:AppendChildNode","同级:Enter:AppendSiblingNode","后移:Alt+Down:ArrangeDown","删除:Delete|Backspace:RemoveNode","上级:Shift+Tab|Shift+Insert:AppendParentNode"].forEach(function(e){var t=e.split(":"),n=t.shift(),i=t.shift(),r=t.shift();s.button({position:"ring",label:n,key:i,action:function(){0===r.indexOf("Append")?(c++,a.execCommand(r,"分支主题"),a.on("layoutallfinish",function e(){--c||o.editText(),a.off("layoutallfinish",e)})):(a.execCommand(r),l.jump("normal","command-executed"))},enable:function(){return-1!=a.queryCommandState(r)}})}),s.button({position:"bottom",label:"导入节点",key:"Alt + V",enable:function(){return 1==a.getSelectedNodes().length},action:function(){a.fire("importNodeData")},next:"idle"}),s.button({position:"bottom",label:"导出节点",key:"Alt + C",enable:function(){return 1==a.getSelectedNodes().length},action:function(){a.fire("exportNodeData")},next:"idle"})}}},d[16]={value:function(e,t,n){return n.exports=function(){var t=this.minder,e=this.hotbox;e.state("main").button({position:"top",label:"优先级",key:"P",next:"priority",enable:function(){return-1!=t.queryCommandState("priority")}});var n=e.state("priority");"123456789".replace(/./g,function(e){n.button({position:"ring",label:"P"+e,key:e,action:function(){t.execCommand("Priority",e)}})}),n.button({position:"center",label:"移除",key:"Del",action:function(){t.execCommand("Priority",0)}}),n.button({position:"top",label:"返回",key:"esc",next:"back"})}}},d[17]={value:function(e,t,n){return n.exports=function(){var t=this.minder,e=this.hotbox;e.state("main").button({position:"top",label:"进度",key:"G",next:"progress",enable:function(){return-1!=t.queryCommandState("progress")}});var n=e.state("progress");"012345678".replace(/./g,function(e){n.button({position:"ring",label:"G"+e,key:e,action:function(){t.execCommand("Progress",parseInt(e)+1)}})}),n.button({position:"center",label:"移除",key:"Del",action:function(){t.execCommand("Progress",0)}}),n.button({position:"top",label:"返回",key:"esc",next:"back"})}}},d[18]={value:function(e,t,n){var a=d.r(23);d.r(2);return n.exports=function(){var i=this.fsm,e=this.minder,n=document.createElement("div");n.contentEditable=!0,n.setAttribute("tabindex",-1),n.classList.add("receiver"),n.onkeydown=n.onkeypress=n.onkeyup=o,n.addEventListener("compositionstart",o),this.container.appendChild(n);var t={element:n,selectAll:function(){n.innerHTML||(n.innerHTML="&nbsp;");var e=document.createRange(),t=window.getSelection();e.selectNodeContents(n),t.removeAllRanges(),t.addRange(e),n.focus()},enable:function(){n.setAttribute("contenteditable",!0)},disable:function(){n.setAttribute("contenteditable",!1)},fixFFCaretDisappeared:function(){n.removeAttribute("contenteditable"),n.setAttribute("contenteditable","true"),n.blur(),n.focus()},onblur:function(e){n.onblur=e}};t.selectAll(),e.on("beforemousedown",t.selectAll),e.on("receiverfocus",t.selectAll),e.on("readonly",function(){e.disable(),editor.receiver.element.parentElement.removeChild(editor.receiver.element),editor.hotbox.$container.removeChild(editor.hotbox.$element)});var r=[];function o(e){var t;e.is=function(e){for(var t=e.split("|"),n=0;n<t.length;n++)if(a.is(this,t[n]))return!0;return!1};for(var n=0;n<r.length;n++)if(("*"==(t=r[n]).notifyState||t.notifyState==i.state())&&t.call(null,e))return}t.listen=function(e,t){1==arguments.length&&(t=e,e="*"),t.notifyState=e,r.push(t)},this.receiver=t}}},d[19]={value:function(e,t,n){var i=d.r(20);function r(){}return n.exports=function(t){if(this.flaged=-1!=window.location.search.indexOf(t)){var e=function(e){for(var t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n);return t}(t)%360,n=i("background: hsl({0}, 50%, 80%); color: hsl({0}, 100%, 30%); padding: 2px 3px; margin: 1px 3px 0 0;border-radius: 2px;",e);this.log=function(){var e=i.apply(null,arguments);console.log(i("%c{0}%c{1}",t,e),n,"background: none; color: black;")}}else this.log=r}}},d[20]={value:function(e,t,n){return n.exports=function(e,n){return"object"!=typeof n&&(n=[].slice.call(arguments,1)),String(e).replace(/\{(\w+)\}/gi,function(e,t){return n[t]||t})}}},d[21]={value:function(e,t,n){!("innerText"in document.createElement("a"))&&"getSelection"in window&&(HTMLElement.prototype.__defineGetter__("innerText",function(){var e,t,n=window.getSelection(),i=[];for(t=0;t<n.rangeCount;t++)i[t]=n.getRangeAt(t);for(n.removeAllRanges(),n.selectAllChildren(this),e=n.toString(),n.removeAllRanges(),t=0;t<i.length;t++)n.addRange(i[t]);return e}),HTMLElement.prototype.__defineSetter__("innerText",function(e){this.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}))}},d[22]={value:function(e,t,n){var m=Object.keys?Object.keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};function p(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function g(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}return n.exports=function(e,t){var n=[];return function e(t,n,i,r){for(var o=m(n),a=m(t),l=!1,s=a.length-1;0<=s;s--){var c=t[u=a[s]];if(n.hasOwnProperty(u)){var d=n[u];"object"==typeof c&&null!=c&&"object"==typeof d&&null!=d?e(c,d,i,r+"/"+p(u)):c!=d&&i.push({op:"replace",path:r+"/"+p(u),value:g(d)})}else i.push({op:"remove",path:r+"/"+p(u)}),l=!0}if(l||o.length!=a.length)for(s=0;s<o.length;s++){var u=o[s];t.hasOwnProperty(u)||i.push({op:"add",path:r+"/"+p(u),value:g(n[u])})}}(e,t,n,""),n}}},d[23]={value:function(e,t,n){var i=d.r(24),r=4096,o=8192,a=16384;function l(e){return"string"==typeof e?(t=0,e.toLowerCase().split(/\s*\+\s*/).forEach(function(e){switch(e){case"ctrl":case"cmd":t|=r;break;case"alt":t|=o;break;case"shift":t|=a;break;default:t|=i[e]}}),t):function(e){var t=0;(e.ctrlKey||e.metaKey)&&(t|=r);e.altKey&&(t|=o);e.shiftKey&&(t|=a);if(-1===[16,17,18,91].indexOf(e.keyCode)){if(229===e.keyCode&&e.keyIdentifier)return t|=parseInt(e.keyIdentifier.substr(2),16);t|=e.keyCode}return t}(e);var t}t.hash=l,t.is=function(e,t){return e&&t&&l(e)==l(t)}}},d[24]={value:function(e,t,n){var i={Shift:16,Control:17,Alt:18,CapsLock:20,BackSpace:8,Tab:9,Enter:13,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Direction:{37:1,38:1,39:1,40:1},Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190};for(var r in i)i.hasOwnProperty(r)&&(i[r.toLowerCase()]=i[r]);var o="a".charCodeAt(0);"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(e){i[e]=e.charCodeAt(0)-o+65});for(var a=9;i[a.toString()]=a+48,--a;);n.exports=i}};var e,t={"expose-editor":1};angular.module("kityminderEditor",["ui.bootstrap","ui.codemirror","ui.colorpicker"]).config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self","http://agroup.baidu.com:8910/**","http://cq01-fe-rdtest01.vm.baidu.com:8910/**","http://agroup.baidu.com:8911/**"])}]),angular.module("kityminderEditor").run(["$templateCache",function(e){"use strict";e.put("ui/directive/appendNode/appendNode.html","<div class=\"km-btn-group append-group\"><div class=\"km-btn-item append-child-node\" ng-disabled=\"minder.queryCommandState('AppendChildNode') === -1\" ng-click=\"minder.queryCommandState('AppendChildNode') === -1 || execCommand('AppendChildNode')\" title=\"{{ 'appendchildnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendchildnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item append-parent-node\" ng-disabled=\"minder.queryCommandState('AppendParentNode') === -1\" ng-click=\"minder.queryCommandState('AppendParentNode') === -1 || execCommand('AppendParentNode')\" title=\"{{ 'appendparentnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendparentnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item append-sibling-node\" ng-disabled=\"minder.queryCommandState('AppendSiblingNode') === -1\" ng-click=\"minder.queryCommandState('AppendSiblingNode') === -1 ||execCommand('AppendSiblingNode')\" title=\"{{ 'appendsiblingnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendsiblingnode' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/arrange/arrange.html","<div class=\"km-btn-group arrange-group\"><div class=\"km-btn-item arrange-up\" ng-disabled=\"minder.queryCommandState('ArrangeUp') === -1\" ng-click=\"minder.queryCommandState('ArrangeUp') === -1 || minder.execCommand('ArrangeUp')\" title=\"{{ 'arrangeup' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'arrangeup' | lang:'ui/command' }}</span></div><div class=\"km-btn-item arrange-down\" ng-disabled=\"minder.queryCommandState('ArrangeDown') === -1\" ng-click=\"minder.queryCommandState('ArrangeDown') === -1 || minder.execCommand('ArrangeDown');\" title=\"{{ 'arrangedown' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'arrangedown' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/colorPanel/colorPanel.html",'<div class="bg-color-wrap"><span class="quick-bg-color" ng-click="minder.queryCommandState(\'background\') === -1 || minder.execCommand(\'background\', bgColor)" ng-disabled="minder.queryCommandState(\'background\') === -1"></span> <span color-picker class="bg-color" set-color="setDefaultBg()" ng-disabled="minder.queryCommandState(\'background\') === -1"><span class="caret"></span></span> <span class="bg-color-preview" ng-style="{ \'background-color\': bgColor }" ng-click="minder.queryCommandState(\'background\') === -1 || minder.execCommand(\'background\', bgColor)" ng-disabled="minder.queryCommandState(\'background\') === -1"></span></div>'),e.put("ui/directive/expandLevel/expandLevel.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default expand" title="{{ \'expandtoleaf\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="minder.execCommand(\'ExpandToLevel\', 9999)"></button> <button type="button" class="btn btn-default expand-caption dropdown-toggle" title="{{ \'expandtoleaf\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'expandtoleaf\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'expandtoleaf\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="level in levels"><a href ng-click="minder.execCommand(\'ExpandToLevel\', level)">{{ \'expandtolevel\' + level | lang:\'ui/command\' }}</a></li></ul></div>'),e.put("ui/directive/fontOperator/fontOperator.html",'<div class="font-operator"><div class="dropdown font-family-list" dropdown><div class="dropdown-toggle current-font-item" dropdown-toggle ng-disabled="minder.queryCommandState(\'fontfamily\') === -1"><a href class="current-font-family" title="{{ \'fontfamily\' | lang: \'ui\' }}">{{ getFontfamilyName(minder.queryCommandValue(\'fontfamily\')) || \'字体\' }}</a> <span class="caret"></span></div><ul class="dropdown-menu font-list"><li ng-repeat="f in fontFamilyList" class="font-item-wrap"><a ng-click="minder.execCommand(\'fontfamily\', f.val)" class="font-item" ng-class="{ \'font-item-selected\' : f == minder.queryCommandValue(\'fontfamily\') }" ng-style="{\'font-family\': f.val }">{{ f.name }}</a></li></ul></div><div class="dropdown font-size-list" dropdown><div class="dropdown-toggle current-font-item" dropdown-toggle ng-disabled="minder.queryCommandState(\'fontsize\') === -1"><a href class="current-font-size" title="{{ \'fontsize\' | lang: \'ui\' }}">{{ minder.queryCommandValue(\'fontsize\') || \'字号\' }}</a> <span class="caret"></span></div><ul class="dropdown-menu font-list"><li ng-repeat="f in fontSizeList" class="font-item-wrap"><a ng-click="minder.execCommand(\'fontsize\', f)" class="font-item" ng-class="{ \'font-item-selected\' : f == minder.queryCommandValue(\'fontsize\') }" ng-style="{\'font-size\': f + \'px\'}">{{ f }}</a></li></ul></div><span class="s-btn-icon font-bold" ng-click="minder.queryCommandState(\'bold\') === -1 || minder.execCommand(\'bold\')" ng-class="{\'font-bold-selected\' : minder.queryCommandState(\'bold\') == 1}" ng-disabled="minder.queryCommandState(\'bold\') === -1"></span> <span class="s-btn-icon font-italics" ng-click="minder.queryCommandState(\'italic\') === -1 || minder.execCommand(\'italic\')" ng-class="{\'font-italics-selected\' : minder.queryCommandState(\'italic\') == 1}" ng-disabled="minder.queryCommandState(\'italic\') === -1"></span><div class="font-color-wrap"><span class="quick-font-color" ng-click="minder.queryCommandState(\'forecolor\') === -1 || minder.execCommand(\'forecolor\', foreColor)" ng-disabled="minder.queryCommandState(\'forecolor\') === -1">A</span> <span color-picker class="font-color" set-color="setDefaultColor()" ng-disabled="minder.queryCommandState(\'forecolor\') === -1"><span class="caret"></span></span> <span class="font-color-preview" ng-style="{ \'background-color\': foreColor }" ng-click="minder.queryCommandState(\'forecolor\') === -1 || minder.execCommand(\'forecolor\', foreColor)" ng-disabled="minder.queryCommandState(\'forecolor\') === -1"></span></div><color-panel minder="minder" class="inline-directive"></color-panel></div>'),e.put("ui/directive/hyperLink/hyperLink.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default hyperlink" title="{{ \'link\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addHyperlink()" ng-disabled="minder.queryCommandState(\'HyperLink\') === -1"></button> <button type="button" class="btn btn-default hyperlink-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'HyperLink\') === -1" title="{{ \'link\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'link\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'link\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addHyperlink()">{{ \'insertlink\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'HyperLink\', null)">{{ \'removelink\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/imageBtn/imageBtn.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default image-btn" title="{{ \'image\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addImage()" ng-disabled="minder.queryCommandState(\'Image\') === -1"></button> <button type="button" class="btn btn-default image-btn-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'Image\') === -1" title="{{ \'image\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'image\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'image\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addImage()">{{ \'insertimage\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'Image\', \'\')">{{ \'removeimage\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/kityminderEditor/kityminderEditor.html",'<div class="minder-editor-container"><div class="top-tab" top-tab="minder" editor="editor" ng-if="minder"></div><div search-box minder="minder" ng-if="minder"></div><div class="minder-editor"></div><div class="km-note" note-editor minder="minder" ng-if="minder"></div><div class="note-previewer" note-previewer ng-if="minder"></div><div class="navigator" navigator minder="minder" ng-if="minder"></div></div>'),e.put("ui/directive/kityminderViewer/kityminderViewer.html",'<div class="minder-editor-container"><div class="minder-viewer"></div><div class="note-previewer" note-previewer ng-if="minder"></div><div class="navigator" navigator minder="minder" ng-if="minder"></div></div>'),e.put("ui/directive/layout/layout.html",'<div class="readjust-layout"><a ng-click="minder.queryCommandState(\'resetlayout\') === -1 || minder.execCommand(\'resetlayout\')" class="btn-wrap" ng-disabled="minder.queryCommandState(\'resetlayout\') === -1"><span class="btn-icon reset-layout-icon"></span> <span class="btn-label">{{ \'resetlayout\' | lang: \'ui/command\' }}</span></a></div>'),e.put("ui/directive/navigator/navigator.html",'<div class="nav-bar"><div class="nav-btn zoom-in" ng-click="minder.execCommand(\'zoomIn\')" title="{{ \'zoom-in\' | lang : \'ui\' }}" ng-class="{ \'active\' : getZoomRadio(zoom) == 0 }"><div class="icon"></div></div><div class="zoom-pan"><div class="origin" ng-style="{\'transform\': \'translate(0, \' + getHeight(100) + \'px)\'}" ng-click="minder.execCommand(\'zoom\', 100);"></div><div class="indicator" ng-style="{\n             \'transform\': \'translate(0, \' + getHeight(zoom) + \'px)\',\n             \'transition\': \'transform 200ms\'\n             }"></div></div><div class="nav-btn zoom-out" ng-click="minder.execCommand(\'zoomOut\')" title="{{ \'zoom-out\' | lang : \'ui\' }}" ng-class="{ \'active\' : getZoomRadio(zoom) == 1 }"><div class="icon"></div></div><div class="nav-btn hand" ng-click="minder.execCommand(\'hand\')" title="{{ \'hand\' | lang : \'ui\' }}" ng-class="{ \'active\' : minder.queryCommandState(\'hand\') == 1 }"><div class="icon"></div></div><div class="nav-btn camera" ng-click="minder.execCommand(\'camera\', minder.getRoot(), 600);" title="{{ \'camera\' | lang : \'ui\' }}"><div class="icon"></div></div><div class="nav-btn nav-trigger" ng-class="{\'active\' : isNavOpen}" ng-click="toggleNavOpen()" title="{{ \'navigator\' | lang : \'ui\' }}"><div class="icon"></div></div></div><div class="nav-previewer" ng-show="isNavOpen"></div>'),e.put("ui/directive/noteBtn/noteBtn.html",'<div class="btn-group-vertical note-btn-group" dropdown is-open="isopen"><button type="button" class="btn btn-default note-btn" title="{{ \'note\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addNote()" ng-disabled="minder.queryCommandState(\'note\') === -1"></button> <button type="button" class="btn btn-default note-btn-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'note\') === -1" title="{{ \'note\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'note\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'note\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addNote()">{{ \'insertnote\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'note\', null)">{{ \'removenote\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/noteEditor/noteEditor.html",'<div class="panel panel-default" ng-init="noteEditorOpen = false" ng-show="noteEditorOpen"><div class="panel-heading"><h3 class="panel-title">备注</h3><span>（<a class="help" href="https://www.zybuluo.com/techird/note/46064" target="_blank">支持 GFM 语法书写</a>）</span> <i class="close-note-editor glyphicon glyphicon-remove" ng-click="closeNoteEditor()"></i></div><div class="panel-body"><div ng-show="noteEnabled" ui-codemirror="{ onLoad: codemirrorLoaded }" ng-model="noteContent" ui-codemirror-opts="{\n                gfm: true,\n                breaks: true,\n                lineWrapping : true,\n                mode: \'gfm\',\n                dragDrop: false,\n                lineNumbers:true\n             }"></div><p ng-show="!noteEnabled" class="km-note-tips">请选择节点编辑备注</p></div></div>'),e.put("ui/directive/notePreviewer/notePreviewer.html",'<div id="previewer-content" ng-show="showNotePreviewer" ng-style="previewerStyle" ng-bind-html="noteContent"></div>'),e.put("ui/directive/operation/operation.html","<div class=\"km-btn-group operation-group\"><div class=\"km-btn-item edit-node\" ng-disabled=\"minder.queryCommandState('text') === -1\" ng-click=\"minder.queryCommandState('text') === -1 || editNode()\" title=\"{{ 'editnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'editnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item remove-node\" ng-disabled=\"minder.queryCommandState('RemoveNode') === -1\" ng-click=\"minder.queryCommandState('RemoveNode') === -1 || minder.execCommand('RemoveNode');\" title=\"{{ 'removenode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'removenode' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/priorityEditor/priorityEditor.html",'<ul class="km-priority tool-group" ng-disabled="commandDisabled"><li class="km-priority-item tool-group-item" ng-repeat="p in priorities" ng-click="commandDisabled || minder.execCommand(\'priority\', p)" ng-class="{ active: commandValue == p }" title="{{ getPriorityTitle(p) }}"><div class="km-priority-icon tool-group-icon priority-{{p}}"></div></li></ul>'),e.put("ui/directive/progressEditor/progressEditor.html",'<ul class="km-progress tool-group" ng-disabled="commandDisabled"><li class="km-progress-item tool-group-item" ng-repeat="p in progresses" ng-click="commandDisabled || minder.execCommand(\'progress\', p)" ng-class="{ active: commandValue == p }" title="{{ getProgressTitle(p) }}"><div class="km-progress-icon tool-group-icon progress-{{p}}"></div></li></ul>'),e.put("ui/directive/resourceEditor/resourceEditor.html",'<div class="resource-editor"><div class="input-group"><input class="form-control" type="text" ng-model="newResourceName" ng-required ng-keypress="$event.keyCode == 13 && addResource(newResourceName)" ng-disabled="!enabled"> <span class="input-group-btn"><button class="btn btn-default" ng-click="addResource(newResourceName)" ng-disabled="!enabled">添加</button></span></div><div class="resource-dropdown clearfix" id="resource-dropdown"><ul class="km-resource" ng-init="resourceListOpen = false" ng-class="{\'open\': resourceListOpen}"><li ng-repeat="resource in used" ng-disabled="!enabled" ng-blur="blurCB()"><label style="background: {{resourceColor(resource.name)}}"><input type="checkbox" ng-model="resource.selected" ng-disabled="!enabled"> <span>{{resource.name}}</span></label></li></ul><div class="resource-caret" click-anywhere-but-here="resourceListOpen = false" is-active="resourceListOpen" ng-click="resourceListOpen = !resourceListOpen"><span class="caret"></span></div></div></div>'),e.put("ui/directive/searchBox/searchBox.html",'<div id="search" class="search-box clearfix" ng-show="showSearch"><div class="input-group input-group-sm search-input-wrap"><input type="text" id="search-input" class="form-control search-input" ng-model="keyword" ng-keydown="handleKeyDown($event)" aria-describedby="basic-addon2"> <span class="input-group-addon search-addon" id="basic-addon2" ng-show="showTip" ng-bind="\'第 \' + curIndex + \' 条，共 \' + resultNum + \' 条\'"></span></div><div class="btn-group btn-group-sm prev-and-next-btn" role="group"><button type="button" class="btn btn-default" ng-click="doSearch(keyword, \'prev\')"><span class="glyphicon glyphicon-chevron-up"></span></button> <button type="button" class="btn btn-default" ng-click="doSearch(keyword, \'next\')"><span class="glyphicon glyphicon-chevron-down"></span></button></div><div class="close-search" ng-click="exitSearch()"><span class="glyphicon glyphicon-remove"></span></div></div>'),e.put("ui/directive/searchBtn/searchBtn.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default search" title="{{ \'search\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="enterSearch()"></button> <button type="button" class="btn btn-default search-caption dropdown-toggle" ng-click="enterSearch()" title="{{ \'search\' | lang:\'ui\' }}"><span class="caption">{{ \'search\' | lang:\'ui\' }}</span> <span class="sr-only">{{ \'search\' | lang:\'ui\' }}</span></button></div>'),e.put("ui/directive/selectAll/selectAll.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default select" title="{{ \'selectall\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="select[\'all\']()"></button> <button type="button" class="btn btn-default select-caption dropdown-toggle" title="{{ \'selectall\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'selectall\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'selectall\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="item in items"><a href ng-click="select[item]()">{{ \'select\' + item | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/styleOperator/styleOperator.html",'<div class="style-operator"><a ng-click="minder.queryCommandState(\'clearstyle\') === -1 || minder.execCommand(\'clearstyle\')" class="btn-wrap clear-style" ng-disabled="minder.queryCommandState(\'clearstyle\') === -1"><span class="btn-icon clear-style-icon"></span> <span class="btn-label">{{ \'clearstyle\' | lang: \'ui\' }}</span></a><div class="s-btn-group-vertical"><a class="s-btn-wrap" href ng-click="minder.queryCommandState(\'copystyle\') === -1 || minder.execCommand(\'copystyle\')" ng-disabled="minder.queryCommandState(\'copystyle\') === -1"><span class="s-btn-icon copy-style-icon"></span> <span class="s-btn-label">{{ \'copystyle\' | lang: \'ui\' }}</span></a> <a class="s-btn-wrap paste-style-wrap" href ng-click="minder.queryCommandState(\'pastestyle\') === -1 || minder.execCommand(\'pastestyle\')" ng-disabled="minder.queryCommandState(\'pastestyle\') === -1"><span class="s-btn-icon paste-style-icon"></span> <span class="s-btn-label">{{ \'pastestyle\' | lang: \'ui\' }}</span></a></div></div>'),e.put("ui/directive/templateList/templateList.html",'<div class="dropdown temp-panel" dropdown on-toggle="toggled(open)"><div class="dropdown-toggle current-temp-item" ng-disabled="minder.queryCommandState(\'template\') === -1" dropdown-toggle><a href class="temp-item {{ minder.queryCommandValue(\'template\') }}" title="{{ minder.queryCommandValue(\'template\') | lang: \'template\' }}"></a> <span class="caret"></span></div><ul class="dropdown-menu temp-list"><li ng-repeat="(key, templateObj) in templateList" class="temp-item-wrap"><a ng-click="minder.execCommand(\'template\', key);" class="temp-item {{key}}" ng-class="{ \'temp-item-selected\' : key == minder.queryCommandValue(\'template\') }" title="{{ key | lang: \'template\' }}"></a></li></ul></div>'),e.put("ui/directive/themeList/themeList.html",'<div class="dropdown theme-panel" dropdown><div class="dropdown-toggle theme-item-selected" dropdown-toggle ng-disabled="minder.queryCommandState(\'theme\') === -1"><a href class="theme-item" ng-style="getThemeThumbStyle(minder.queryCommandValue(\'theme\'))" title="{{ minder.queryCommandValue(\'theme\') | lang: \'theme\'; }}">{{ minder.queryCommandValue(\'theme\') | lang: \'theme\'; }}</a> <span class="caret"></span></div><ul class="dropdown-menu theme-list"><li ng-repeat="key in themeKeyList" class="theme-item-wrap"><a ng-click="minder.execCommand(\'theme\', key);" class="theme-item" ng-style="getThemeThumbStyle(key)" title="{{ key | lang: \'theme\'; }}">{{ key | lang: \'theme\'; }}</a></li></ul></div>'),e.put("ui/directive/topTab/topTab.html",'<tabset><tab heading="{{ \'idea\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'idea\')" select="setCurTab(\'idea\')"><undo-redo editor="editor"></undo-redo><append-node minder="minder"></append-node><arrange minder="minder"></arrange><operation minder="minder"></operation><hyper-link minder="minder"></hyper-link><image-btn minder="minder"></image-btn><note-btn minder="minder"></note-btn><priority-editor minder="minder"></priority-editor><progress-editor minder="minder"></progress-editor><resource-editor minder="minder"></resource-editor></tab><tab heading="{{ \'appearence\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'appearance\')" select="setCurTab(\'appearance\')"><template-list minder="minder" class="inline-directive"></template-list><theme-list minder="minder"></theme-list><layout minder="minder" class="inline-directive"></layout><style-operator minder="minder" class="inline-directive"></style-operator><font-operator minder="minder" class="inline-directive"></font-operator></tab><tab heading="{{ \'view\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'view\')" select="setCurTab(\'view\')"><expand-level minder="minder"></expand-level><select-all minder="minder"></select-all><search-btn minder="minder"></search-btn></tab></tabset>'),e.put("ui/directive/undoRedo/undoRedo.html",'<div class="km-btn-group do-group"><div class="km-btn-item undo" ng-disabled="editor.history.hasUndo() == false" ng-click="editor.history.hasUndo() == false || editor.history.undo();" title="{{ \'undo\' | lang:\'ui\' }}"><i class="km-btn-icon"></i></div><div class="km-btn-item redo" ng-disabled="editor.history.hasRedo() == false" ng-click="editor.history.hasRedo() == false || editor.history.redo()" title="{{ \'redo\' | lang:\'ui\' }}"><i class="km-btn-icon"></i></div></div>'),e.put("ui/dialog/hyperlink/hyperlink.tpl.html",'<div class="modal-header"><h3 class="modal-title">链接</h3></div><div class="modal-body"><form><div class="form-group" id="link-url-wrap" ng-class="{true: \'has-success\', false: \'has-error\'}[urlPassed]"><label for="link-url">链接地址：</label><input type="text" class="form-control" ng-model="url" ng-blur="urlPassed = R_URL.test(url)" ng-focus="this.value = url" ng-keydown="shortCut($event)" id="link-url" placeholder="必填：以 http(s):// 或 ftp:// 开头"></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="link-title">提示文本：</label><input type="text" class="form-control" ng-model="title" ng-blur="titlePassed = true" id="link-title" placeholder="选填：鼠标在链接上悬停时提示的文本"></div></form></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">确定</button> <button class="btn btn-warning" ng-click="cancel()">取消</button></div>'),e.put("ui/dialog/imExportNode/imExportNode.tpl.html",'<div class="modal-header"><h3 class="modal-title">{{ title }}</h3></div><div class="modal-body"><textarea type="text" class="form-control single-input" rows="8" ng-keydown="shortCut($event);" ng-model="value" ng-readonly="type === \'export\'">\n    </textarea></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()" ng-disabled="type === \'import\' && value == \'\'">OK</button> <button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>'),e.put("ui/dialog/image/image.tpl.html",'<div class="modal-header"><h3 class="modal-title">图片</h3></div><div class="modal-body"><tabset><tab heading="图片搜索"><form class="form-inline"><div class="form-group"><label for="search-keyword">关键词：</label><input type="text" class="form-control" ng-model="data.searchKeyword2" id="search-keyword" placeholder="请输入搜索的关键词"></div><button class="btn btn-primary" ng-click="searchImage()">百度一下</button></form><div class="search-result" id="search-result"><ul><li ng-repeat="image in list" id="{{ \'img-item\' + $index }}" ng-class="{\'selected\' : isSelected}" ng-click="selectImage($event)"><img id="{{ \'img-\' + $index }}" ng-src="{{ image.src || \'\' }}" alt="{{ image.title }}" onerror="this.parentNode.removeChild(this)"> <span>{{ image.title }}</span></li></ul></div></tab><tab heading="外链图片"><form><div class="form-group" ng-class="{true: \'has-success\', false: \'has-error\'}[urlPassed]"><label for="image-url">链接地址：</label><input type="text" class="form-control" ng-model="data.url" ng-blur="urlPassed = data.R_URL.test(data.url)" ng-focus="this.value = data.url" ng-keydown="shortCut($event)" id="image-url" placeholder="必填：以 http(s):// 开头"></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="image-title">提示文本：</label><input type="text" class="form-control" ng-model="data.title" ng-blur="titlePassed = true" id="image-title" placeholder="选填：鼠标在图片上悬停时提示的文本"></div><div class="form-group"><label for="image-preview">图片预览：</label><img class="image-preview" id="image-preview" ng-src="{{ data.url }}" alt="{{ data.title }}"></div></form></tab><tab heading="上传图片" active="true"><form><div class="form-group"><input type="file" name="upload-image" id="upload-image" class="upload-image" accept=".jpg,.JPG,jpeg,JPEG,.png,.PNG,.gif,.GIF" onchange="angular.element(this).scope().uploadImage()"><label for="upload-image" class="btn btn-primary"><span>选择文件&hellip;</span></label></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="image-title">提示文本：</label><input type="text" class="form-control" ng-model="data.title" ng-blur="titlePassed = true" id="image-title" placeholder="选填：鼠标在图片上悬停时提示的文本"></div><div class="form-group"><label for="image-preview">图片预览：</label><img class="image-preview" id="image-preview" ng-src="{{ data.url }}" title="{{ data.title }}" alt="{{ data.title }}"></div></form></tab></tabset></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">确定</button> <button class="btn btn-warning" ng-click="cancel()">取消</button></div>')}]),angular.module("kityminderEditor").service("commandBinder",function(){return{bind:function(e,t,n){e.on("interactchange",function(){n.commandDisabled=-1===e.queryCommandState(t),n.commandValue=e.queryCommandValue(t),n.$apply()})}}}),angular.module("kityminderEditor").provider("config",function(){this.config={ctrlPanelMin:250,ctrlPanelWidth:parseInt(window.localStorage.__dev_minder_ctrlPanelWidth)||250,dividerWidth:3,defaultLang:"zh-cn",zoom:[10,20,30,50,80,100,120,150,200],imageUpload:"server/imageUpload.php"},this.set=function(e,t){var n=Object.keys(this.config),i={};for(var r in"object"==typeof e?i=e:i[e]=t,i){if(!i.hasOwnProperty(r)||-1===n.indexOf(r))return console.error("Unsupported config key: ",e,", please choose in :",n.join(", ")),!1;this.config[r]=i[r]}return!0},this.$get=function(){var t=this;return{get:function(e){return 0===arguments.length?t.config:t.config.hasOwnProperty(e)?t.config[e]:(console.warn("Missing config key pair for : ",e),"")}}}}),angular.module("kityminderEditor").service("lang.zh-cn",function(){return{"zh-cn":{template:{default:"思维导图",tianpan:"天盘图",structure:"组织结构图",filetree:"目录组织图",right:"逻辑结构图","fish-bone":"鱼骨头图"},theme:{classic:"脑图经典","classic-compact":"紧凑经典",snow:"温柔冷光","snow-compact":"紧凑冷光",fish:"鱼骨图",wire:"线框","fresh-red":"清新红","fresh-soil":"泥土黄","fresh-green":"文艺绿","fresh-blue":"天空蓝","fresh-purple":"浪漫紫","fresh-pink":"脑残粉","fresh-red-compat":"紧凑红","fresh-soil-compat":"紧凑黄","fresh-green-compat":"紧凑绿","fresh-blue-compat":"紧凑蓝","fresh-purple-compat":"紧凑紫","fresh-pink-compat":"紧凑粉",tianpan:"经典天盘","tianpan-compact":"紧凑天盘"},maintopic:"中心主题",topic:"分支主题",panels:{history:"历史",template:"模板",theme:"皮肤",layout:"布局",style:"样式",font:"文字",color:"颜色",background:"背景",insert:"插入",arrange:"调整",nodeop:"当前",priority:"优先级",progress:"进度",resource:"资源",note:"备注",attachment:"附件",word:"文字"},error_message:{title:"哎呀，脑图出错了",err_load:"加载脑图失败",err_save:"保存脑图失败",err_network:"网络错误",err_doc_resolve:"文档解析失败",err_unknown:"发生了奇怪的错误",err_localfile_read:"文件读取错误",err_download:"文件下载失败",err_remove_share:"取消分享失败",err_create_share:"分享失败",err_mkdir:"目录创建失败",err_ls:"读取目录失败",err_share_data:"加载分享内容出错",err_share_sync_fail:"分享内容同步失败",err_move_file:"文件移动失败",err_rename:"重命名失败",unknownreason:"可能是外星人篡改了代码...",pcs_code:{3:"不支持此接口",4:"没有权限执行此操作",5:"IP未授权",110:"用户会话已过期，请重新登录",31001:"数据库查询错误",31002:"数据库连接错误",31003:"数据库返回空结果",31021:"网络错误",31022:"暂时无法连接服务器",31023:"输入参数错误",31024:"app id为空",31025:"后端存储错误",31041:"用户的cookie不是合法的百度cookie",31042:"用户未登陆",31043:"用户未激活",31044:"用户未授权",31045:"用户不存在",31046:"用户已经存在",31061:"文件已经存在",31062:"文件名非法",31063:"文件父目录不存在",31064:"无权访问此文件",31065:"目录已满",31066:"文件不存在",31067:"文件处理出错",31068:"文件创建失败",31069:"文件拷贝失败",31070:"文件删除失败",31071:"不能读取文件元信息",31072:"文件移动失败",31073:"文件重命名失败",31079:"未找到文件MD5，请使用上传API上传整个文件。",31081:"superfile创建失败",31082:"superfile 块列表为空",31083:"superfile 更新失败",31101:"tag系统内部错误",31102:"tag参数错误",31103:"tag系统错误",31110:"未授权设置此目录配额",31111:"配额管理只支持两级目录",31112:"超出配额",31113:"配额不能超出目录祖先的配额",31114:"配额不能比子目录配额小",31141:"请求缩略图服务失败",31201:"签名错误",31202:"文件不存在",31203:"设置acl失败",31204:"请求acl验证失败",31205:"获取acl失败",31206:"acl不存在",31207:"bucket已存在",31208:"用户请求错误",31209:"服务器错误",31210:"服务器不支持",31211:"禁止访问",31212:"服务不可用",31213:"重试出错",31214:"上传文件data失败",31215:"上传文件meta失败",31216:"下载文件data失败",31217:"下载文件meta失败",31218:"容量超出限额",31219:"请求数超出限额",31220:"流量超出限额",31298:"服务器返回值KEY非法",31299:"服务器返回值KEY不存在"}},ui:{shared_file_title:"[分享的] {0} (只读)",load_share_for_edit:"正在加载分享的文件...",share_sync_success:"分享内容已同步",recycle_clear_confirm:"确认清空回收站么？清空后的文件无法恢复。",fullscreen_exit_hint:"按 Esc 或 F11 退出全屏",error_detail:"详细信息",copy_and_feedback:"复制并反馈",move_file_confirm:'确定把 "{0}" 移动到 "{1}" 吗？',rename:"重命名",rename_success:"{0} 重命名成功",move_success:"{0} 移动成功到 {1}",command:{appendsiblingnode:"插入同级主题",appendparentnode:"插入上级主题",appendchildnode:"插入下级主题",removenode:"删除",editnode:"编辑",arrangeup:"上移",arrangedown:"下移",resetlayout:"整理布局",expandtoleaf:"展开全部节点",expandtolevel1:"展开到一级节点",expandtolevel2:"展开到二级节点",expandtolevel3:"展开到三级节点",expandtolevel4:"展开到四级节点",expandtolevel5:"展开到五级节点",expandtolevel6:"展开到六级节点",fullscreen:"全屏",outline:"大纲"},search:"搜索",expandtoleaf:"展开",back:"返回",undo:"撤销 (Ctrl + Z)",redo:"重做 (Ctrl + Y)",tabs:{idea:"思路",appearence:"外观",view:"视图"},quickvisit:{new:"新建 (Ctrl + Alt + N)",save:"保存 (Ctrl + S)",share:"分享 (Ctrl + Alt + S)",feedback:"反馈问题（F1）",editshare:"编辑"},menu:{mainmenutext:"百度脑图",newtab:"新建",opentab:"打开",savetab:"保存",sharetab:"分享",preferencetab:"设置",helptab:"帮助",feedbacktab:"反馈",recenttab:"最近使用",netdisktab:"百度云存储",localtab:"本地文件",drafttab:"草稿箱",downloadtab:"导出到本地",createsharetab:"当前脑图",managesharetab:"已分享",newheader:"新建脑图",openheader:"打开",saveheader:"保存到",draftheader:"草稿箱",shareheader:"分享我的脑图",downloadheader:"导出到指定格式",preferenceheader:"偏好设置",helpheader:"帮助",feedbackheader:"反馈"},mydocument:"我的文档",emptydir:"目录为空！",pickfile:"选择文件...",acceptfile:"支持的格式：{0}",dropfile:"或将文件拖至此处",unsupportedfile:"不支持的文件格式",untitleddoc:"未命名文档",overrideconfirm:"{0} 已存在，确认覆盖吗？",checklogin:"检查登录状态中...",loggingin:"正在登录...",recent:"最近打开",clearrecent:"清空",clearrecentconfirm:"确认清空最近文档列表？",cleardraft:"清空",cleardraftconfirm:"确认清空草稿箱？",none_share:"不分享",public_share:"公开分享",password_share:"私密分享",email_share:"邮件邀请",url_share:"脑图 URL 地址：",sns_share:"社交网络分享：",sns_share_text:"“{0}” - 我用百度脑图制作的思维导图，快看看吧！（地址：{1}）",none_share_description:"不分享当前脑图",public_share_description:"创建任何人可见的分享",share_button_text:"创建",password_share_description:"创建需要密码才可见的分享",email_share_description:"创建指定人可见的分享，您还可以允许他们编辑",ondev:"敬请期待！",create_share_failed:"分享失败：{0}",remove_share_failed:"删除失败：{1}",copy:"复制",copied:"已复制",shared_tip:"当前脑图被 {0}  分享，你可以修改之后保存到自己的网盘上或再次分享",current_share:"当前脑图",manage_share:"我的分享",share_remove_action:"不分享该脑图",share_view_action:"打开分享地址",share_edit_action:"编辑分享的文件",login:"登录",logout:"注销",switchuser:"切换账户",userinfo:"个人信息",gotonetdisk:"我的网盘",requirelogin:'请 <a class="login-button">登录</a> 后使用',saveas:"保存为",filename:"文件名",fileformat:"保存格式",save:"保存",mkdir:"新建目录",recycle:"回收站",newdir:"未命名目录",bold:"加粗",italic:"斜体",forecolor:"字体颜色",fontfamily:"字体",fontsize:"字号",layoutstyle:"主题",node:"节点操作",saveto:"另存为",hand:"允许拖拽",camera:"定位根节点","zoom-in":"放大（Ctrl+）","zoom-out":"缩小（Ctrl-）",markers:"标签",resource:"资源",help:"帮助",preference:"偏好设置",expandnode:"展开到叶子",collapsenode:"收起到一级节点",template:"模板",theme:"皮肤",clearstyle:"清除样式",copystyle:"复制样式",pastestyle:"粘贴样式",appendsiblingnode:"同级主题",appendchildnode:"下级主题",arrangeup:"前调",arrangedown:"后调",editnode:"编辑",removenode:"移除",priority:"优先级",progress:{p1:"未开始",p2:"完成 1/8",p3:"完成 1/4",p4:"完成 3/8",p5:"完成一半",p6:"完成 5/8",p7:"完成 3/4",p8:"完成 7/8",p9:"已完成",p0:"清除进度"},link:"链接",image:"图片",note:"备注",insertlink:"插入链接",insertimage:"插入图片",insertnote:"插入备注",removelink:"移除已有链接",removeimage:"移除已有图片",removenote:"移除已有备注",resetlayout:"整理",justnow:"刚刚",minutesago:"{0} 分钟前",hoursago:"{0} 小时前",yesterday:"昨天",daysago:"{0} 天前",longago:"很久之前",redirect:"您正在打开连接 {0}，百度脑图不能保证连接的安全性，是否要继续？",navigator:"导航器",unsavedcontent:"当前文件还没有保存到网盘：\n\n{0}\n\n虽然未保存的数据会缓存在草稿箱，但是清除浏览器缓存会导致草稿箱清除。",shortcuts:"快捷键",contact:"联系与反馈",email:"邮件组",qq_group:"QQ 群",github_issue:"Github",baidu_tieba:"贴吧",clipboardunsupported:"您的浏览器不支持剪贴板，请使用快捷键复制",load_success:"{0} 加载成功",save_success:"{0} 已保存于 {1}",autosave_success:"{0} 已自动保存于 {1}",selectall:"全选",selectrevert:"反选",selectsiblings:"选择兄弟节点",selectlevel:"选择同级节点",selectpath:"选择路径",selecttree:"选择子树"},popupcolor:{clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色"},dialogs:{markers:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口："},priority:"优先级",none:"无",progress:{title:"进度",notdone:"未完成",done1:"完成 1/8",done2:"完成 1/4",done3:"完成 3/8",done4:"完成 1/2",done5:"完成 5/8",done6:"完成 3/4",done7:"完成 7/8",done:"已完成"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"链接...",unhyperlink:"移除链接"},image:{image:"图片...",removeimage:"移除图片"},marker:{marker:"进度/优先级..."},resource:{resource:"资源..."}}}}),angular.module("kityminderEditor").service("memory",function(){return{get:function(e){var t=window.localStorage.getItem(e);return JSON.parse(t)},set:function(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){if(function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}(e))return!1}},remove:function(e){var t=window.localStorage.getItem(e);return window.localStorage.removeItem(e),t},clear:function(){window.localStorage.clear()}}}),angular.module("kityminderEditor").service("minder.service",function(){var t=[];return{registerEvent:function(e){t.push(e)},executeCallback:function(){t.forEach(function(e){e.apply(this,arguments)})}}}),angular.module("kityminderEditor").service("resourceService",["$document",function(t){var n=null;this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.resourceListOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))};var i=function(e){if(n){var t=n.getToggleElement();e&&t&&t[0].contains(e.target)||n.$apply(function(){console.log("to close the resourcelist"),n.resourceListOpen=!1})}},r=function(e){27===e.which&&(n.focusToggleElement(),i())}}]),angular.module("kityminderEditor").service("revokeDialog",["$modal","minder.service",function(e,t){return t.registerEvent(function(){var t=window.minder,n=window.editor,i=n.hotbox.getParentFSM();t.on("importNodeData",function(){i.jump("modal","import-text-modal"),e.open({animation:!0,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导入节点"},defaultValue:function(){return""},type:function(){return"import"}}}).result.then(function(e){try{t.Text2Children(t.getSelectedNode(),e)}catch(e){alert(e)}i.jump("normal","import-text-finish"),n.receiver.selectAll()},function(){i.jump("normal","import-text-finish"),n.receiver.selectAll()})}),t.on("exportNodeData",function(){i.jump("modal","export-text-modal"),e.open({animation:!0,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导出节点"},defaultValue:function(){var e=t.getSelectedNode();return(0,window.kityminder.data.getRegisterProtocol("text").Node2Text)(e)},type:function(){return"export"}}}).result.then(function(e){i.jump("normal","export-text-finish"),n.receiver.selectAll()},function(){i.jump("normal","export-text-finish"),n.receiver.selectAll()})})}),{}}]),angular.module("kityminderEditor").service("server",["config","$http",function(i,r){return{uploadImage:function(e){var t=i.get("imageUpload"),n=new FormData;return n.append("upload_file",e),r.post(t,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}}]),angular.module("kityminderEditor").service("valueTransfer",function(){return{}}),angular.module("kityminderEditor").filter("commandState",function(){return function(e,t){return e.queryCommandState(t)}}).filter("commandValue",function(){return function(e,t){return e.queryCommandValue(t)}}),angular.module("kityminderEditor").filter("lang",["config","lang.zh-cn",function(r,o){return function(e,t){var n=r.get("defaultLang");if(null==o[n])return"未发现对应语言包，请检查 lang.xxx.service.js!";var i=o[n];return t.split("/").forEach(function(e,t){i=i[e]}),i[e]||null}}]),angular.module("kityminderEditor").controller("hyperlink.ctrl",["$scope","$modalInstance","link",function(t,n,e){t.R_URL=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),t.url=e.url||"",t.title=e.title||"",setTimeout(function(){var e=$("#link-url");e.focus(),e[0].setSelectionRange(0,t.url.length)},30),t.shortCut=function(e){e.stopPropagation(),13==e.keyCode?t.ok():27==e.keyCode&&t.cancel()},t.ok=function(){if(t.R_URL.test(t.url))n.close({url:t.url,title:t.title});else{t.urlPassed=!1;var e=$("#link-url");e.focus(),e[0].setSelectionRange(0,t.url.length)}editor.receiver.selectAll()},t.cancel=function(){n.dismiss("cancel"),editor.receiver.selectAll()}}]),angular.module("kityminderEditor").controller("imExportNode.ctrl",["$scope","$modalInstance","title","defaultValue","type",function(r,e,t,n,o){r.title=t,r.value=n,r.type=o,r.ok=function(){""!=r.value&&(e.close(r.value),editor.receiver.selectAll())},r.cancel=function(){e.dismiss("cancel"),editor.receiver.selectAll()},setTimeout(function(){$(".single-input").focus(),$(".single-input")[0].setSelectionRange(0,n.length)},30),r.shortCut=function(e){if(e.stopPropagation(),27==e.keyCode&&r.cancel(),8==e.keyCode&&"export"==o&&e.preventDefault(),9==e.keyCode){e.preventDefault();var t=e.target,n=function(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}(t),i=t.value;t.value=i.substr(0,n)+"\t"+i.substr(n),function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}(t,n+1)}}}]),angular.module("kityminderEditor").controller("image.ctrl",["$http","$scope","$modalInstance","image","server",function(i,r,t,e,n){r.data={list:[],url:e.url||"",title:e.title||"",R_URL:/^https?\:\/\/\w+/},setTimeout(function(){var e=$("#image-url");e.focus(),e[0].setSelectionRange(0,r.data.url.length)},300),r.searchImage=function(){var e,t,n;r.list=[],(e=r.data.searchKeyword2,t=new Date,n="http://image.baidu.com/search/acjson?tn=resultjson_com&ipn=rj&ct=201326592&fp=result&queryWord="+e+"&cl=2&lm=-1&ie=utf-8&oe=utf-8&st=-1&ic=0&word="+e+"&face=0&istype=2&nc=1&pn=60&rn=60&gsm=3c&"+t.getTime()+"=&callback=JSON_CALLBACK",i.jsonp(n)).success(function(e){if(e&&e.data)for(var t=0;t<e.data.length;t++)e.data[t].objURL&&r.list.push({title:e.data[t].fromPageTitleEnc,src:e.data[t].middleURL,url:e.data[t].middleURL})}).error(function(){})},r.selectImage=function(e){var t=$("#img-item"+this.$index),n=$("#img-"+this.$index);t.siblings(".selected").removeClass("selected"),t.addClass("selected"),r.data.url=n.attr("src"),r.data.title=n.attr("alt")},r.uploadImage=function(){var e=$("#upload-image");if(e.val()){if(/^.*\.(jpg|JPG|jpeg|JPEG|gif|GIF|png|PNG)$/.test(e.val())){var t=e[0].files[0];return n.uploadImage(t).then(function(e){var t=e.data;0===t.errno&&(r.data.url=t.data.url)})}alert("后缀只能是 jpg、gif 及 png")}},r.shortCut=function(e){e.stopPropagation(),13==e.keyCode?r.ok():27==e.keyCode&&r.cancel()},r.ok=function(){if(r.data.R_URL.test(r.data.url))t.close({url:r.data.url,title:r.data.title});else{r.urlPassed=!1;var e=$("#image-url");e&&(e.focus(),e[0].setSelectionRange(0,r.data.url.length))}editor.receiver.selectAll()},r.cancel=function(){t.dismiss("cancel"),editor.receiver.selectAll()}}]),angular.module("kityminderEditor").directive("appendNode",["commandBinder",function(t){return{restrict:"E",templateUrl:"ui/directive/appendNode/appendNode.html",scope:{minder:"="},replace:!0,link:function(e){var r=e.minder;t.bind(r,"appendchildnode",e),e.execCommand=function(e){var t,n,i;r.execCommand(e,"分支主题"),t=editor.receiver.element,n=editor.fsm,i=editor.receiver,t.innerText=r.queryCommandValue("text"),n.jump("input","input-request"),i.selectAll()}}}}]),angular.module("kityminderEditor").directive("arrange",["commandBinder",function(e){return{restrict:"E",templateUrl:"ui/directive/arrange/arrange.html",scope:{minder:"="},replace:!0,link:function(e){e.minder}}}]),angular.module("kityminderEditor").directive("colorPanel",function(){return{restrict:"E",templateUrl:"ui/directive/colorPanel/colorPanel.html",scope:{minder:"="},replace:!0,link:function(n){var i=n.minder;i.getThemeItems();n.$on("colorPicked",function(e,t){e.stopPropagation(),n.bgColor=t,i.execCommand("background",t)}),n.setDefaultBg=function(){var e=i.getSelectedNode(),t=i.getNodeStyle(e,"background");return"object"==typeof t?t.toHEX():t},n.bgColor=n.setDefaultBg()||"#fff"}}}),angular.module("kityminderEditor").directive("expandLevel",function(){return{restrict:"E",templateUrl:"ui/directive/expandLevel/expandLevel.html",scope:{minder:"="},replace:!0,link:function(e){e.levels=[1,2,3,4,5,6]}}}),angular.module("kityminderEditor").directive("fontOperator",function(){return{restrict:"E",templateUrl:"ui/directive/fontOperator/fontOperator.html",scope:{minder:"="},replace:!0,link:function(n){var i=n.minder;i.getThemeItems();n.fontSizeList=[10,12,16,18,24,32,48],n.fontFamilyList=[{name:"宋体",val:"宋体,SimSun"},{name:"微软雅黑",val:"微软雅黑,Microsoft YaHei"},{name:"楷体",val:"楷体,楷体_GB2312,SimKai"},{name:"黑体",val:"黑体, SimHei"},{name:"隶书",val:"隶书, SimLi"},{name:"Andale Mono",val:"andale mono"},{name:"Arial",val:"arial,helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"Comic Sans Ms",val:"comic sans ms"},{name:"Impact",val:"impact,chicago"},{name:"Times New Roman",val:"times new roman"},{name:"Sans-Serif",val:"sans-serif"}],n.$on("colorPicked",function(e,t){e.stopPropagation(),n.foreColor=t,i.execCommand("forecolor",t)}),n.setDefaultColor=function(){var e=i.getSelectedNode(),t=i.getNodeStyle(e,"color");return"object"==typeof t?t.toHEX():t},n.foreColor=n.setDefaultColor()||"#000",n.getFontfamilyName=function(i){var r="";return n.fontFamilyList.forEach(function(e,t,n){if(e.val===i)return r=e.name,""}),r}}}}),angular.module("kityminderEditor").directive("hyperLink",["$modal",function(n){return{restrict:"E",templateUrl:"ui/directive/hyperLink/hyperLink.html",scope:{minder:"="},replace:!0,link:function(e){var t=e.minder;e.addHyperlink=function(){var e=t.queryCommandValue("HyperLink");n.open({animation:!0,templateUrl:"ui/dialog/hyperlink/hyperlink.tpl.html",controller:"hyperlink.ctrl",size:"md",resolve:{link:function(){return e}}}).result.then(function(e){t.execCommand("HyperLink",e.url,e.title||"")})}}}}]),angular.module("kityminderEditor").directive("imageBtn",["$modal",function(n){return{restrict:"E",templateUrl:"ui/directive/imageBtn/imageBtn.html",scope:{minder:"="},replace:!0,link:function(e){var t=e.minder;e.addImage=function(){var e=t.queryCommandValue("image");n.open({animation:!0,templateUrl:"ui/dialog/image/image.tpl.html",controller:"image.ctrl",size:"md",resolve:{image:function(){return e}}}).result.then(function(e){t.execCommand("image",e.url,e.title||"")})}}}}]),angular.module("kityminderEditor").directive("kityminderEditor",["config","minder.service","revokeDialog",function(a,l,e){return{restrict:"EA",templateUrl:"ui/directive/kityminderEditor/kityminderEditor.html",replace:!0,scope:{onInit:"&"},link:function(i,e,t){var r=e.children(".minder-editor")[0];function o(e,t){i.onInit({editor:e,minder:t}),l.executeCallback()}if("undefined"!=typeof seajs)seajs.config({base:"./src"}),define("demo",function(e){var t=e("editor"),n=window.editor=new t(r);window.localStorage.__dev_minder_content&&n.minder.importJson(JSON.parse(window.localStorage.__dev_minder_content)),n.minder.on("contentchange",function(){window.localStorage.__dev_minder_content=JSON.stringify(n.minder.exportJson())}),window.minder=window.km=n.minder,i.editor=n,i.minder=minder,i.config=a.get(),i.$apply(),o(n,minder)}),seajs.use("demo");else if(window.kityminder&&window.kityminder.Editor){var n=new kityminder.Editor(r);window.editor=i.editor=n,window.minder=i.minder=n.minder,i.config=a.get(),o(n,n.minder)}}}}]),angular.module("kityminderEditor").directive("kityminderViewer",["config","minder.service",function(e,l){return{restrict:"EA",templateUrl:"ui/directive/kityminderViewer/kityminderViewer.html",replace:!0,scope:{onInit:"&"},link:function(e,t,n){var i,r,o=t.children(".minder-viewer")[0];if(window.kityminder&&window.kityminder.Editor){var a=new kityminder.Editor(o);window.editor=e.editor=a,window.minder=e.minder=a.minder,r=(i=a).minder,e.onInit({editor:i,minder:r}),l.executeCallback()}}}}]),angular.module("kityminderEditor").directive("layout",function(){return{restrict:"E",templateUrl:"ui/directive/layout/layout.html",scope:{minder:"="},replace:!0,link:function(e){}}}),angular.module("kityminderEditor").directive("navigator",["memory","config",function(g,f){return{restrict:"A",templateUrl:"ui/directive/navigator/navigator.html",scope:{minder:"="},link:function(n){function e(){minder.on("layout layoutallfinish",m),minder.on("viewchange",p)}function t(){minder.off("layout layoutallfinish",m),minder.off("viewchange",p)}minder.setDefaultOptions({zoom:f.get("zoom")}),n.isNavOpen=!g.get("navigator-hidden"),n.getZoomRadio=function(e){var t=minder.getOption("zoom"),n=t[0];return 1-(e-n)/(t[t.length-1]-n)},n.getHeight=function(e){var t=$(".zoom-pan").height();return n.getZoomRadio(e)*t},n.zoom=100,minder.on("zoom",function(e){n.zoom=e.zoom}),n.toggleNavOpen=function(){n.isNavOpen=!n.isNavOpen,g.set("navigator-hidden",!n.isNavOpen),n.isNavOpen?(e(),m(),p()):t()},setTimeout(function(){n.isNavOpen?(e(),m(),p()):t()},0);var i=$(".nav-previewer"),r=new kity.Paper(i[0]),o=r.put(new kity.Path),a=r.put(new kity.Path),l=r.put(new kity.Rect(100,100).stroke("red","1%")),s=new kity.Box,c=new kity.Box,d=u(minder.getTheme());function u(e){switch(e){case"tianpan":case"tianpan-compact":return function(e,t,n,i,r){var o=i>>1;e.push("M",t,n+o,"a",o,o,0,1,1,0,.01,"z")};default:return function(e,t,n,i,r){e.push("M",t,n,"h",i,"v",r,"h",-i,"z")}}}function m(){var e=minder.getRenderContainer().getBoundaryBox();s=e;r.setViewBox(e.x-30-.5,e.y-30-.5,e.width+60+1,e.height+60+1);var n=[],i=[];minder.getRoot().traverse(function(e){var t=e.getLayoutBox();d(n,t.x,t.y,t.width,t.height),e.getConnection()&&e.parent&&e.parent.isExpanded()&&i.push(e.getConnection().getPathData())}),r.setStyle("background",minder.getStyle("background")),n.length?o.fill(minder.getStyle("root-background")).setPathData(n):o.setPathData(null),i.length?a.stroke(minder.getStyle("connect-color"),"0.5%").setPathData(i):a.setPathData(null),p()}function p(){c=minder.getViewDragger().getView(),l.setBox(c.intersect(s))}minder.on("themechange",function(e){d=u(e.theme)}),function(){function t(e,t){var n=c;e.x=-e.x,e.y=-e.y;var i=minder.getPaper().getViewPortMatrix();n=i.transformBox(n);var r=e.offset(n.width/2,n.height/2);minder.getViewDragger().moveTo(r,t)}var n=!1;r.on("mousedown",function(e){n=!0,t(e.getPosition("top"),200),i.addClass("grab")}),r.on("mousemove",function(e){n&&t(e.getPosition("top"))}),$(window).on("mouseup",function(){n=!1,i.removeClass("grab")})}()}}}]),angular.module("kityminderEditor").directive("noteBtn",["valueTransfer",function(t){return{restrict:"E",templateUrl:"ui/directive/noteBtn/noteBtn.html",scope:{minder:"="},replace:!0,link:function(e){e.minder;e.addNote=function(){t.noteEditorOpen=!0}}}}]),angular.module("kityminderEditor").directive("noteEditor",["valueTransfer",function(a){return{restrict:"A",templateUrl:"ui/directive/noteEditor/noteEditor.html",scope:{minder:"="},replace:!0,controller:["$scope",function(n){var i,r=n.minder,o=!1;n.codemirrorLoaded=function(e){i=n.cmEditor=e,e.setSize("100%","100%")},n.$watch("noteContent",function(e){var t=-1!=r.queryCommandState("note");e&&t&&!o&&r.execCommand("note",e),setTimeout(function(){i.refresh()})});n.$watch(function(){return a.noteEditorOpen},function(e,t){e&&setTimeout(function(){i.refresh(),i.focus()}),n.noteEditorOpen=a.noteEditorOpen},!0),n.closeNoteEditor=function(){a.noteEditorOpen=!1,editor.receiver.selectAll()},r.on("interactchange",function(){var e=n.noteEnabled=-1!=r.queryCommandState("note"),t=r.queryCommandValue("note")||"";e&&(n.noteContent=t),o=!0,n.$apply(),o=!1})}]}}]),angular.module("kityminderEditor").directive("notePreviewer",["$sce","valueTransfer",function(v,e){return{restrict:"A",templateUrl:"ui/directive/notePreviewer/notePreviewer.html",link:function(m,e){var t,n=m.minder,p=e.parent(),g=e.children();m.showNotePreviewer=!1,marked.setOptions({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),n.on("shownoterequest",function(e){t=setTimeout(function(){!function(e,t){var n=e.getRenderer("NoteIconRenderer").getRenderShape().getRenderBox("screen"),i=e.getData("note");g[0].scrollTop=0;var r=marked(i);t&&(r=r.replace(new RegExp("("+t+")","ig"),'<span class="highlight">$1</span>'));m.noteContent=v.trustAsHtml(r),m.$apply();var o=$(p[0]).width(),a=$(p[0]).height(),l=$(g).outerWidth(),s=$(g).outerHeight(),c=n.cx-l/2-p[0].offsetLeft,d=n.bottom+10-p[0].offsetTop;c<0&&(c=10);o<c+l&&(c=n.left-l-10-p[0].offsetLeft);a<d+s&&(d=n.top-s-10-p[0].offsetTop);m.previewerStyle={left:Math.round(c)+"px",top:Math.round(d)+"px"},m.showNotePreviewer=!0;var u=g[0].querySelector(".highlight");u&&u.scrollIntoView();f=!0,m.$apply()}(e.node,e.keyword)},300)}),n.on("hidenoterequest",function(){clearTimeout(t),m.showNotePreviewer=!1});var f=!1;$(document).on("mousedown mousewheel DOMMouseScroll",function(){f&&(m.showNotePreviewer=!1,m.$apply())}),e.on("mousedown mousewheel DOMMouseScroll",function(e){e.stopPropagation()})}}}]),angular.module("kityminderEditor").directive("operation",function(){return{restrict:"E",templateUrl:"ui/directive/operation/operation.html",scope:{minder:"="},replace:!0,link:function(e){e.editNode=function(){var e=editor.receiver.element,t=editor.fsm,n=editor.receiver;e.innerText=minder.queryCommandValue("text"),t.jump("input","input-request"),n.selectAll()}}}}),angular.module("kityminderEditor").directive("priorityEditor",["commandBinder",function(r){return{restrict:"E",templateUrl:"ui/directive/priorityEditor/priorityEditor.html",scope:{minder:"="},replace:!0,link:function(e){for(var t=e.minder,n=[],i=0;i<10;i++)n.push(i);r.bind(t,"priority",e),e.priorities=n,e.getPriorityTitle=function(e){switch(e){case 0:return"移除优先级";default:return"优先级"+e}}}}}]),angular.module("kityminderEditor").directive("progressEditor",["commandBinder",function(r){return{restrict:"E",templateUrl:"ui/directive/progressEditor/progressEditor.html",scope:{minder:"="},replace:!0,link:function(e){for(var t=e.minder,n=[],i=0;i<10;i++)n.push(i);r.bind(t,"progress",e),e.progresses=n,e.getProgressTitle=function(e){switch(e){case 0:return"移除进度";case 1:return"未开始";case 9:return"全部完成";default:return"完成"+(e-1)+"/8"}}}}}]),angular.module("kityminderEditor").directive("resourceEditor",function(){return{restrict:"E",templateUrl:"ui/directive/resourceEditor/resourceEditor.html",scope:{minder:"="},replace:!0,controller:["$scope",function(n){var i=n.minder,r=!1;i.on("interactchange",function(){var t=(n.enabled=-1!=i.queryCommandState("resource"))?i.queryCommandValue("resource"):[],e=i.getUsedResource().map(function(e){return{name:e,selected:-1<t.indexOf(e)}});n.used=e,r=!0,n.$apply(),r=!1}),n.$watch("used",function(e){if(-1!=i.queryCommandState("resource")&&e){var t=e.filter(function(e){return e.selected}).map(function(e){return e.name});if(r)return;i.execCommand("resource",t)}},!0),n.resourceColor=function(e){return i.getResourceColor(e).toHEX()},n.addResource=function(e){var t=i.queryCommandValue("resource");e&&/\S/.test(e)&&(-1==t.indexOf(e)&&n.used.push({name:e,selected:!0}),n.newResourceName=null)}}]}}).directive("clickAnywhereButHere",["$document",function(o){return{link:function(i,e,r){var n=function(e){var t=0<$("#resource-dropdown").has(e.target).length,n=$("#resource-dropdown")==e.target;t||n||i.$apply(r.clickAnywhereButHere)};i.$watch(r.isActive,function(e,t){e!==t&&1==e?o.bind("click",n):e!==t&&0==e&&o.unbind("click",n)})}}}]),angular.module("kityminderEditor").directive("searchBox",function(){return{restrict:"A",templateUrl:"ui/directive/searchBox/searchBox.html",scope:{minder:"="},replace:!0,controller:["$scope",function(a){var l=a.minder,e=window.editor;function n(){$("#search-input").blur(),a.showSearch=!1,l.fire("hidenoterequest"),e.receiver.selectAll()}function t(){a.showSearch=!0,setTimeout(function(){$("#search-input").focus()},10),a.keyword&&$("#search-input")[0].setSelectionRange(0,a.keyword.length)}a.handleKeyDown=function(e){if(13==e.keyCode){var t=e.shiftKey?"prev":"next";d(a.keyword,t)}27==e.keyCode&&n()},a.doSearch=d,a.exitSearch=n,a.showTip=!1,a.showSearch=!1,$("body").on("keydown",function(e){70!=e.keyCode||!e.ctrlKey&&!e.metaKey||e.shiftKey||(t(),a.$apply(),e.preventDefault())}),l.on("searchNode",function(){t()});var s=[],c=[];function i(){s=[],l.getRoot().traverse(function(e){s.push(e)})}function d(e,t){if(a.showTip=!1,l.fire("hidenoterequest"),e&&/\S/.exec(e)){a.showTip=!0,a.curIndex=0,a.resultNum=0,e=e.toLowerCase();var n,i,r=d.lastKeyword!=e;if(d.lastKeyword=e,r&&function(e){c=[];for(var t=0;t<s.length;t++){var n=s[t];-1!=n.getText().toLowerCase().indexOf(e)&&c.push({node:n});var i=n.getData("note");i&&-1!=i.toLowerCase().indexOf(e)&&c.push({node:n,keyword:e})}}(e),a.resultNum=c.length,c.length){var o=r?0:("next"===t?d.lastIndex+1:d.lastIndex-1)||0;o=(c.length+o)%c.length,n=c[o].node,i=c[o].keyword,l.execCommand("camera",n,50),setTimeout(function(){l.select(n,!0),n.isExpanded()||l.execCommand("expand",!0),i&&l.fire("shownoterequest",{node:n,keyword:i})},60),d.lastIndex=o,a.curIndex=o+1}}else $("#search-input").focus()}l.on("contentchange",i),i()}]}}),angular.module("kityminderEditor").directive("searchBtn",function(){return{restrict:"E",templateUrl:"ui/directive/searchBtn/searchBtn.html",scope:{minder:"="},replace:!0,link:function(e){e.enterSearch=function(){minder.fire("searchNode")}}}}),angular.module("kityminderEditor").directive("selectAll",function(){return{restrict:"E",templateUrl:"ui/directive/selectAll/selectAll.html",scope:{minder:"="},replace:!0,link:function(e){var i=e.minder;e.items=["revert","siblings","level","path","tree"],e.select={all:function(){var t=[];i.getRoot().traverse(function(e){t.push(e)}),i.select(t,!0),i.fire("receiverfocus")},revert:function(){var t=i.getSelectedNodes(),n=[];i.getRoot().traverse(function(e){-1==t.indexOf(e)&&n.push(e)}),i.select(n,!0),i.fire("receiverfocus")},siblings:function(){var e=i.getSelectedNodes(),t=[];e.forEach(function(e){e.parent&&e.parent.children.forEach(function(e){-1==t.indexOf(e)&&t.push(e)})}),i.select(t,!0),i.fire("receiverfocus")},level:function(){var t=i.getSelectedNodes().map(function(e){return e.getLevel()}),n=[];i.getRoot().traverse(function(e){-1!=t.indexOf(e.getLevel())&&n.push(e)}),i.select(n,!0),i.fire("receiverfocus")},path:function(){var e=i.getSelectedNodes(),t=[];e.forEach(function(e){for(;e&&-1==t.indexOf(e);)t.push(e),e=e.parent}),i.select(t,!0),i.fire("receiverfocus")},tree:function(){var e=i.getSelectedNodes(),t=[];e.forEach(function(e){e.traverse(function(e){-1==t.indexOf(e)&&t.push(e)})}),i.select(t,!0),i.fire("receiverfocus")}}}}}),angular.module("kityminderEditor").directive("styleOperator",function(){return{restrict:"E",templateUrl:"ui/directive/styleOperator/styleOperator.html",scope:{minder:"="},replace:!0}}),angular.module("kityminderEditor").directive("templateList",function(){return{restrict:"E",templateUrl:"ui/directive/templateList/templateList.html",scope:{minder:"="},replace:!0,link:function(e){e.templateList=kityminder.Minder.getTemplateList()}}}),angular.module("kityminderEditor").directive("themeList",function(){return{restrict:"E",templateUrl:"ui/directive/themeList/themeList.html",replace:!0,link:function(e){var i=kityminder.Minder.getThemeList();e.getThemeThumbStyle=function(e){var t=i[e];if(t){var n={color:t["root-color"],"border-radius":t["root-radius"]/2};return t["root-background"]&&(n.background=t["root-background"].toString()),n}},e.themeKeyList=["classic","classic-compact","fresh-blue","fresh-blue-compat","fresh-green","fresh-green-compat","fresh-pink","fresh-pink-compat","fresh-purple","fresh-purple-compat","fresh-red","fresh-red-compat","fresh-soil","fresh-soil-compat","snow","snow-compact","tianpan","tianpan-compact","fish","wire"]}}}),angular.module("kityminderEditor").directive("topTab",function(){return{restrict:"A",templateUrl:"ui/directive/topTab/topTab.html",scope:{minder:"=topTab",editor:"="},link:function(e){var r=!1,o=!0,a=!0;e.setCurTab=function(e){setTimeout(function(){r=!0,"idea"!=e&&(o=!1)})},e.toggleTopTab=function(){setTimeout(function(){var e,t,n,i;r&&!o||(o=!1,a?(n=$(".tab-content"),i=$(".minder-editor"),n.animate({height:0,display:"none"}),i.animate({top:"32px"})):(e=$(".tab-content"),t=$(".minder-editor"),e.animate({height:"60px",display:"block"}),t.animate({top:"92px"})),a=!a),r=!1})}}}}),angular.module("kityminderEditor").directive("undoRedo",function(){return{restrict:"E",templateUrl:"ui/directive/undoRedo/undoRedo.html",scope:{editor:"="},replace:!0,link:function(e){}}}),e="expose-editor",d.r([t[e]])}();
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.page=t()})(this,function(){"use strict";function c(n){for(var r=[],c=0,u=0,i="",t;(t=ut.exec(n))!=null;){var l=t[0],e=t[1],o=t.index;if(i+=n.slice(u,o),u=o+l.length,e){i+=e[1];continue}i&&(r.push(i),i="");var s=t[2],a=t[3],v=t[4],y=t[5],f=t[6],p=t[7],w=f==="+"||f==="*",b=f==="?"||f==="*",h=s||"/",k=v||y||(p?".*":"[^"+h+"]+?");r.push({name:a||c++,prefix:s||"",delimiter:h,optional:b,repeat:w,pattern:et(k)})}return u<n.length&&(i+=n.substr(u)),i&&r.push(i),r}function ft(n){return y(c(n))}function y(n){for(var i=new Array(n.length),t=0;t<n.length;t++)typeof n[t]=="object"&&(i[t]=new RegExp("^"+n[t].pattern+"$"));return function(t){for(var r,u,f,o,s="",c=t||{},e=0;e<n.length;e++){if(r=n[e],typeof r=="string"){s+=r;continue}if(u=c[r.name],u==null)if(r.optional)continue;else throw new TypeError('Expected "'+r.name+'" to be defined');if(h(u)){if(!r.repeat)throw new TypeError('Expected "'+r.name+'" to not repeat, but received "'+u+'"');if(u.length===0)if(r.optional)continue;else throw new TypeError('Expected "'+r.name+'" to not be empty');for(o=0;o<u.length;o++){if(f=encodeURIComponent(u[o]),!i[e].test(f))throw new TypeError('Expected all "'+r.name+'" to match "'+r.pattern+'", but received "'+f+'"');s+=(o===0?r.prefix:r.delimiter)+f}continue}if(f=encodeURIComponent(u),!i[e].test(f))throw new TypeError('Expected "'+r.name+'" to match "'+r.pattern+'", but received "'+f+'"');s+=r.prefix+f}return s}}function p(n){return n.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function et(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function l(n,t){return n.keys=t,n}function w(n){return n.sensitive?"":"i"}function ot(n,t){var r=n.source.match(/\((?!\?)/g),i;if(r)for(i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(n,t)}function st(n,t,i){for(var f,u=[],r=0;r<n.length;r++)u.push(k(n[r],t,i).source);return f=new RegExp("(?:"+u.join("|")+")",w(i)),l(f,t)}function ht(n,t,i){for(var r=c(n),f=b(r,i),u=0;u<r.length;u++)typeof r[u]!="string"&&t.push(r[u]);return l(f,t)}function b(n,t){var e,u,f,i;t=t||{};var o=t.strict,c=t.end!==!1,r="",s=n[n.length-1],h=typeof s=="string"&&/\/$/.test(s);for(e=0;e<n.length;e++)u=n[e],typeof u=="string"?r+=p(u):(f=p(u.prefix),i=u.pattern,u.repeat&&(i+="(?:"+f+i+")*"),i=u.optional?f?"(?:"+f+"("+i+"))?":"("+i+")?":f+"("+i+")",r+=i);return o||(r=(h?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=c?"$":o&&h?"":"(?=\\/|$)",new RegExp("^"+r,w(t))}function k(n,t,i){return(t=t||[],h(t)?i||(i={}):(i=t,t=[]),n instanceof RegExp)?ot(n,t,i):h(n)?st(n,t,i):ht(n,t,i)}function n(){this.callbacks=[];this.exits=[];this.current="";this.len=0;this._decodeURLComponents=!0;this._base="";this._strict=!1;this._running=!1;this._hashbang=!1;this.clickHandler=this.clickHandler.bind(this);this._onpopstate=this._onpopstate.bind(this)}function d(){function i(){return s.apply(t,arguments)}var t=new n;return i.callbacks=t.callbacks,i.exits=t.exits,i.base=t.base.bind(t),i.strict=t.strict.bind(t),i.start=t.start.bind(t),i.stop=t.stop.bind(t),i.show=t.show.bind(t),i.back=t.back.bind(t),i.redirect=t.redirect.bind(t),i.replace=t.replace.bind(t),i.dispatch=t.dispatch.bind(t),i.exit=t.exit.bind(t),i.configure=t.configure.bind(t),i.sameOrigin=t.sameOrigin.bind(t),i.clickHandler=t.clickHandler.bind(t),i.create=d,Object.defineProperty(i,"len",{get:function(){return t.len},set:function(n){t.len=n}}),Object.defineProperty(i,"current",{get:function(){return t.current},set:function(n){t.current=n}}),i.Context=f,i.Route=e,i}function s(n,t){var r,i;if("function"==typeof n)return s.call(this,"*",n);if("function"==typeof t)for(r=new e(n,null,this),i=1;i<arguments.length;++i)this.callbacks.push(r.middleware(arguments[i]));else"string"==typeof n?this["string"==typeof t?"redirect":"show"](n,t):this.start(n)}function lt(n){if(!n.handled){var u,r=this,t=r._window;(u=r._hashbang?i&&this._getBase()+t.location.hash.replace("#!",""):i&&t.location.pathname+t.location.search,u!==n.canonicalPath)&&(r.stop(),n.handled=!1,i&&(t.location.href=n.canonicalPath))}}function at(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(n,t,i){var u=this.page=i||s,l=u._window,e=u._hashbang,o=u._getBase(),f,c,h;if("/"===n[0]&&0!==n.indexOf(o)&&(n=o+(e?"#!":"")+n),f=n.indexOf("?"),this.canonicalPath=n,c=new RegExp("^"+at(o)),this.path=n.replace(c,"")||"/",e&&(this.path=this.path.replace("#!","")||"/"),this.title=r&&l.document.title,this.state=t||{},this.state.path=n,this.querystring=~f?u._decodeURLEncodedURIComponent(n.slice(f+1)):"",this.pathname=u._decodeURLEncodedURIComponent(~f?n.slice(0,f):n),this.params={},this.hash="",!e){if(!~this.path.indexOf("#"))return;h=this.path.split("#");this.path=this.pathname=h[0];this.hash=u._decodeURLEncodedURIComponent(h[1])||"";this.querystring=this.querystring.split("#")[0]}}function e(n,t,i){var f=this.page=i||v,r=t||{};r.strict=r.strict||i._strict;this.path=n==="*"?"(.*)":n;this.method="GET";this.regexp=u(this.path,this.keys=[],r)}var h=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},u=k,nt=c,tt=ft,it=y,rt=b,ut=new RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))","g");u.parse=nt;u.compile=tt;u.tokensToFunction=it;u.tokensToRegExp=rt;var r="undefined"!=typeof document,t="undefined"!=typeof window,o="undefined"!=typeof history,ct=typeof process!="undefined",a=r&&document.ontouchstart?"touchstart":"click",i=t&&!!(window.history.location||window.location);n.prototype.configure=function(n){var u=n||{},i;this._window=u.window||t&&window;this._decodeURLComponents=u.decodeURLComponents!==!1;this._popstate=u.popstate!==!1&&t;this._click=u.click!==!1&&r;this._hashbang=!!u.hashbang;i=this._window;this._popstate?i.addEventListener("popstate",this._onpopstate,!1):t&&i.removeEventListener("popstate",this._onpopstate,!1);this._click?i.document.addEventListener(a,this.clickHandler,!1):r&&i.document.removeEventListener(a,this.clickHandler,!1);this._hashbang&&t&&!o?i.addEventListener("hashchange",this._onpopstate,!1):t&&i.removeEventListener("hashchange",this._onpopstate,!1)};n.prototype.base=function(n){if(0===arguments.length)return this._base;this._base=n};n.prototype._getBase=function(){var n=this._base,i;return!n?(i=t&&this._window&&this._window.location,t&&this._hashbang&&i&&i.protocol==="file:"&&(n=i.pathname),n):n};n.prototype.strict=function(n){if(0===arguments.length)return this._strict;this._strict=n};n.prototype.start=function(n){var r=n||{},u,f,t;(this.configure(r),!1!==r.dispatch)&&(this._running=!0,i&&(f=this._window,t=f.location,u=this._hashbang&&~t.hash.indexOf("#!")?t.hash.substr(2)+t.search:this._hashbang?t.search+t.hash:t.pathname+t.search+t.hash),this.replace(u,null,!0,r.dispatch))};n.prototype.stop=function(){if(this._running){this.current="";this.len=0;this._running=!1;var n=this._window;this._click&&n.document.removeEventListener(a,this.clickHandler,!1);t&&n.removeEventListener("popstate",this._onpopstate,!1);t&&n.removeEventListener("hashchange",this._onpopstate,!1)}};n.prototype.show=function(n,t,i,r){var u=new f(n,t,this),e=this.prevContext;return this.prevContext=u,this.current=u.path,!1!==i&&this.dispatch(u,e),!1!==u.handled&&!1!==r&&u.pushState(),u};n.prototype.back=function(n,t){var i=this,r;this.len>0?(r=this._window,o&&r.history.back(),this.len--):n?setTimeout(function(){i.show(n,t)}):setTimeout(function(){i.show(i._getBase(),t)})};n.prototype.redirect=function(n,t){var i=this;"string"==typeof n&&"string"==typeof t&&s.call(this,n,function(){setTimeout(function(){i.replace(t)},0)});"string"==typeof n&&"undefined"==typeof t&&setTimeout(function(){i.replace(n)},0)};n.prototype.replace=function(n,t,i,r){var u=new f(n,t,this),e=this.prevContext;return this.prevContext=u,this.current=u.path,u.init=i,u.save(),!1!==r&&this.dispatch(u,e),u};n.prototype.dispatch=function(n,t){function u(){var n=i.exits[e++];if(!n)return r();n(t,u)}function r(){var t=i.callbacks[f++];if(n.path!==i.current){n.handled=!1;return}if(!t)return lt.call(i,n);t(n,r)}var f=0,e=0,i=this;t?u():r()};n.prototype.exit=function(n){var i,t;if(typeof n=="function")return this.exit("*",n);for(i=new e(n,null,this),t=1;t<arguments.length;++t)this.exits.push(i.middleware(arguments[t]))};n.prototype.clickHandler=function(n){var t,u,f,e,o,r,h,s;if(1===this._which(n)&&!n.metaKey&&!n.ctrlKey&&!n.shiftKey&&!n.defaultPrevented){if(t=n.target,u=n.path||(n.composedPath?n.composedPath():null),u)for(f=0;f<u.length;f++)if(u[f].nodeName&&u[f].nodeName.toUpperCase()==="A"&&u[f].href){t=u[f];break}while(t&&"A"!==t.nodeName.toUpperCase())t=t.parentNode;t&&"A"===t.nodeName.toUpperCase()&&((e=typeof t.href=="object"&&t.href.constructor.name==="SVGAnimatedString",t.hasAttribute("download")||t.getAttribute("rel")==="external")||(o=t.getAttribute("href"),!this._hashbang&&this._samePath(t)&&(t.hash||"#"===o))||o&&o.indexOf("mailto:")>-1||(e?t.target.baseVal:t.target)||(e||this.sameOrigin(t.href))&&(r=e?t.href.baseVal:t.pathname+t.search+(t.hash||""),r=r[0]!=="/"?"/"+r:r,ct&&r.match(/^\/[a-zA-Z]:\//)&&(r=r.replace(/^\/[a-zA-Z]:\//,"/")),h=r,s=this._getBase(),r.indexOf(s)===0&&(r=r.substr(s.length)),this._hashbang&&(r=r.replace("#!","")),!s||h!==r||i&&this._window.location.protocol==="file:")&&(n.preventDefault(),this.show(h)))}};n.prototype._onpopstate=function(){var n=!1;return t?(r&&document.readyState==="complete"?n=!0:window.addEventListener("load",function(){setTimeout(function(){n=!0},0)}),function(t){var r,f,u;n&&(r=this,t.state?(f=t.state.path,r.replace(f,t.state)):i&&(u=r._window.location,r.show(u.pathname+u.search+u.hash,undefined,undefined,!1)))}):function(){}}();n.prototype._which=function(n){return n=n||t&&this._window.event,null==n.which?n.button:n.which};n.prototype._toURL=function(n){var u=this._window,t;return typeof URL=="function"&&i?new URL(n,u.location.toString()):r?(t=u.document.createElement("a"),t.href=n,t):void 0};n.prototype.sameOrigin=function(n){if(!n||!i)return!1;var t=this._toURL(n),u=this._window,r=u.location;return r.protocol===t.protocol&&r.hostname===t.hostname&&r.port===t.port};n.prototype._samePath=function(n){if(!i)return!1;var r=this._window,t=r.location;return n.pathname===t.pathname&&n.search===t.search};n.prototype._decodeURLEncodedURIComponent=function(n){return typeof n!="string"?n:this._decodeURLComponents?decodeURIComponent(n.replace(/\+/g," ")):n};f.prototype.pushState=function(){var n=this.page,t=n._window,i=n._hashbang;n.len++;o&&t.history.pushState(this.state,this.title,i&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};f.prototype.save=function(){var n=this.page;o&&n._window.history.replaceState(this.state,this.title,n._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};e.prototype.middleware=function(n){var t=this;return function(i,r){if(t.match(i.path,i.params))return n(i,r);r()}};e.prototype.match=function(n,t){var s=this.keys,e=n.indexOf("?"),h=~e?n.slice(0,e):n,r=this.regexp.exec(decodeURIComponent(h)),i,o,u,f;if(!r)return!1;for(i=1,o=r.length;i<o;++i)u=s[i-1],f=this.page._decodeURLEncodedURIComponent(r[i]),f===undefined&&hasOwnProperty.call(t,u.name)||(t[u.name]=f);return!0};var v=d(),g=v,vt=v;return g.default=vt,g});
